{"version":3,"sources":["uni-app:///components/u-charts/u-charts.js","uni-app:///components/QS-SharePoster/app.js","uni-app:///components/QS-SharePoster/QS-SharePoster.js","uni-app:///components/QS-SharePoster/QRCodeAlg.js","uni-app:///components/QS-SharePoster/image-tools.js","uni-app:///components/u-charts/checker.js","uni-app:///common/geocode-utils.js","uni-app:///common/qqmap-wx-jssdk.js","uni-app:///common/amap-wx.js","uni-app:///common/uiImg.js"],"names":["config","yAxisWidth","yAxisSplit","xAxisHeight","xAxisLineHeight","legendHeight","yAxisTitleWidth","padding","pixelRatio","rotate","columePadding","fontSize","dataPointShape","colors","pieChartLinePadding","pieChartTextPadding","xAxisTextPadding","titleColor","titleFontSize","subtitleColor","subtitleFontSize","toolTipPadding","toolTipBackground","toolTipOpacity","toolTipLineHeight","radarLabelTextMargin","gaugeLabelTextMargin","assign","target","varArgs","TypeError","length","deepAssign","obj1","obj2","key","toString","forEach","val","util","toFixed","num","limit","isFloat","approximatelyEqual","num1","num2","Math","abs","isSameSign","isSameXCoordinateArea","p1","p2","x","isCollision","end","start","width","y","height","flag","getH5Offset","e","mp","changedTouches","push","offsetX","offsetY","hexToRgb","hexValue","opc","rgx","hex","replace","m","r","g","b","rgb","exec","parseInt","findRange","type","isNaN","Error","multiple","ceil","floor","calCandleMA","dayArr","nameArr","colorArr","kdata","seriesTemp","k","seriesItem","data","name","color","i","len","sum","j","calValidDistance","self","distance","chartData","opts","dataChartAreaWidth","area","dataChartWidth","eachSpacing","xAxisData","xAxisPoints","validDistance","event","trigger","isInAngleRange","angle","startAngle","endAngle","adjust","PI","calRotateTranslate","h","xv","yv","transX","sqrt","transY","createCurveControlPoints","points","isNotMiddlePoint","max","min","isNotMiddlePointX","a","pAx","pAy","pBx","pBy","last","ctrA","ctrB","convertCoordinateOrigin","center","avoidCollision","obj","fillSeries","series","index","map","item","show","pointShape","legendShape","getDataRange","minData","maxData","range","minRange","maxRange","measureText","text","arguments","undefined","String","split","test","dataCombine","reduce","concat","dataCombineStack","Array","getTouches","touches","clientX","pageY","currentTarget","offsetTop","getSeriesDataItem","style","disableLegend","format","getMaxTextListLength","list","lengthList","apply","getRadarCoordinateSeries","eachAngle","CoordinateSeries","getToolTipData","seriesData","calPoints","categories","option","textList","titleText","validCalPoints","offset","round","getMixToolTipData","filter","getCandleToolTipData","extra","upColor","upFill","downColor","downFill","text0","text1","text2","text3","text4","filterSeries","tempSeries","findCurrentIndex","currentPoints","currentIndex","spacing","xAxis","boundaryGap","isInExactChartArea","findLegendIndex","legendData","isInExactLegendArea","findRadarChartCurrentIndex","radarData","count","eachAngleArea","isInExactPieChartArea","radius","fixAngle","atan2","angleList","rangeStart","rangeEnd","findFunnelChartCurrentIndex","funnelData","funnelArea","findWordChartCurrentIndex","wordData","findMapChartCurrentIndex","cData","mapData","tmp","pointToCoordinate","bounds","scale","xoffset","yoffset","poi","geometry","coordinates","isPoiWithinPoly","findPieChartCurrentIndex","pieData","_start_","_proportion_","pow","splitPoints","newPoints","items","calLegendData","wholeWidth","wholeHeight","widthArr","heightArr","legend","margin","shapeWidth","shapeRight","lineHeight","position","legendList","widthCount","widthCountArr","currentRow","itemWidth","itemGap","legendWidth","float","maxHeight","maxLength","lineNum","temp","slice","maxWidth","calCategoriesData","result","categoriesTextLenth","maxTextLength","rotateLabel","sin","getXAxisTextList","sorted","constructor","indexOf","value","subitem","rangeSpan","eachRange","splitNumber","calXAxisData","ranges","rangesFormat","xAxisScaleValues","Number","Object","getXAxisPoints","textLength","disabled","getRadarDataPoints","process","radarOption","radar","each","listItem","proportion","cos","getPieDataPoints","_radius_","getFunnelDataPoints","sort","reverse","getRoseDataPoints","minRadius","dataArr","radiusLength","_rose_proportion_","getArcbarDataPoints","arcbarOption","totalAngle","getGaugeAxisPoints","tempStartAngle","_startAngle_","_endAngle_","getGaugeDataPoints","gaugeOption","pointer","_oldAngle_","oldAngle","oldData","getPieTextMaxLength","fixColumeData","columnLen","column","fixColumeMeterData","border","fixColumeStackData","indexn","spacingValid","dataCount","enableScroll","itemCount","startX","endX","getCandleDataPoints","validHeight","cPoints","indexs","point","getDataPoints","validWidth","xranges","xminRange","xmaxRange","shift","pop","getStackDataPoints","seriesIndex","stackSeries","value0","height0","heightc","y0","getYAxisTextList","stack","yAxis","dataRange","calYAxisData","columnstyle","YLength","newSeries","rangesArr","rangesFormatArr","yAxisWidthArr","yData","yAxisFontSizes","calibration","yAxisFontSize","calTooltipYAxisData","yAxisData","minAxis","maxVal","minVal","calMarkLineData","yAxisIndex","contextRotate","context","rotateLock","translate","_rotate_","drawPointShape","shape","beginPath","dataPointShapeType","setStrokeStyle","setFillStyle","background","setLineWidth","moveTo","lineTo","arc","rect","closePath","fill","stroke","drawRingTitle","titlefontSize","title","subtitlefontSize","subtitle","titleFontColor","subtitleFontColor","titleHeight","subtitleHeight","textWidth","startY","setFontSize","fillText","_textWidth","_startX","_startY","drawPointText","textSize","textColor","formatVal","drawGaugeLabel","centerPosition","splitAngle","splitLine","totalNumber","endNumber","startNumber","nowAngle","nowNumber","pos","labelText","labelFormat","labelColor","drawRadarLabel","posRelativeCanvas","drawPieText","lineRadius","textObjectCollection","lastTextObject","seriesConvert","orginX1","orginY1","orginX2","orginY2","orginX3","orginY3","textObject","lineStart","lineEnd","lineStartPoistion","lineEndPoistion","textPosition","curveStartX","textStartX","quadraticCurveTo","drawToolTipSplitLine","toolTipOption","tooltip","gridType","dashLength","endY","setLineDash","gridColor","xAxisLabel","textX","textY","labelBgColor","labelBgOpacity","labelFontColor","fontColor","drawMarkLine","markLineOption","markLine","lineColor","showLabel","bgStartX","bgEndX","bgWidth","drawToolTipHorizentalLine","yAxisLabel","tStartLeft","tStartRight","drawToolTipSplitArea","activeBgColor","activeBgOpacity","drawToolTip","showBox","bgColor","bgOpacity","legendMarginRight","arrowWidth","isOverRightBorder","toolTipWidth","toolTipHeight","_scrollDistance_","fillRect","drawYAxisTitle","save","restore","drawColumnDataPoints","columnOption","meter","fillColor","leftNum","rightNum","eachSeries","tooltipPoints","dataLabel","drawCandleDataPoints","seriesMA","candleOption","average","candle","upLine","downLine","day","leftSpace","rightSpace","splitPointList","startPoint","ctrlPoint","bezierCurveTo","drawAreaDataPoints","areaOption","opacity","addLine","gradient","createLinearGradient","addColorStop","firstPoint","lastPoint","lineType","drawLineDataPoints","lineOption","line","drawMixDataPoints","columnIndex","columnLength","addPoint","drawToolTipBridge","horizentalLine","drawXAxis","scrollShow","scrollY","scrollScreenWidth","scrollTotalWidth","scrollWidth","scrollLeft","setLineCap","scrollBackgroundColor","scrollColor","disableGrid","gridEval","maxXAxisListLength","labelCount","ratio","newCategories","cgLength","xAxisFontSize","_xAxisTextAngle_","scrollHeight","_calRotateTranslate","axisLine","axisLineColor","drawYAxisGrid","xAxiseachSpacing","TotalWidth","drawYAxis","fillEndY","showTitle","drawLegend","legendArea","borderWidth","borderColor","backgroundColor","itemList","listIndex","hiddenColor","fontTrans","drawPieDataPoints","pieOption","activeOpacity","activeRadius","offsetAngle","labelWidth","ringWidth","pie","_pieTextMaxLength_","lineJoin","innerPieWidth","valid","drawRoseDataPoints","roseOption","rose","drawArcbarDataPoints","gap","arcbar","drawGaugeDataPoints","fixRadius","childNumber","childWidth","gauge","innerRadius","pieRadius","childAngle","proc","pointerRadius","gradient3","eachCategories","childendX","drawRadarDataPoints","gridCount","coordinateAngle","_loop","startPos","radarDataPoints","normalInt","iter","arr","random","collisionNew","isIn","getBoundingBox","coords","xMin","xMax","yMin","yMax","coorda","longitude","latitude","coordinateToPoint","pointY","pointX","isRayIntersectsSegment","s_poi","e_poi","xseg","poly","sinsc","epoly","drawMapDataPoints","mapOption","fillOpacity","activeBorderColor","activeFillColor","activeFillOpacity","xScale","yScale","clearRect","centerPoint","properties","centroid","draw","getWordCloudPoint","tHeight","tWidth","breaknum","Spin","isSpin","areav","drawWordCloudDataPoints","wordOption","autoColors","word","wordCloudData","strokeText","drawFunnelDataPoints","funnelOption","activeWidth","labelAlign","funnel","drawFunnelText","drawCanvas","Timing","easeIn","easeOut","easeInOut","linear","Animation","isStop","duration","timing","delay","createAnimationFrame","setTimeout","step","timeStamp","Date","requestAnimationFrame","animationFrame","startTimeStamp","_step","timestamp","onProcess","onAnimationFinish","timingFunction","bind","prototype","stop","drawCharts","_this","animation","animationInstance","_series_","_calLegendData","_calYAxisData","maxTitleHeight","rightIndex","leftIndex","_calCategoriesData","categoriesData","scrollAlign","offsetLeft","totalWidth","screenWidth","scrollOption","currentOffset","startTouchX","lastMoveTime","updateData","_drawLineDataPoints","enableMarkLine","_drawMixDataPoints","_drawColumnDataPoints","_drawAreaDataPoints","arcbarData","gaugeData","_drawCandleDataPoints","Event","events","addEventListener","listener","_len","args","_key","params","console","error","Charts","config$$1","JSON","parse","stringify","tempWidth","tempHeight","$this","uni","createCanvasContext","canvasId","call","scrollPosition","_getXAxisPoints0","zoom","log","centerLeft","MaxLeft","stopAnimation","getCurrentDataIndex","_touches$","getLegendDataIndex","touchLegend","showToolTip","_getToolTipData","_getMixToolTipData","scrollStart","scroll","now","Limit","touchMoveLimit","currMoveTime","_distance","scrollEnd","_scrollOption","module","exports","_app","t","showLoading","msg","ifmask","mask","hideLoading","showToast","icon","getPosterUrl","objs","backgroundImage","formData","Promise","rs","rj","image","shareTypeListSheetArray","array","isArray","arg","isObject","isPromise","then","isNull","isUndefined","isUndef","isNotNull_string","isFn","fn","getStorage","scb","fcb","success","res","fail","setStorage","setStorageSync","getStorageSync","clearStorageSync","removeStorageSync","getImageInfo","url","cb","checkMPUrl","src","err","downloadFile","downloadFile_PromiseFc","substring","tempFilePath","saveFile","downLoadAndSaveFile_PromiseFc","d_res","s_res","savedFilePath","checkFile_PromiseFc","getSavedFileList","d","fileList","findIndex","filePath","removeSavedFile","path","fileNameInPath","s","getImageInfo_PromiseFc","imgPath","previewImage","urls","actionSheet","sheetArray","showActionSheet","tapIndex","getProvider","sheet","service","provider","providers","payTypeArray","img","ShreUserPosterBackgroundKey","idKey","isMp","nbgScale","getSharePoster","resolve","reject","returnPromise","result1","bgScale","result2","posterCanvasId","reserve","textArray","drawArray","qrCodeArray","imagesArray","setCanvasWH","setCanvasToTempFilePath","setDraw","Context","delayTimeScale","drawDelayTime","bgObj","getShreUserPosterBackground","getBgObj","setBgObj","newBgObj","n","setImage","setText","hasAllInfoCallback","drawArrayItem","allInfoCallback","newData","drawArray_copy","a_serialNum","serialNum","NEGATIVE_INFINITY","b_serialNum","item_idKey","drawShareImage","poster","drawImage","drawText","drawQrCode","drawRoundStrokeRect","drawStrokeRect","drawFillRect","drawRoundFillRect","setObj","canvasToTempFilePathFn","destWidth","destHeight","quality","fileType","toTempFilePathObj","canvasToTempFilePath","delayTime","setGlobalAlpha","alpha","dx","dy","lineWidth","strokeRect","arcTo","texts","setTextFn","textItem","size","textAlign","textBaseline","countTextLength","infoCallBackObj","infoCallBack","l","substr","countL","countStrLength","images","rejcet","setImageFn","base64ToPathFn","reg","imgUrl","hasinfoCallBack","imageInfo","dWidth","dHeight","newArr","lineFeed","chr","row","allNum","str","drawTexts","setFont","font","fontStyle","fontVariant","fontWeight","fontFamily","trim","drawTextFn","setTextAlign","setTextBaseline","lineThrough","cap","mx","my","readyDrawImageFn","circleSet","drawCircleImage","roundRectSet","drawRoundRectImage","drawImageFn","hasAlpha","sx","sy","sWidth","sHeight","fillStyle","clip","qrCodeObj","qrcodeAlgObjCache","options","foreground","pdground","correctLevel","imageSize","qrCodeAlg","QRCodeAlg","getForeGround","col","getModuleCount","ratioSize","ratioImgSize","tileW","toPrecision","tileH","w","modules","drawRoundedRect","ctxi","getShreUserPosterBackgroundFc","getPosterStorage","getStorageKey","removePosterStorage","pbg","setPosterStorage","upimage","imageObj","returnObj","unicodeFormat8","code","c0","c1","c2","getUTF8Bytes","string","utf8codes","charCodeAt","utf8","errorCorrectLevel","typeNumber","moduleCount","dataCache","rsBlocks","totalDataCount","utf8bytes","make","getRightType","createData","createQrcode","makeImpl","maskPattern","setupPositionProbePattern","setupPositionAdjustPattern","setupTimingPattern","setupTypeInfo","setupTypeNumber","c","minLostPoint","pattern","bestModules","lostPoint","QRUtil","getLostPoint","getPatternPosition","bits","getBCHTypeNumber","mod","QRErrorCorrectLevel","getBCHTypeInfo","buffer","QRBitBuffer","lengthBits","put","putBit","PAD0","PAD1","createBytes","maxDcCount","maxEcCount","rsBlock","totalCount","dcdata","ecdata","dcCount","ecCount","rsPoly","getErrorCorrectPolynomial","rawPoly","QRPolynomial","getLength","modPoly","modIndex","get","inc","bitIndex","byteIndex","dark","getMask","QRMaskPattern","PATTERN000","PATTERN001","PATTERN010","PATTERN011","PATTERN100","PATTERN101","PATTERN110","PATTERN111","PATTERN_POSITION_TABLE","G15","G18","G15_MASK","getBCHDigit","digit","errorCorrectLength","multiply","QRMath","gexp","qrCode","darkCount","sameCount","head","current","glog","LOG_TABLE","EXP_TABLE","tl","el","RS_BLOCK_TABLE","lengthBytes","bufIndex","bit","getLocalFilePath","localFilePath","plus","io","convertAbsoluteFileSystem","pathToBase64","window","FileReader","xhr","XMLHttpRequest","open","responseType","onload","status","fileReader","onerror","readAsDataURL","response","send","canvas","document","createElement","c2x","getContext","Image","toDataURL","resolveLocalFileSystemURL","entry","file","wx","canIUse","getFileSystemManager","readFile","encoding","base64ToPath","base64","match","atob","Uint8Array","URL","webkitURL","createObjectURL","Blob","extName","fileName","bitmap","nativeObj","Bitmap","loadBase64Data","clear","env","USER_DATA_PATH","writeFile","isJSON","isNumber","checkVal","amapKey","tencentGeocode","lat","lon","callback","qqmapsdk","QQMapWX","location","reverseGeocoder","addressRes","address","getPoiAround","keywords","amapPlugin","AmapWX","AMapWX","querykeywords","info","amapGeocode","getRegeo","desc","ERROR_CONF","KEY_ERR","KEY_ERR_MSG","PARAM_ERR","PARAM_ERR_MSG","SYSTEM_ERR","SYSTEM_ERR_MSG","WX_ERR_CODE","WX_OK_CODE","BASE_URL","URL_SEARCH","URL_SUGGESTION","URL_GET_GEOCODER","URL_CITY_LIST","URL_AREA_LIST","URL_DISTANCE","URL_DIRECTION","MODE","driving","transit","EARTH_RADIUS","Utils","safeAdd","lsw","msw","bitRotateLeft","cnt","md5cmn","q","md5ff","md5gg","md5hh","md5ii","binlMD5","olda","oldb","oldc","oldd","binl2rstr","input","output","length32","fromCharCode","rstr2binl","length8","rstrMD5","rstrHMACMD5","bkey","ipad","opad","hash","rstr2hex","hexTab","charAt","str2rstrUTF8","unescape","encodeURIComponent","rawMD5","hexMD5","rawHMACMD5","hexHMACMD5","md5","raw","getSig","requestParam","sk","feature","mode","sig","requestArr","keys","join","location2query","query","lng","rad","getEndLocation","to","endLocation","parseFloat","getDistance","latFrom","lngFrom","latTo","lngTo","radLatFrom","radLatTo","asin","getWXLocation","complete","getLocation","getLocationParam","locationArr","polyfillParam","param","checkParamKeyEmpty","errconf","buildErrorConfig","checkKeyword","checkLocation","errCode","errMsg","message","handleData","searchResult","searchSimplify","id","category","tel","adcode","ad_info","city","district","province","suggestResult","suggestSimplify","reverseGeocoderResult","reverseGeocoderSimplify","address_component","nation","street","street_number","recommend","formatted_addresses","rough","pois","poisSimplify","geocoderResult","geocoderSimplify","address_components","level","provinceResult","cityResult","districtResult","districtByCity","calculateDistanceResult","elements","direction","routes","buildWxRequestConfig","that","header","method","statusCode","locationProcess","locationsuccess","locationfail","locationcomplete","keyword","orderby","page_size","page_index","address_format","auto_extend","region","rectangle","boundary","request","region_fix","policy","get_subpois","coord_type","get_poi","poi_options","from","locationTo","calculateResult","distanceResult","SET_URL_DIRECTION","from_poi","heading","speed","accuracy","road_type","to_poi","from_track","waypoints","plate_number","departure_time","requestConfig","platform","appname","sdkversion","logversion","getWxLocation","extensions","f","regeocode","addressComponent","roads","provice","streetNumber","number","iconPath","iconWidth","iconHeight","regeocodeData","infocode","getWeather","weather","temperature","winddirection","windpower","humidity","lives","forecasts","forecast","aois","querytypes","iconPathSelected","markers","poisData","getStaticmap","labels","paths","traffic","getInputtips","citylimit","tips","getDrivingRoute","origin","destination","strategy","avoidpolygons","avoidroad","route","taxi_cost","getWalkingRoute","getTransitRoute","cityd","transits","getRidingRoute","price","shop"],"mappings":"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","file":"tn_components/common/vendor.js","sourcesContent":["/*\n * uCharts v1.9.4.20200331\n * uni-app平台高性能跨全端图表，支持H5、APP、小程序（微信/支付宝/百度/头条/QQ/360）\n * Copyright (c) 2019 QIUN秋云 https://www.ucharts.cn All rights reserved.\n * Licensed ( http://www.apache.org/licenses/LICENSE-2.0 )\n * \n * uCharts官方网站\n * https://www.uCharts.cn\n * \n * 开源地址:\n * https://gitee.com/uCharts/uCharts\n * \n * uni-app插件市场地址：\n * http://ext.dcloud.net.cn/plugin?id=271\n * \n */\n\n'use strict';\n\nvar config = {\n  yAxisWidth: 15,\n  yAxisSplit: 5,\n  xAxisHeight: 15,\n  xAxisLineHeight: 15,\n  legendHeight: 15,\n  yAxisTitleWidth: 15,\n  padding: [10, 10, 10, 10],\n  pixelRatio: 1,\n  rotate: false,\n  columePadding: 3,\n  fontSize: 13,\n  //dataPointShape: ['diamond', 'circle', 'triangle', 'rect'],\n  dataPointShape: ['circle', 'circle', 'circle', 'circle'],\n  colors: ['#1890ff', '#2fc25b', '#facc14', '#f04864', '#8543e0', '#90ed7d'],\n  pieChartLinePadding: 15,\n  pieChartTextPadding: 5,\n  xAxisTextPadding: 3,\n  titleColor: '#333333',\n  titleFontSize: 20,\n  subtitleColor: '#999999',\n  subtitleFontSize: 15,\n  toolTipPadding: 3,\n  toolTipBackground: '#000000',\n  toolTipOpacity: 0.7,\n  toolTipLineHeight: 20,\n  radarLabelTextMargin: 15,\n  gaugeLabelTextMargin: 15\n};\n\nlet assign = function (target, ...varArgs) {\n    if (target == null) {\n        throw new TypeError('Cannot convert undefined or null to object');\n    }\n    if (!varArgs || varArgs.length <= 0) {\n        return target;\n    }\n    // 深度合并对象\n    function deepAssign(obj1, obj2) {\n        for (let key in obj2) {\n            obj1[key] = obj1[key] && obj1[key].toString() === \"[object Object]\" ?\n                deepAssign(obj1[key], obj2[key]) : obj1[key] = obj2[key];\n        }\n        return obj1;\n    }\n\n    varArgs.forEach(val => {\n        target = deepAssign(target, val);\n    });\n    return target;\n};\n\nvar util = {\n  toFixed: function toFixed(num, limit) {\n    limit = limit || 2;\n    if (this.isFloat(num)) {\n      num = num.toFixed(limit);\n    }\n    return num;\n  },\n  isFloat: function isFloat(num) {\n    return num % 1 !== 0;\n  },\n  approximatelyEqual: function approximatelyEqual(num1, num2) {\n    return Math.abs(num1 - num2) < 1e-10;\n  },\n  isSameSign: function isSameSign(num1, num2) {\n    return Math.abs(num1) === num1 && Math.abs(num2) === num2 || Math.abs(num1) !== num1 && Math.abs(num2) !== num2;\n  },\n  isSameXCoordinateArea: function isSameXCoordinateArea(p1, p2) {\n    return this.isSameSign(p1.x, p2.x);\n  },\n  isCollision: function isCollision(obj1, obj2) {\n    obj1.end = {};\n    obj1.end.x = obj1.start.x + obj1.width;\n    obj1.end.y = obj1.start.y - obj1.height;\n    obj2.end = {};\n    obj2.end.x = obj2.start.x + obj2.width;\n    obj2.end.y = obj2.start.y - obj2.height;\n    var flag = obj2.start.x > obj1.end.x || obj2.end.x < obj1.start.x || obj2.end.y > obj1.start.y || obj2.start.y < obj1.end.y;\n    return !flag;\n  }\n};\n\n//兼容H5点击事件\nfunction getH5Offset(e) {\n  e.mp = {\n    changedTouches: []\n  };\n  e.mp.changedTouches.push({\n    x: e.offsetX,\n    y: e.offsetY\n  });\n  return e;\n}\n\n// hex 转 rgba\nfunction hexToRgb(hexValue, opc) {\n  var rgx = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n  var hex = hexValue.replace(rgx, function(m, r, g, b) {\n    return r + r + g + g + b + b;\n  });\n  var rgb = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  var r = parseInt(rgb[1], 16);\n  var g = parseInt(rgb[2], 16);\n  var b = parseInt(rgb[3], 16);\n  return 'rgba(' + r + ',' + g + ',' + b + ',' + opc + ')';\n}\n\nfunction findRange(num, type, limit) {\n  if (isNaN(num)) {\n    throw new Error('[uCharts] unvalid series data!');\n  }\n  limit = limit || 10;\n  type = type ? type : 'upper';\n  var multiple = 1;\n  while (limit < 1) {\n    limit *= 10;\n    multiple *= 10;\n  }\n  if (type === 'upper') {\n    num = Math.ceil(num * multiple);\n  } else {\n    num = Math.floor(num * multiple);\n  }\n  while (num % limit !== 0) {\n    if (type === 'upper') {\n      num++;\n    } else {\n      num--;\n    }\n  }\n  return num / multiple;\n}\n\nfunction calCandleMA(dayArr, nameArr, colorArr, kdata) {\n  let seriesTemp = [];\n  for (let k = 0; k < dayArr.length; k++) {\n    let seriesItem = {\n      data: [],\n      name: nameArr[k],\n      color: colorArr[k]\n    };\n    for (let i = 0, len = kdata.length; i < len; i++) {\n      if (i < dayArr[k]) {\n        seriesItem.data.push(null);\n        continue;\n      }\n      let sum = 0;\n      for (let j = 0; j < dayArr[k]; j++) {\n        sum += kdata[i - j][1];\n      }\n      seriesItem.data.push(+(sum / dayArr[k]).toFixed(3));\n    }\n    seriesTemp.push(seriesItem);\n  }\n  return seriesTemp;\n}\n\nfunction calValidDistance(self,distance, chartData, config, opts) {\n  var dataChartAreaWidth = opts.width - opts.area[1] - opts.area[3];\n  var dataChartWidth = chartData.eachSpacing * (opts.chartData.xAxisData.xAxisPoints.length-1);\n  var validDistance = distance;\n  if (distance >= 0) {\n    validDistance = 0;\n\t\tself.event.trigger('scrollLeft');\n  } else if (Math.abs(distance) >= dataChartWidth - dataChartAreaWidth) {\n    validDistance = dataChartAreaWidth - dataChartWidth;\n\t\tself.event.trigger('scrollRight');\n  }\n  return validDistance;\n}\n\nfunction isInAngleRange(angle, startAngle, endAngle) {\n  function adjust(angle) {\n    while (angle < 0) {\n      angle += 2 * Math.PI;\n    }\n    while (angle > 2 * Math.PI) {\n      angle -= 2 * Math.PI;\n    }\n    return angle;\n  }\n  angle = adjust(angle);\n  startAngle = adjust(startAngle);\n  endAngle = adjust(endAngle);\n  if (startAngle > endAngle) {\n    endAngle += 2 * Math.PI;\n    if (angle < startAngle) {\n      angle += 2 * Math.PI;\n    }\n  }\n  return angle >= startAngle && angle <= endAngle;\n}\n\nfunction calRotateTranslate(x, y, h) {\n  var xv = x;\n  var yv = h - y;\n  var transX = xv + (h - yv - xv) / Math.sqrt(2);\n  transX *= -1;\n  var transY = (h - yv) * (Math.sqrt(2) - 1) - (h - yv - xv) / Math.sqrt(2);\n  return {\n    transX: transX,\n    transY: transY\n  };\n}\n\nfunction createCurveControlPoints(points, i) {\n\n  function isNotMiddlePoint(points, i) {\n    if (points[i - 1] && points[i + 1]) {\n      return points[i].y >= Math.max(points[i - 1].y, points[i + 1].y) || points[i].y <= Math.min(points[i - 1].y,points[i + 1].y);\n    } else {\n      return false;\n    }\n  }\n\tfunction isNotMiddlePointX(points, i) {\n\t  if (points[i - 1] && points[i + 1]) {\n\t    return points[i].x >= Math.max(points[i - 1].x, points[i + 1].x) || points[i].x <= Math.min(points[i - 1].x,points[i + 1].x);\n\t  } else {\n\t    return false;\n\t  }\n\t}\n  var a = 0.2;\n  var b = 0.2;\n  var pAx = null;\n  var pAy = null;\n  var pBx = null;\n  var pBy = null;\n  if (i < 1) {\n    pAx = points[0].x + (points[1].x - points[0].x) * a;\n    pAy = points[0].y + (points[1].y - points[0].y) * a;\n  } else {\n    pAx = points[i].x + (points[i + 1].x - points[i - 1].x) * a;\n    pAy = points[i].y + (points[i + 1].y - points[i - 1].y) * a;\n  }\n\n  if (i > points.length - 3) {\n    var last = points.length - 1;\n    pBx = points[last].x - (points[last].x - points[last - 1].x) * b;\n    pBy = points[last].y - (points[last].y - points[last - 1].y) * b;\n  } else {\n    pBx = points[i + 1].x - (points[i + 2].x - points[i].x) * b;\n    pBy = points[i + 1].y - (points[i + 2].y - points[i].y) * b;\n  }\n  if (isNotMiddlePoint(points, i + 1)) {\n    pBy = points[i + 1].y;\n  }\n  if (isNotMiddlePoint(points, i)) {\n    pAy = points[i].y;\n  }\n\tif (isNotMiddlePointX(points, i + 1)) {\n\t  pBx = points[i + 1].x;\n\t}\n\tif (isNotMiddlePointX(points, i)) {\n\t  pAx = points[i].x;\n\t}\n\tif (pAy >= Math.max(points[i].y, points[i + 1].y) || pAy <= Math.min(points[i].y, points[i + 1].y)) {\n\tpAy = points[i].y;\n\t}\n\tif (pBy >= Math.max(points[i].y, points[i + 1].y) || pBy <= Math.min(points[i].y, points[i + 1].y)) {\n\tpBy = points[i + 1].y;\n\t}\n\tif (pAx >= Math.max(points[i].x, points[i + 1].x) || pAx <= Math.min(points[i].x, points[i + 1].x)) {\n\tpAx = points[i].x;\n\t}\n\tif (pBx >= Math.max(points[i].x, points[i + 1].x) || pBx <= Math.min(points[i].x, points[i + 1].x)) {\n\tpBx = points[i + 1].x;\n\t}\n  return {\n    ctrA: {\n      x: pAx,\n      y: pAy\n    },\n    ctrB: {\n      x: pBx,\n      y: pBy\n    }\n  };\n}\n\nfunction convertCoordinateOrigin(x, y, center) {\n  return {\n    x: center.x + x,\n    y: center.y - y\n  };\n}\n\nfunction avoidCollision(obj, target) {\n  if (target) {\n    // is collision test\n    while (util.isCollision(obj, target)) {\n      if (obj.start.x > 0) {\n        obj.start.y--;\n      } else if (obj.start.x < 0) {\n        obj.start.y++;\n      } else {\n        if (obj.start.y > 0) {\n          obj.start.y++;\n        } else {\n          obj.start.y--;\n        }\n      }\n    }\n  }\n  return obj;\n}\n\nfunction fillSeries(series, opts, config) {\n  var index = 0;\n  return series.map(function(item) {\n    if (!item.color) {\n      item.color = config.colors[index];\n      index = (index + 1) % config.colors.length;\n    }\n    if (!item.index) {\n      item.index = 0;\n    }\n    if (!item.type) {\n      item.type = opts.type;\n    }\n    if (typeof item.show == \"undefined\") {\n      item.show = true;\n    }\n    if (!item.type) {\n      item.type = opts.type;\n    }\n    if (!item.pointShape) {\n      item.pointShape = \"circle\";\n    }\n    if (!item.legendShape) {\n      switch (item.type) {\n        case 'line':\n          item.legendShape = \"line\";\n          break;\n        case 'column':\n          item.legendShape = \"rect\";\n          break;\n        case 'area':\n          item.legendShape = \"triangle\";\n          break;\n        default:\n          item.legendShape = \"circle\";\n      }\n    }\n    return item;\n  });\n}\n\nfunction getDataRange(minData, maxData) {\n  var limit = 0;\n  var range = maxData - minData;\n  if (range >= 10000) {\n    limit = 1000;\n  } else if (range >= 1000) {\n    limit = 100;\n  } else if (range >= 100) {\n    limit = 10;\n  } else if (range >= 10) {\n    limit = 5;\n  } else if (range >= 1) {\n    limit = 1;\n  } else if (range >= 0.1) {\n    limit = 0.1;\n  } else if (range >= 0.01) {\n    limit = 0.01;\n  } else if (range >= 0.001) {\n    limit = 0.001;\n  } else if (range >= 0.0001) {\n    limit = 0.0001;\n  } else if (range >= 0.00001) {\n    limit = 0.00001;\n  } else {\n    limit = 0.000001;\n  }\n  return {\n    minRange: findRange(minData, 'lower', limit),\n    maxRange: findRange(maxData, 'upper', limit)\n  };\n}\n\nfunction measureText(text) {\n  var fontSize = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : config.fontSize;\n  text = String(text);\n  var text = text.split('');\n  var width = 0;\n  for (let i = 0; i < text.length; i++) {\n    let item = text[i];\n    if (/[a-zA-Z]/.test(item)) {\n      width += 7;\n    } else if (/[0-9]/.test(item)) {\n      width += 5.5;\n    } else if (/\\./.test(item)) {\n      width += 2.7;\n    } else if (/-/.test(item)) {\n      width += 3.25;\n    } else if (/[\\u4e00-\\u9fa5]/.test(item)) {\n      width += 10;\n    } else if (/\\(|\\)/.test(item)) {\n      width += 3.73;\n    } else if (/\\s/.test(item)) {\n      width += 2.5;\n    } else if (/%/.test(item)) {\n      width += 8;\n    } else {\n      width += 10;\n    }\n  }\n  return width * fontSize / 10;\n}\n\nfunction dataCombine(series) {\n  return series.reduce(function(a, b) {\n    return (a.data ? a.data : a).concat(b.data);\n  }, []);\n}\n\nfunction dataCombineStack(series, len) {\n  var sum = new Array(len);\n  for (var j = 0; j < sum.length; j++) {\n    sum[j] = 0;\n  }\n  for (var i = 0; i < series.length; i++) {\n    for (var j = 0; j < sum.length; j++) {\n      sum[j] += series[i].data[j];\n    }\n  }\n  return series.reduce(function(a, b) {\n    return (a.data ? a.data : a).concat(b.data).concat(sum);\n  }, []);\n}\n\nfunction getTouches(touches, opts, e) {\n  let x, y;\n  if (touches.clientX) {\n    if (opts.rotate) {\n      y = opts.height - touches.clientX * opts.pixelRatio;\n      x = (touches.pageY - e.currentTarget.offsetTop - (opts.height / opts.pixelRatio / 2) * (opts.pixelRatio - 1)) *\n        opts.pixelRatio;\n    } else {\n      x = touches.clientX * opts.pixelRatio;\n      y = (touches.pageY - e.currentTarget.offsetTop - (opts.height / opts.pixelRatio / 2) * (opts.pixelRatio - 1)) *\n        opts.pixelRatio;\n    }\n  } else {\n    if (opts.rotate) {\n      y = opts.height - touches.x * opts.pixelRatio;\n      x = touches.y * opts.pixelRatio;\n    } else {\n      x = touches.x * opts.pixelRatio;\n      y = touches.y * opts.pixelRatio;\n    }\n  }\n  return {\n    x: x,\n    y: y\n  }\n}\n\nfunction getSeriesDataItem(series, index) {\n  var data = [];\n  for (let i = 0; i < series.length; i++) {\n    let item = series[i];\n    if (item.data[index] !== null && typeof item.data[index] !== 'undefined' && item.show) {\n      let seriesItem = {};\n      seriesItem.color = item.color;\n      seriesItem.type = item.type;\n      seriesItem.style = item.style;\n      seriesItem.pointShape = item.pointShape;\n      seriesItem.disableLegend = item.disableLegend;\n      seriesItem.name = item.name;\n      seriesItem.show = item.show;\n      seriesItem.data = item.format ? item.format(item.data[index]) : item.data[index];\n      data.push(seriesItem);\n    }\n  }\n  return data;\n}\n\nfunction getMaxTextListLength(list) {\n  var lengthList = list.map(function(item) {\n    return measureText(item);\n  });\n  return Math.max.apply(null, lengthList);\n}\n\nfunction getRadarCoordinateSeries(length) {\n  var eachAngle = 2 * Math.PI / length;\n  var CoordinateSeries = [];\n  for (var i = 0; i < length; i++) {\n    CoordinateSeries.push(eachAngle * i);\n  }\n\n  return CoordinateSeries.map(function(item) {\n    return -1 * item + Math.PI / 2;\n  });\n}\n\nfunction getToolTipData(seriesData, calPoints, index, categories) {\n  var option = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n\n  var textList = seriesData.map(function(item) {\n\t\tlet titleText=[];\n\t\tif(categories){\n\t\t\ttitleText=categories;\n\t\t}else{\n\t\t\ttitleText=item.data;\n\t\t}\n    return {\n      text: option.format ? option.format(item, titleText[index]) : item.name + ': ' + item.data,\n      color: item.color\n    };\n  });\n  var validCalPoints = [];\n  var offset = {\n    x: 0,\n    y: 0\n  };\n  for (let i = 0; i < calPoints.length; i++) {\n    let points = calPoints[i];\n    if (typeof points[index] !== 'undefined' && points[index] !== null) {\n      validCalPoints.push(points[index]);\n    }\n  }\n  for (let i = 0; i < validCalPoints.length; i++) {\n    let item = validCalPoints[i];\n    offset.x = Math.round(item.x);\n    offset.y += item.y;\n  }\n  offset.y /= validCalPoints.length;\n  return {\n    textList: textList,\n    offset: offset\n  };\n}\n\nfunction getMixToolTipData(seriesData, calPoints, index, categories) {\n  var option = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n  var textList = seriesData.map(function(item) {\n    return {\n      text: option.format ? option.format(item, categories[index]) : item.name + ': ' + item.data,\n      color: item.color,\n      disableLegend: item.disableLegend ? true : false\n    };\n  });\n  textList = textList.filter(function(item) {\n    if (item.disableLegend !== true) {\n      return item;\n    }\n  });\n  var validCalPoints = [];\n  var offset = {\n    x: 0,\n    y: 0\n  };\n  for (let i = 0; i < calPoints.length; i++) {\n    let points = calPoints[i];\n    if (typeof points[index] !== 'undefined' && points[index] !== null) {\n      validCalPoints.push(points[index]);\n    }\n  }\n  for (let i = 0; i < validCalPoints.length; i++) {\n    let item = validCalPoints[i];\n    offset.x = Math.round(item.x);\n    offset.y += item.y;\n  }\n  offset.y /= validCalPoints.length;\n  return {\n    textList: textList,\n    offset: offset\n  };\n}\n\nfunction getCandleToolTipData(series, seriesData, calPoints, index, categories, extra) {\n  var option = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : {};\n  let upColor = extra.color.upFill;\n  let downColor = extra.color.downFill;\n  //颜色顺序为开盘，收盘，最低，最高\n  let color = [upColor, upColor, downColor, upColor];\n  var textList = [];\n  let text0 = {\n    text: categories[index],\n    color: null\n  };\n  textList.push(text0);\n  seriesData.map(function(item) {\n    if (index == 0) {\n      if(item.data[1] - item.data[0] < 0){\n      \tcolor[1] = downColor;\n      }else{\n      \tcolor[1] = upColor;\n      }\n    } else {\n      if (item.data[0] < series[index - 1][1]) {\n        color[0] = downColor;\n      }\n      if (item.data[1] < item.data[0]) {\n        color[1] = downColor;\n      }\n      if (item.data[2] > series[index - 1][1]) {\n        color[2] = upColor;\n      }\n      if (item.data[3] < series[index - 1][1]) {\n        color[3] = downColor;\n      }\n    }\n    let text1 = {\n      text: '开盘：' + item.data[0],\n      color: color[0]\n    };\n    let text2 = {\n      text: '收盘：' + item.data[1],\n      color: color[1]\n    };\n    let text3 = {\n      text: '最低：' + item.data[2],\n      color: color[2]\n    };\n    let text4 = {\n      text: '最高：' + item.data[3],\n      color: color[3]\n    };\n    textList.push(text1, text2, text3, text4);\n  });\n  var validCalPoints = [];\n  var offset = {\n    x: 0,\n    y: 0\n  };\n  for (let i = 0; i < calPoints.length; i++) {\n    let points = calPoints[i];\n    if (typeof points[index] !== 'undefined' && points[index] !== null) {\n      validCalPoints.push(points[index]);\n    }\n  }\n  offset.x = Math.round(validCalPoints[0][0].x);\n  return {\n    textList: textList,\n    offset: offset\n  };\n}\n\nfunction filterSeries(series) {\n  let tempSeries = [];\n  for (let i = 0; i < series.length; i++) {\n    if (series[i].show == true) {\n      tempSeries.push(series[i])\n    }\n  }\n  return tempSeries;\n}\n\nfunction findCurrentIndex(currentPoints, calPoints, opts, config) {\n  var offset = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;\n  var currentIndex = -1;\n  var spacing = opts.chartData.eachSpacing/2;\n\tlet xAxisPoints=[];\n\tif(calPoints.length>0){\n\t\tif(opts.type=='candle'){\n\t\t\tfor(let i=0;i<calPoints[0].length;i++){\n\t\t\t\txAxisPoints.push(calPoints[0][i][0].x)\n\t\t\t}\n\t\t}else{\n\t\t\tfor(let i=0;i<calPoints[0].length;i++){\n\t\t\t\txAxisPoints.push(calPoints[0][i].x)\n\t\t\t}\n\t\t}\n\t\tif((opts.type=='line' || opts.type=='area') && opts.xAxis.boundaryGap=='justify'){\n\t\t  spacing = opts.chartData.eachSpacing/2;\n\t\t}\n\t\tif(!opts.categories){\n\t\t\tspacing=0\n\t\t}\n\t\tif (isInExactChartArea(currentPoints, opts, config)) {\n\t\t  xAxisPoints.forEach(function(item, index) {\n\t\t    if (currentPoints.x + offset + spacing > item) {\n\t\t      currentIndex = index;\n\t\t    }\n\t\t  });\n\t\t}\n\t}\n  return currentIndex;\n}\n\nfunction findLegendIndex(currentPoints, legendData, opts) {\n  let currentIndex = -1;\n  if (isInExactLegendArea(currentPoints, legendData.area)) {\n    let points = legendData.points;\n    let index = -1;\n    for (let i = 0, len = points.length; i < len; i++) {\n      let item = points[i];\n      for (let j = 0; j < item.length; j++) {\n        index += 1;\n        let area = item[j]['area'];\n        if (currentPoints.x > area[0] && currentPoints.x < area[2] && currentPoints.y > area[1] && currentPoints.y < area[3]) {\n          currentIndex = index;\n          break;\n        }\n      }\n    }\n    return currentIndex;\n  }\n  return currentIndex;\n}\n\nfunction isInExactLegendArea(currentPoints, area) {\n  return currentPoints.x > area.start.x && currentPoints.x < area.end.x && currentPoints.y > area.start.y &&\n    currentPoints.y < area.end.y;\n}\n\nfunction isInExactChartArea(currentPoints, opts, config) {\n  return currentPoints.x <= opts.width - opts.area[1] + 10 && currentPoints.x >= opts.area[3] -10 && currentPoints.y >= opts.area[0] && currentPoints.y <= opts.height - opts.area[2];\n}\n\nfunction findRadarChartCurrentIndex(currentPoints, radarData, count) {\n  var eachAngleArea = 2 * Math.PI / count;\n  var currentIndex = -1;\n  if (isInExactPieChartArea(currentPoints, radarData.center, radarData.radius)) {\n    var fixAngle = function fixAngle(angle) {\n      if (angle < 0) {\n        angle += 2 * Math.PI;\n      }\n      if (angle > 2 * Math.PI) {\n        angle -= 2 * Math.PI;\n      }\n      return angle;\n    };\n\n    var angle = Math.atan2(radarData.center.y - currentPoints.y, currentPoints.x - radarData.center.x);\n    angle = -1 * angle;\n    if (angle < 0) {\n      angle += 2 * Math.PI;\n    }\n\n    var angleList = radarData.angleList.map(function(item) {\n      item = fixAngle(-1 * item);\n\n      return item;\n    });\n\n    angleList.forEach(function(item, index) {\n      var rangeStart = fixAngle(item - eachAngleArea / 2);\n      var rangeEnd = fixAngle(item + eachAngleArea / 2);\n      if (rangeEnd < rangeStart) {\n        rangeEnd += 2 * Math.PI;\n      }\n      if (angle >= rangeStart && angle <= rangeEnd || angle + 2 * Math.PI >= rangeStart && angle + 2 * Math.PI <=\n        rangeEnd) {\n        currentIndex = index;\n      }\n    });\n  }\n\n  return currentIndex;\n}\n\nfunction findFunnelChartCurrentIndex(currentPoints, funnelData) {\n  var currentIndex = -1;\n  for (var i = 0, len = funnelData.series.length; i < len; i++) {\n    var item = funnelData.series[i];\n    if (currentPoints.x > item.funnelArea[0] && currentPoints.x < item.funnelArea[2] && currentPoints.y > item.funnelArea[1] && currentPoints.y < item.funnelArea[3]) {\n      currentIndex = i;\n      break;\n    }\n  }\n  return currentIndex;\n}\n\nfunction findWordChartCurrentIndex(currentPoints, wordData) {\n  var currentIndex = -1;\n  for (var i = 0, len = wordData.length; i < len; i++) {\n    var item = wordData[i];\n    if (currentPoints.x > item.area[0] && currentPoints.x < item.area[2] && currentPoints.y > item.area[1] && currentPoints.y < item.area[3]) {\n      currentIndex = i;\n      break;\n    }\n  }\n  return currentIndex;\n}\n\nfunction findMapChartCurrentIndex(currentPoints, opts) {\n  var currentIndex = -1;\n  var cData=opts.chartData.mapData;\n  var data=opts.series;\n  var tmp=pointToCoordinate(currentPoints.y, currentPoints.x,cData.bounds,cData.scale,cData.xoffset,cData.yoffset);\n  var poi=[tmp.x, tmp.y];\n  for (var i = 0, len = data.length; i < len; i++) {\n    var item = data[i].geometry.coordinates;\n    if(isPoiWithinPoly(poi,item)){\n      currentIndex = i;\n      break;\n    }\n  }\n  return currentIndex;\n}\n\nfunction findPieChartCurrentIndex(currentPoints, pieData) {\n  var currentIndex = -1;\n  if (isInExactPieChartArea(currentPoints, pieData.center, pieData.radius)) {\n    var angle = Math.atan2(pieData.center.y - currentPoints.y, currentPoints.x - pieData.center.x);\n    angle = -angle;\n    for (var i = 0, len = pieData.series.length; i < len; i++) {\n      var item = pieData.series[i];\n      if (isInAngleRange(angle, item._start_, item._start_ + item._proportion_ * 2 * Math.PI)) {\n        currentIndex = i;\n        break;\n      }\n    }\n  }\n\n  return currentIndex;\n}\n\nfunction isInExactPieChartArea(currentPoints, center, radius) {\n  return Math.pow(currentPoints.x - center.x, 2) + Math.pow(currentPoints.y - center.y, 2) <= Math.pow(radius, 2);\n}\n\nfunction splitPoints(points) {\n  var newPoints = [];\n  var items = [];\n  points.forEach(function(item, index) {\n    if (item !== null) {\n      items.push(item);\n    } else {\n      if (items.length) {\n        newPoints.push(items);\n      }\n      items = [];\n    }\n  });\n  if (items.length) {\n    newPoints.push(items);\n  }\n\n  return newPoints;\n}\n\nfunction calLegendData(series, opts, config, chartData) {\n  let legendData = {\n    area: {\n      start: {\n        x: 0,\n        y: 0\n      },\n      end: {\n        x: 0,\n        y: 0\n      },\n      width: 0,\n      height: 0,\n      wholeWidth: 0,\n      wholeHeight: 0\n    },\n    points: [],\n    widthArr: [],\n    heightArr: []\n  };\n  if (opts.legend.show === false) {\n    chartData.legendData = legendData;\n    return legendData;\n  }\n\n  let padding = opts.legend.padding;\n  let margin = opts.legend.margin;\n  let fontSize = opts.legend.fontSize;\n  let shapeWidth = 15 * opts.pixelRatio;\n  let shapeRight = 5 * opts.pixelRatio;\n  let lineHeight = Math.max(opts.legend.lineHeight * opts.pixelRatio, fontSize);\n  if (opts.legend.position == 'top' || opts.legend.position == 'bottom') {\n    let legendList = [];\n    let widthCount = 0;\n    let widthCountArr = [];\n    let currentRow = [];\n    for (let i = 0; i < series.length; i++) {\n      let item = series[i];\n      let itemWidth = shapeWidth + shapeRight + measureText(item.name || 'undefined', fontSize) + opts.legend.itemGap;\n      if (widthCount + itemWidth > opts.width - opts.padding[1] - opts.padding[3]) {\n        legendList.push(currentRow);\n        widthCountArr.push(widthCount - opts.legend.itemGap);\n        widthCount = itemWidth;\n        currentRow = [item];\n      } else {\n        widthCount += itemWidth;\n        currentRow.push(item);\n      }\n    }\n    if (currentRow.length) {\n      legendList.push(currentRow);\n      widthCountArr.push(widthCount - opts.legend.itemGap);\n      legendData.widthArr = widthCountArr;\n      let legendWidth = Math.max.apply(null, widthCountArr);\n      switch (opts.legend.float) {\n        case 'left':\n          legendData.area.start.x = opts.padding[3];\n          legendData.area.end.x = opts.padding[3] + 2 * padding;\n          break;\n        case 'right':\n          legendData.area.start.x = opts.width - opts.padding[1] - legendWidth - 2 * padding;\n          legendData.area.end.x = opts.width - opts.padding[1];\n          break;\n        default:\n          legendData.area.start.x = (opts.width - legendWidth) / 2 - padding;\n          legendData.area.end.x = (opts.width + legendWidth) / 2 + padding;\n      }\n      legendData.area.width = legendWidth + 2 * padding;\n      legendData.area.wholeWidth = legendWidth + 2 * padding;\n      legendData.area.height = legendList.length * lineHeight + 2 * padding;\n      legendData.area.wholeHeight = legendList.length * lineHeight + 2 * padding + 2 * margin;\n      legendData.points = legendList;\n    }\n  } else {\n    let len = series.length;\n    let maxHeight = opts.height - opts.padding[0] - opts.padding[2] - 2 * margin - 2 * padding;\n    let maxLength = Math.min(Math.floor(maxHeight / lineHeight), len);\n    legendData.area.height = maxLength * lineHeight + padding * 2;\n    legendData.area.wholeHeight = maxLength * lineHeight + padding * 2;\n    switch (opts.legend.float) {\n      case 'top':\n        legendData.area.start.y = opts.padding[0] + margin;\n        legendData.area.end.y = opts.padding[0] + margin + legendData.area.height;\n        break;\n      case 'bottom':\n        legendData.area.start.y = opts.height - opts.padding[2] - margin - legendData.area.height;\n        legendData.area.end.y = opts.height - opts.padding[2] - margin;\n        break;\n      default:\n        legendData.area.start.y = (opts.height - legendData.area.height) / 2;\n        legendData.area.end.y = (opts.height + legendData.area.height) / 2;\n    }\n    let lineNum = len % maxLength === 0 ? len / maxLength : Math.floor((len / maxLength) + 1);\n    let currentRow = [];\n    for (let i = 0; i < lineNum; i++) {\n      let temp = series.slice(i * maxLength, i * maxLength + maxLength);\n      currentRow.push(temp);\n    }\n\n    legendData.points = currentRow;\n\n    if (currentRow.length) {\n      for (let i = 0; i < currentRow.length; i++) {\n        let item = currentRow[i];\n        let maxWidth = 0;\n        for (let j = 0; j < item.length; j++) {\n          let itemWidth = shapeWidth + shapeRight + measureText(item[j].name || 'undefined', fontSize) + opts.legend.itemGap;\n          if (itemWidth > maxWidth) {\n            maxWidth = itemWidth;\n          }\n        }\n        legendData.widthArr.push(maxWidth);\n        legendData.heightArr.push(item.length * lineHeight + padding * 2);\n      }\n      let legendWidth = 0\n      for (let i = 0; i < legendData.widthArr.length; i++) {\n        legendWidth += legendData.widthArr[i];\n      }\n      legendData.area.width = legendWidth - opts.legend.itemGap + 2 * padding;\n      legendData.area.wholeWidth = legendData.area.width + padding;\n    }\n  }\n\n  switch (opts.legend.position) {\n    case 'top':\n      legendData.area.start.y = opts.padding[0] + margin;\n      legendData.area.end.y = opts.padding[0] + margin + legendData.area.height;\n      break;\n    case 'bottom':\n      legendData.area.start.y = opts.height - opts.padding[2] - legendData.area.height - margin;\n      legendData.area.end.y = opts.height - opts.padding[2] - margin;\n      break;\n    case 'left':\n      legendData.area.start.x = opts.padding[3];\n      legendData.area.end.x = opts.padding[3] + legendData.area.width;\n      break;\n    case 'right':\n      legendData.area.start.x = opts.width - opts.padding[1] - legendData.area.width;\n      legendData.area.end.x = opts.width - opts.padding[1];\n      break;\n  }\n  chartData.legendData = legendData;\n  return legendData;\n}\n\nfunction calCategoriesData(categories, opts, config, eachSpacing) {\n  var result = {\n    angle: 0,\n    xAxisHeight: config.xAxisHeight\n  };\n  var categoriesTextLenth = categories.map(function(item) {\n    return measureText(item,opts.xAxis.fontSize||config.fontSize);\n  });\n  var maxTextLength = Math.max.apply(this, categoriesTextLenth);\n\n  if (opts.xAxis.rotateLabel == true && maxTextLength + 2 * config.xAxisTextPadding > eachSpacing) {\n    result.angle = 45 * Math.PI / 180;\n    result.xAxisHeight = 2 * config.xAxisTextPadding + maxTextLength * Math.sin(result.angle);\n  }\n  return result;\n}\n\nfunction getXAxisTextList(series, opts, config) {\n  var index = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : -1;\n  var data = dataCombine(series);\n  var sorted = [];\n  // remove null from data\n  data = data.filter(function(item) {\n    //return item !== null;\n    if (typeof item === 'object' && item !== null) {\n      if (item.constructor.toString().indexOf('Array')>-1) {\n        return item !== null;\n      } else {\n        return item.value !== null;\n      }\n    } else {\n      return item !== null;\n    }\n  });\n  data.map(function(item) {\n    if (typeof item === 'object') {\n      if (item.constructor.toString().indexOf('Array')>-1) {\n\t\t\t\tif(opts.type=='candle'){\n\t\t\t\t\titem.map(function(subitem) {\n\t\t\t\t\t  sorted.push(subitem);\n\t\t\t\t\t})\n\t\t\t\t}else{\n\t\t\t\t\tsorted.push(item[0]);\n\t\t\t\t}\n      } else {\n        sorted.push(item.value);\n      }\n    } else {\n      sorted.push(item);\n    }\n  })\n\t\n  var minData = 0;\n  var maxData = 0;\n  if (sorted.length > 0) {\n    minData = Math.min.apply(this, sorted);\n    maxData = Math.max.apply(this, sorted);\n  }\n  //为了兼容v1.9.0之前的项目\n  if(index>-1){\n    if (typeof opts.xAxis.data[index].min === 'number') {\n      minData = Math.min(opts.xAxis.data[index].min, minData);\n    }\n    if (typeof opts.xAxis.data[index].max === 'number') {\n      maxData = Math.max(opts.xAxis.data[index].max, maxData);\n    }\n  }else{\n    if (typeof opts.xAxis.min === 'number') {\n      minData = Math.min(opts.xAxis.min, minData);\n    }\n    if (typeof opts.xAxis.max === 'number') {\n      maxData = Math.max(opts.xAxis.max, maxData);\n    }\n  }\n  \n\n  if (minData === maxData) {\n    var rangeSpan = maxData || 10;\n    maxData += rangeSpan;\n  }\n\n  //var dataRange = getDataRange(minData, maxData);\n  var minRange = minData;\n  var maxRange = maxData;\n\n  var range = [];\n  var eachRange = (maxRange - minRange) / opts.xAxis.splitNumber;\n\n  for (var i = 0; i <= opts.xAxis.splitNumber; i++) {\n    range.push(minRange + eachRange * i);\n  }\n  return range;\n}\n\nfunction calXAxisData(series, opts, config){\n    var result = {\n        angle: 0,\n        xAxisHeight: config.xAxisHeight\n    };\n\n    result.ranges = getXAxisTextList(series, opts, config);\n    result.rangesFormat = result.ranges.map(function(item){\n        item = opts.xAxis.format? opts.xAxis.format(item):util.toFixed(item, 2);\n        return item;\n    });\n\t\t\n    var xAxisScaleValues = result.ranges.map(function (item) {\n        // 如果刻度值是浮点数,则保留两位小数\n        item = util.toFixed(item, 2);\n        // 若有自定义格式则调用自定义的格式化函数\n        item = opts.xAxis.format ? opts.xAxis.format(Number(item)) : item;\n        return item;\n    });\n\n    result = Object.assign(result,getXAxisPoints(xAxisScaleValues, opts, config));\n    // 计算X轴刻度的属性譬如每个刻度的间隔,刻度的起始点\\结束点以及总长\n    var eachSpacing = result.eachSpacing;\n\n    var textLength = xAxisScaleValues.map(function (item) {\n        return measureText(item);\n    });\n    \n    // get max length of categories text\n    var maxTextLength = Math.max.apply(this, textLength);\n\n    // 如果刻度值文本内容过长,则将其逆时针旋转45°\n    if (maxTextLength + 2 * config.xAxisTextPadding > eachSpacing) {\n        result.angle = 45 * Math.PI / 180;\n        result.xAxisHeight = 2 * config.xAxisTextPadding + maxTextLength * Math.sin(result.angle);\n    }\n\n    if (opts.xAxis.disabled === true) {\n        result.xAxisHeight = 0;\n    }\n\n    return result;\n}\n\nfunction getRadarDataPoints(angleList, center, radius, series, opts) {\n  var process = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 1;\n\n  var radarOption = opts.extra.radar || {};\n  radarOption.max = radarOption.max || 0;\n  var maxData = Math.max(radarOption.max, Math.max.apply(null, dataCombine(series)));\n\n  var data = [];\n  for (let i = 0; i < series.length; i++) {\n    let each = series[i];\n    let listItem = {};\n    listItem.color = each.color;\n\t\tlistItem.legendShape = each.legendShape;\n\t\tlistItem.pointShape = each.pointShape;\n    listItem.data = [];\n    each.data.forEach(function(item, index) {\n      let tmp = {};\n      tmp.angle = angleList[index];\n\n      tmp.proportion = item / maxData;\n      tmp.position = convertCoordinateOrigin(radius * tmp.proportion * process * Math.cos(tmp.angle), radius * tmp.proportion *\n        process * Math.sin(tmp.angle), center);\n      listItem.data.push(tmp);\n    });\n\n    data.push(listItem);\n  }\n\n  return data;\n}\n\nfunction getPieDataPoints(series, radius) {\n  var process = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n\n  var count = 0;\n  var _start_ = 0;\n  for (let i = 0; i < series.length; i++) {\n    let item = series[i];\n    item.data = item.data === null ? 0 : item.data;\n    count += item.data;\n  }\n  for (let i = 0; i < series.length; i++) {\n    let item = series[i];\n    item.data = item.data === null ? 0 : item.data;\n    if (count === 0) {\n      item._proportion_ = 1 / series.length * process;\n    } else {\n      item._proportion_ = item.data / count * process;\n    }\n    item._radius_ = radius;\n  }\n  for (let i = 0; i < series.length; i++) {\n    let item = series[i];\n    item._start_ = _start_;\n    _start_ += 2 * item._proportion_ * Math.PI;\n  }\n\n  return series;\n}\n\nfunction getFunnelDataPoints(series, radius) {\n  var process = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n  series = series.sort(function(a,b){return parseInt(b.data)-parseInt(a.data);});\n  for (let i = 0; i < series.length; i++) {\n    series[i].radius = series[i].data/series[0].data*radius*process;\n    series[i]._proportion_ = series[i].data/series[0].data;\n  }\n  return series.reverse();\n}\n\nfunction getRoseDataPoints(series, type, minRadius, radius) {\n  var process = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\n  var count = 0;\n  var _start_ = 0;\n\n  var dataArr = [];\n  for (let i = 0; i < series.length; i++) {\n    let item = series[i];\n    item.data = item.data === null ? 0 : item.data;\n    count += item.data;\n    dataArr.push(item.data);\n  }\n  \n  var minData = Math.min.apply(null, dataArr);\n  var maxData = Math.max.apply(null, dataArr);\n  var radiusLength = radius - minRadius;\n  \n  for (let i = 0; i < series.length; i++) {\n    let item = series[i];\n    item.data = item.data === null ? 0 : item.data;\n    if (count === 0 || type == 'area') {\n      item._proportion_ = item.data / count * process;\n      item._rose_proportion_ = 1 / series.length * process;\n    } else {\n      item._proportion_ = item.data / count * process;\n      item._rose_proportion_ = item.data / count * process;\n    }\n    item._radius_ = minRadius + radiusLength * ((item.data - minData) / (maxData - minData));\n  }\n  for (let i = 0; i < series.length; i++) {\n    let item = series[i];\n    item._start_ = _start_;\n    _start_ += 2 * item._rose_proportion_ * Math.PI;\n  }\n\n  return series;\n}\n\nfunction getArcbarDataPoints(series, arcbarOption) {\n  var process = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n  if (process == 1) {\n    process = 0.999999;\n  }\n  for (let i = 0; i < series.length; i++) {\n    let item = series[i];\n    item.data = item.data === null ? 0 : item.data;\n    let totalAngle;\n    if (arcbarOption.type == 'circle') {\n      totalAngle = 2;\n    } else {\n\t\t\tif (arcbarOption.endAngle < arcbarOption.startAngle) {\n\t\t\t  totalAngle = 2 + arcbarOption.endAngle - arcbarOption.startAngle;\n\t\t\t} else{\n\t\t\t  totalAngle = arcbarOption.startAngle - arcbarOption.endAngle;\n\t\t\t}\n    }\n    item._proportion_ = totalAngle * item.data * process + arcbarOption.startAngle;\n    if (item._proportion_ >= 2) {\n      item._proportion_ = item._proportion_ % 2;\n    }\n  }\n  return series;\n}\n\nfunction getGaugeAxisPoints(categories, startAngle, endAngle) {\n  let totalAngle = startAngle - endAngle + 1;\n  let tempStartAngle = startAngle;\n  for (let i = 0; i < categories.length; i++) {\n    categories[i].value = categories[i].value === null ? 0 : categories[i].value;\n    categories[i]._startAngle_ = tempStartAngle;\n    categories[i]._endAngle_ = totalAngle * categories[i].value + startAngle;\n    if (categories[i]._endAngle_ >= 2) {\n      categories[i]._endAngle_ = categories[i]._endAngle_ % 2;\n    }\n    tempStartAngle = categories[i]._endAngle_;\n  }\n  return categories;\n}\n\nfunction getGaugeDataPoints(series, categories, gaugeOption) {\n  let process = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1;\n  for (let i = 0; i < series.length; i++) {\n    let item = series[i];\n    item.data = item.data === null ? 0 : item.data;\n    if (gaugeOption.pointer.color == 'auto') {\n      for (let i = 0; i < categories.length; i++) {\n        if (item.data <= categories[i].value) {\n          item.color = categories[i].color;\n          break;\n        }\n      }\n    } else {\n      item.color = gaugeOption.pointer.color;\n    }\n    let totalAngle = gaugeOption.startAngle - gaugeOption.endAngle + 1;\n    item._endAngle_ = totalAngle * item.data + gaugeOption.startAngle;\n    item._oldAngle_ = gaugeOption.oldAngle;\n    if (gaugeOption.oldAngle < gaugeOption.endAngle) {\n      item._oldAngle_ += 2;\n    }\n    if (item.data >= gaugeOption.oldData) {\n      item._proportion_ = (item._endAngle_ - item._oldAngle_) * process + gaugeOption.oldAngle;\n    } else {\n      item._proportion_ = item._oldAngle_ - (item._oldAngle_ - item._endAngle_) * process;\n    }\n    if (item._proportion_ >= 2) {\n      item._proportion_ = item._proportion_ % 2;\n    }\n  }\n  return series;\n}\n\nfunction getPieTextMaxLength(series) {\n  series = getPieDataPoints(series);\n  let maxLength = 0;\n  for (let i = 0; i < series.length; i++) {\n    let item = series[i];\n    let text = item.format ? item.format(+item._proportion_.toFixed(2)) : util.toFixed(item._proportion_ * 100) + '%';\n    maxLength = Math.max(maxLength, measureText(text));\n  }\n\n  return maxLength;\n}\n\nfunction fixColumeData(points, eachSpacing, columnLen, index, config, opts) {\n  return points.map(function(item) {\n    if (item === null) {\n      return null;\n    }\n    item.width = Math.ceil((eachSpacing - 2 * config.columePadding) / columnLen);\n\n    if (opts.extra.column && opts.extra.column.width && +opts.extra.column.width > 0) {\n      item.width = Math.min(item.width, +opts.extra.column.width);\n    }\n    if (item.width <= 0) {\n      item.width = 1;\n    }\n    item.x += (index + 0.5 - columnLen / 2) * item.width;\n    return item;\n  });\n}\n\nfunction fixColumeMeterData(points, eachSpacing, columnLen, index, config, opts, border) {\n  return points.map(function(item) {\n    if (item === null) {\n      return null;\n    }\n    item.width = Math.ceil((eachSpacing - 2 * config.columePadding) / 2);\n\n    if (opts.extra.column && opts.extra.column.width && +opts.extra.column.width > 0) {\n      item.width = Math.min(item.width, +opts.extra.column.width);\n    }\n\n    if (index > 0) {\n      item.width -= 2 * border;\n    }\n    return item;\n  });\n}\n\nfunction fixColumeStackData(points, eachSpacing, columnLen, index, config, opts, series) {\n\n  return points.map(function(item, indexn) {\n\n    if (item === null) {\n      return null;\n    }\n    item.width = Math.ceil((eachSpacing - 2 * config.columePadding) / 2);\n\n    if (opts.extra.column && opts.extra.column.width && +opts.extra.column.width > 0) {\n      item.width = Math.min(item.width, +opts.extra.column.width);\n    }\n    return item;\n  });\n}\n\nfunction getXAxisPoints(categories, opts, config) {\n  var spacingValid = opts.width - opts.area[1] - opts.area[3];\n  var dataCount = opts.enableScroll ? Math.min(opts.xAxis.itemCount, categories.length) : categories.length;\n  if((opts.type=='line' || opts.type=='area') && dataCount>1 && opts.xAxis.boundaryGap=='justify'){\n    dataCount -=1;\n  }\n  var eachSpacing = spacingValid / dataCount;\n\n  var xAxisPoints = [];\n  var startX = opts.area[3];\n  var endX = opts.width - opts.area[1];\n  categories.forEach(function(item, index) {\n    xAxisPoints.push(startX + index * eachSpacing);\n  });\n  if(opts.xAxis.boundaryGap !=='justify'){\n    if (opts.enableScroll === true) {\n      xAxisPoints.push(startX + categories.length * eachSpacing);\n    } else {\n      xAxisPoints.push(endX);\n    }\n  }\n  return {\n    xAxisPoints: xAxisPoints,\n    startX: startX,\n    endX: endX,\n    eachSpacing: eachSpacing\n  };\n}\n\nfunction getCandleDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config) {\n  var process = arguments.length > 7 && arguments[7] !== undefined ? arguments[7] : 1;\n  var points = [];\n  var validHeight = opts.height - opts.area[0] - opts.area[2];\n  data.forEach(function(item, index) {\n    if (item === null) {\n      points.push(null);\n    } else {\n      var cPoints = [];\n      item.forEach(function(items, indexs) {\n        var point = {};\n        point.x = xAxisPoints[index] + Math.round(eachSpacing / 2);\n        var value = items.value || items;\n        var height = validHeight * (value - minRange) / (maxRange - minRange);\n        height *= process;\n        point.y = opts.height - Math.round(height) - opts.area[2];\n        cPoints.push(point);\n      });\n      points.push(cPoints);\n    }\n  });\n\n  return points;\n}\n\nfunction getDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config) {\n  var process = arguments.length > 7 && arguments[7] !== undefined ? arguments[7] : 1;\n  var boundaryGap='center';\n  if (opts.type == 'line'||opts.type == 'area'){\n    boundaryGap=opts.xAxis.boundaryGap;\n  }\n  var points = [];\n  var validHeight = opts.height - opts.area[0] - opts.area[2];\n\tvar validWidth = opts.width - opts.area[1] - opts.area[3];\n  data.forEach(function(item, index) {\n    if (item === null) {\n      points.push(null);\n    } else {\n      var point = {};\n      point.color = item.color;\n      point.x = xAxisPoints[index];\n      var value = item;\n      if (typeof item === 'object' && item !== null) {\n\t\t\t\tif (item.constructor.toString().indexOf('Array')>-1) {\n\t\t\t\t\tlet xranges,xminRange,xmaxRange;\n\t\t\t\t\txranges = [].concat(opts.chartData.xAxisData.ranges);\n\t\t\t\t\txminRange = xranges.shift();\n\t\t\t\t\txmaxRange = xranges.pop();\n\t\t\t\t  value = item[1];\n\t\t\t\t\tpoint.x = opts.area[3]+ validWidth * (item[0] - xminRange) / (xmaxRange - xminRange);\n\t\t\t\t} else {\n\t\t\t\t  value = item.value;\n\t\t\t\t}\n      }\n\t\t\tif(boundaryGap=='center'){\n\t\t\t  point.x += Math.round(eachSpacing / 2);\n\t\t\t}\n      var height = validHeight * (value - minRange) / (maxRange - minRange);\n      height *= process;\n      point.y = opts.height - Math.round(height) - opts.area[2];\n      points.push(point);\n    }\n  });\n\n  return points;\n}\n\nfunction getStackDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, seriesIndex, stackSeries) {\n  var process = arguments.length > 9 && arguments[9] !== undefined ? arguments[9] : 1;\n  var points = [];\n  var validHeight = opts.height - opts.area[0] - opts.area[2];\n\n  data.forEach(function(item, index) {\n    if (item === null) {\n      points.push(null);\n    } else {\n      var point = {};\n      point.color = item.color;\n      point.x = xAxisPoints[index] + Math.round(eachSpacing / 2);\n\n      if (seriesIndex > 0) {\n        var value = 0;\n        for (let i = 0; i <= seriesIndex; i++) {\n          value += stackSeries[i].data[index];\n        }\n        var value0 = value - item;\n        var height = validHeight * (value - minRange) / (maxRange - minRange);\n        var height0 = validHeight * (value0 - minRange) / (maxRange - minRange);\n      } else {\n        var value = item;\n        var height = validHeight * (value - minRange) / (maxRange - minRange);\n        var height0 = 0;\n      }\n      var heightc = height0;\n      height *= process;\n      heightc *= process;\n      point.y = opts.height - Math.round(height) - opts.area[2];\n      point.y0 = opts.height - Math.round(heightc) - opts.area[2];\n      points.push(point);\n    }\n  });\n\n  return points;\n}\n\nfunction getYAxisTextList(series, opts, config, stack) {\n  var index = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : -1;\n  var data;\n  if (stack == 'stack') {\n    data = dataCombineStack(series, opts.categories.length);\n  } else {\n    data = dataCombine(series);\n  }\n  var sorted = [];\n  // remove null from data\n  data = data.filter(function(item) {\n    //return item !== null;\n    if (typeof item === 'object' && item !== null) {\n      if (item.constructor.toString().indexOf('Array')>-1) {\n        return item !== null;\n      } else {\n        return item.value !== null;\n      }\n    } else {\n      return item !== null;\n    }\n  });\n  data.map(function(item) {\n    if (typeof item === 'object') {\n      if (item.constructor.toString().indexOf('Array')>-1) {\n\t\t\t\tif(opts.type=='candle'){\n\t\t\t\t\titem.map(function(subitem) {\n\t\t\t\t\t  sorted.push(subitem);\n\t\t\t\t\t})\n\t\t\t\t}else{\n\t\t\t\t\tsorted.push(item[1]);\n\t\t\t\t}\n      } else {\n        sorted.push(item.value);\n      }\n    } else {\n      sorted.push(item);\n    }\n  })\n\t\n  var minData = 0;\n  var maxData = 0;\n  if (sorted.length > 0) {\n    minData = Math.min.apply(this, sorted);\n    maxData = Math.max.apply(this, sorted);\n  }\n  //为了兼容v1.9.0之前的项目\n  if(index>-1){\n    if (typeof opts.yAxis.data[index].min === 'number') {\n      minData = Math.min(opts.yAxis.data[index].min, minData);\n    }\n    if (typeof opts.yAxis.data[index].max === 'number') {\n      maxData = Math.max(opts.yAxis.data[index].max, maxData);\n    }\n  }else{\n    if (typeof opts.yAxis.min === 'number') {\n      minData = Math.min(opts.yAxis.min, minData);\n    }\n    if (typeof opts.yAxis.max === 'number') {\n      maxData = Math.max(opts.yAxis.max, maxData);\n    }\n  }\n  \n\n  if (minData === maxData) {\n    var rangeSpan = maxData || 10;\n    maxData += rangeSpan;\n  }\n\n  var dataRange = getDataRange(minData, maxData);\n  var minRange = dataRange.minRange;\n  var maxRange = dataRange.maxRange;\n\n  var range = [];\n  var eachRange = (maxRange - minRange) / opts.yAxis.splitNumber;\n\n  for (var i = 0; i <= opts.yAxis.splitNumber; i++) {\n    range.push(minRange + eachRange * i);\n  }\n  return range.reverse();\n}\n\nfunction calYAxisData(series, opts, config) {\n  //堆叠图重算Y轴\n  var columnstyle = assign({}, {\n    type: \"\"\n  }, opts.extra.column);\n  //如果是多Y轴，重新计算\n  var YLength = opts.yAxis.data.length;\n  var newSeries=new Array(YLength);\n  if(YLength>0){\n    for(let i=0;i<YLength;i++){\n      newSeries[i]=[];\n      for(let j=0;j<series.length;j++){\n        if(series[j].index == i){\n          newSeries[i].push(series[j]);\n        }\n      }\n    }\n    var rangesArr =new Array(YLength);\n    var rangesFormatArr = new Array(YLength);\n    var yAxisWidthArr =new Array(YLength);\n\t\t\n    for(let i=0;i<YLength;i++){\n      let yData = opts.yAxis.data[i];\n\t\t\t//如果总开关不显示，强制每个Y轴为不显示\n\t\t\tif(opts.yAxis.disabled == true){\n\t\t\t\tyData.disabled = true;\n\t\t\t}\n\t\t\trangesArr[i]=getYAxisTextList(newSeries[i], opts, config, columnstyle.type,i);\n\t\t\tlet yAxisFontSizes = yData.fontSize || config.fontSize;\n\t\t\tyAxisWidthArr[i] = {position:yData.position?yData.position:'left',width:0};\n\t\t\trangesFormatArr[i]= rangesArr[i].map(function(items) {\n\t\t\t\titems = util.toFixed(items, 6);\n\t\t\t\titems = yData.format ? yData.format(Number(items)) : items;\n\t\t\t\tyAxisWidthArr[i].width = Math.max(yAxisWidthArr[i].width, measureText(items, yAxisFontSizes) + 5);\n\t\t\t\treturn items;\n\t\t\t});\n\t\t\tlet calibration= yData.calibration? 4*opts.pixelRatio : 0 ;\n\t\t\tyAxisWidthArr[i].width += calibration +3*opts.pixelRatio;\n      if (yData.disabled === true) {\n        yAxisWidthArr[i].width=0;\n      }\n    }\n    \n  }else{\n    var rangesArr =new Array(1);\n    var rangesFormatArr = new Array(1);\n    var yAxisWidthArr =new Array(1);\n\t\trangesArr[0] = getYAxisTextList(series, opts, config, columnstyle.type);\n\t\tyAxisWidthArr[0] = {position:'left',width:0};\n\t\tvar yAxisFontSize = opts.yAxis.fontSize || config.fontSize;\n\t\trangesFormatArr[0] = rangesArr[0].map(function(item) {\n\t\t\titem = util.toFixed(item, 6);\n\t\t\titem = opts.yAxis.format ? opts.yAxis.format(Number(item)) : item;\n\t\t\tyAxisWidthArr[0].width = Math.max(yAxisWidthArr[0].width, measureText(item, yAxisFontSize) + 5);\n\t\t\treturn item;\n\t\t});\n\t\tyAxisWidthArr[0].width += 3*opts.pixelRatio;\n\t\tif (opts.yAxis.disabled === true) {\n\t\t  yAxisWidthArr[0] = {position:'left',width:0};\n\t\t  opts.yAxis.data[0]={disabled:true};\n\t\t}else{\n\t\t\topts.yAxis.data[0]={disabled:false,position:'left',max:opts.yAxis.max,min:opts.yAxis.min,format:opts.yAxis.format};\n\t\t}\n    \n  }\n\n  return {\n    rangesFormat: rangesFormatArr,\n    ranges: rangesArr,\n    yAxisWidth: yAxisWidthArr\n  };\n  \n}\n\nfunction calTooltipYAxisData(point, series, opts, config, eachSpacing) {\n  let ranges = [].concat(opts.chartData.yAxisData.ranges);\n  let spacingValid = opts.height - opts.area[0] - opts.area[2];\n  let minAxis = opts.area[0];\n  let items=[];\n  for(let i=0;i<ranges.length;i++){\n    let maxVal = ranges[i].shift();\n    let minVal = ranges[i].pop();\n    let item = maxVal - (maxVal - minVal) * (point - minAxis) / spacingValid;\n    item = opts.yAxis.data[i].format ? opts.yAxis.data[i].format(Number(item)) : item.toFixed(0);\n    items.push(String(item))\n  }\n  return items;\n}\n\nfunction calMarkLineData(points, opts) {\n  let minRange, maxRange;\n  let spacingValid = opts.height - opts.area[0] - opts.area[2];\n  for (let i = 0; i < points.length; i++) {\n    points[i].yAxisIndex = points[i].yAxisIndex ? points[i].yAxisIndex:0;\n    let range = [].concat(opts.chartData.yAxisData.ranges[points[i].yAxisIndex]);\n    minRange = range.pop();\n    maxRange = range.shift();\n    let height = spacingValid * (points[i].value - minRange) / (maxRange - minRange);\n    points[i].y = opts.height - Math.round(height) - opts.area[2];\n  }\n  return points;\n}\n\nfunction contextRotate(context, opts) {\n  if (opts.rotateLock !== true) {\n    context.translate(opts.height, 0);\n    context.rotate(90 * Math.PI / 180);\n  } else if (opts._rotate_ !== true) {\n    context.translate(opts.height, 0);\n    context.rotate(90 * Math.PI / 180);\n    opts._rotate_ = true;\n  }\n}\n\nfunction drawPointShape(points, color, shape, context, opts) {\n  context.beginPath();\n\tif(opts.dataPointShapeType == 'hollow'){\n\t\tcontext.setStrokeStyle(color);\n\t\tcontext.setFillStyle(opts.background);\n\t\tcontext.setLineWidth(2 * opts.pixelRatio);\n\t}else{\n\t\tcontext.setStrokeStyle(\"#ffffff\");\n\t\tcontext.setFillStyle(color);\n\t\tcontext.setLineWidth(1 * opts.pixelRatio);\n\t}\n  if (shape === 'diamond') {\n    points.forEach(function(item, index) {\n      if (item !== null) {\n        context.moveTo(item.x, item.y - 4.5);\n        context.lineTo(item.x - 4.5, item.y);\n        context.lineTo(item.x, item.y + 4.5);\n        context.lineTo(item.x + 4.5, item.y);\n        context.lineTo(item.x, item.y - 4.5);\n      }\n    });\n  } else if (shape === 'circle') {\n    points.forEach(function(item, index) {\n      if (item !== null) {\n        context.moveTo(item.x + 2.5 * opts.pixelRatio, item.y);\n        context.arc(item.x, item.y, 3 * opts.pixelRatio, 0, 2 * Math.PI, false);\n      }\n    });\n  } else if (shape === 'rect') {\n    points.forEach(function(item, index) {\n      if (item !== null) {\n        context.moveTo(item.x - 3.5, item.y - 3.5);\n        context.rect(item.x - 3.5, item.y - 3.5, 7, 7);\n      }\n    });\n  } else if (shape === 'triangle') {\n    points.forEach(function(item, index) {\n      if (item !== null) {\n        context.moveTo(item.x, item.y - 4.5);\n        context.lineTo(item.x - 4.5, item.y + 4.5);\n        context.lineTo(item.x + 4.5, item.y + 4.5);\n        context.lineTo(item.x, item.y - 4.5);\n      }\n    });\n  }\n  context.closePath();\n  context.fill();\n  context.stroke();\n}\n\nfunction drawRingTitle(opts, config, context, center) {\n  var titlefontSize = opts.title.fontSize || config.titleFontSize;\n  var subtitlefontSize = opts.subtitle.fontSize || config.subtitleFontSize;\n  var title = opts.title.name || '';\n  var subtitle = opts.subtitle.name || '';\n  var titleFontColor = opts.title.color || config.titleColor;\n  var subtitleFontColor = opts.subtitle.color || config.subtitleColor;\n  var titleHeight = title ? titlefontSize : 0;\n  var subtitleHeight = subtitle ? subtitlefontSize : 0;\n  var margin = 5;\n\n  if (subtitle) {\n    var textWidth = measureText(subtitle, subtitlefontSize);\n    var startX = center.x - textWidth / 2 + (opts.subtitle.offsetX || 0);\n    var startY = center.y + subtitlefontSize / 2 + (opts.subtitle.offsetY || 0);\n    if (title) {\n      startY += (titleHeight + margin) / 2;\n    }\n    context.beginPath();\n    context.setFontSize(subtitlefontSize);\n    context.setFillStyle(subtitleFontColor);\n    context.fillText(subtitle, startX, startY);\n    context.closePath();\n    context.stroke();\n  }\n  if (title) {\n    var _textWidth = measureText(title, titlefontSize);\n    var _startX = center.x - _textWidth / 2 + (opts.title.offsetX || 0);\n    var _startY = center.y + titlefontSize / 2 + (opts.title.offsetY || 0);\n    if (subtitle) {\n      _startY -= (subtitleHeight + margin) / 2;\n    }\n    context.beginPath();\n    context.setFontSize(titlefontSize);\n    context.setFillStyle(titleFontColor);\n    context.fillText(title, _startX, _startY);\n    context.closePath();\n    context.stroke();\n  }\n}\n\nfunction drawPointText(points, series, config, context) {\n  // 绘制数据文案\n  var data = series.data;\n  points.forEach(function(item, index) {\n    if (item !== null) {\n      //var formatVal = series.format ? series.format(data[index]) : data[index];\n      context.beginPath();\n      context.setFontSize(series.textSize || config.fontSize);\n      context.setFillStyle(series.textColor || '#666666');\n      var value = data[index]\n      if (typeof data[index] === 'object' && data[index] !== null) {\n\t\t\t\tif (data[index].constructor == Array) {\n\t\t\t\t\tvalue = data[index][1];\n\t\t\t\t}else{\n\t\t\t\t\tvalue = data[index].value\n\t\t\t\t}\n      }\n      var formatVal = series.format ? series.format(value) : value;\n      context.fillText(String(formatVal), item.x - measureText(formatVal, series.textSize || config.fontSize) / 2, item.y -4);\n      context.closePath();\n      context.stroke();\n    }\n  });\n\n}\n\nfunction drawGaugeLabel(gaugeOption, radius, centerPosition, opts, config, context) {\n  radius -= gaugeOption.width / 2 + config.gaugeLabelTextMargin;\n\n  let totalAngle = gaugeOption.startAngle - gaugeOption.endAngle + 1;\n  let splitAngle = totalAngle / gaugeOption.splitLine.splitNumber;\n  let totalNumber = gaugeOption.endNumber - gaugeOption.startNumber;\n  let splitNumber = totalNumber / gaugeOption.splitLine.splitNumber;\n  let nowAngle = gaugeOption.startAngle;\n  let nowNumber = gaugeOption.startNumber;\n  for (let i = 0; i < gaugeOption.splitLine.splitNumber + 1; i++) {\n    var pos = {\n      x: radius * Math.cos(nowAngle * Math.PI),\n      y: radius * Math.sin(nowAngle * Math.PI)\n    };\n    var labelText = gaugeOption.labelFormat ? gaugeOption.labelFormat(nowNumber) : nowNumber;\n    pos.x += centerPosition.x - measureText(labelText) / 2;\n    pos.y += centerPosition.y;\n    var startX = pos.x;\n    var startY = pos.y;\n    context.beginPath();\n    context.setFontSize(config.fontSize);\n    context.setFillStyle(gaugeOption.labelColor || '#666666');\n    context.fillText(labelText, startX, startY + config.fontSize / 2);\n    context.closePath();\n    context.stroke();\n\n    nowAngle += splitAngle;\n    if (nowAngle >= 2) {\n      nowAngle = nowAngle % 2;\n    }\n    nowNumber += splitNumber;\n  }\n\n}\n\nfunction drawRadarLabel(angleList, radius, centerPosition, opts, config, context) {\n  var radarOption = opts.extra.radar || {};\n  radius += config.radarLabelTextMargin;\n\n  angleList.forEach(function(angle, index) {\n    var pos = {\n      x: radius * Math.cos(angle),\n      y: radius * Math.sin(angle)\n    };\n    var posRelativeCanvas = convertCoordinateOrigin(pos.x, pos.y, centerPosition);\n    var startX = posRelativeCanvas.x;\n    var startY = posRelativeCanvas.y;\n    if (util.approximatelyEqual(pos.x, 0)) {\n      startX -= measureText(opts.categories[index] || '') / 2;\n    } else if (pos.x < 0) {\n      startX -= measureText(opts.categories[index] || '');\n    }\n    context.beginPath();\n    context.setFontSize(config.fontSize);\n    context.setFillStyle(radarOption.labelColor || '#666666');\n    context.fillText(opts.categories[index] || '', startX, startY + config.fontSize / 2);\n    context.closePath();\n    context.stroke();\n  });\n\n}\n\nfunction drawPieText(series, opts, config, context, radius, center) {\n  var lineRadius = config.pieChartLinePadding;\n  var textObjectCollection = [];\n  var lastTextObject = null;\n\n  var seriesConvert = series.map(function(item) {\n    var text = item.format ? item.format(+item._proportion_.toFixed(2)) : util.toFixed(item._proportion_.toFixed(4) * 100) +'%';\n    if(item._rose_proportion_) item._proportion_=item._rose_proportion_;\n    var arc = 2 * Math.PI - (item._start_ + 2 * Math.PI * item._proportion_ / 2);\n    var color = item.color;\n    var radius = item._radius_;\n    return {\n      arc: arc,\n      text: text,\n      color: color,\n      radius: radius,\n      textColor: item.textColor,\n      textSize: item.textSize,\n    };\n  });\n  for (let i = 0; i < seriesConvert.length; i++) {\n    let item = seriesConvert[i];\n    // line end\n    let orginX1 = Math.cos(item.arc) * (item.radius + lineRadius);\n    let orginY1 = Math.sin(item.arc) * (item.radius + lineRadius);\n\n    // line start\n    let orginX2 = Math.cos(item.arc) * item.radius;\n    let orginY2 = Math.sin(item.arc) * item.radius;\n\n    // text start\n    let orginX3 = orginX1 >= 0 ? orginX1 + config.pieChartTextPadding : orginX1 - config.pieChartTextPadding;\n    let orginY3 = orginY1;\n    let textWidth = measureText(item.text,item.textSize||config.fontSize);\n    let startY = orginY3;\n\n    if (lastTextObject && util.isSameXCoordinateArea(lastTextObject.start, {\n        x: orginX3\n      })) {\n      if (orginX3 > 0) {\n        startY = Math.min(orginY3, lastTextObject.start.y);\n      } else if (orginX1 < 0) {\n        startY = Math.max(orginY3, lastTextObject.start.y);\n      } else {\n        if (orginY3 > 0) {\n          startY = Math.max(orginY3, lastTextObject.start.y);\n        } else {\n          startY = Math.min(orginY3, lastTextObject.start.y);\n        }\n      }\n    }\n    if (orginX3 < 0) {\n      orginX3 -= textWidth;\n    }\n\n    let textObject = {\n      lineStart: {\n        x: orginX2,\n        y: orginY2\n      },\n      lineEnd: {\n        x: orginX1,\n        y: orginY1\n      },\n      start: {\n        x: orginX3,\n        y: startY\n      },\n      width: textWidth,\n      height: config.fontSize,\n      text: item.text,\n      color: item.color,\n      textColor: item.textColor,\n      textSize: item.textSize\n    };\n    lastTextObject = avoidCollision(textObject, lastTextObject);\n    textObjectCollection.push(lastTextObject);\n  }\n\n  for (let i = 0; i < textObjectCollection.length; i++) {\n    let item = textObjectCollection[i];\n    let lineStartPoistion = convertCoordinateOrigin(item.lineStart.x, item.lineStart.y, center);\n    let lineEndPoistion = convertCoordinateOrigin(item.lineEnd.x, item.lineEnd.y, center);\n    let textPosition = convertCoordinateOrigin(item.start.x, item.start.y, center);\n    context.setLineWidth(1 * opts.pixelRatio);\n    context.setFontSize(config.fontSize);\n    context.beginPath();\n    context.setStrokeStyle(item.color);\n    context.setFillStyle(item.color);\n    context.moveTo(lineStartPoistion.x, lineStartPoistion.y);\n    let curveStartX = item.start.x < 0 ? textPosition.x + item.width : textPosition.x;\n    let textStartX = item.start.x < 0 ? textPosition.x - 5 : textPosition.x + 5;\n    context.quadraticCurveTo(lineEndPoistion.x, lineEndPoistion.y, curveStartX, textPosition.y);\n    context.moveTo(lineStartPoistion.x, lineStartPoistion.y);\n    context.stroke();\n    context.closePath();\n    context.beginPath();\n    context.moveTo(textPosition.x + item.width, textPosition.y);\n    context.arc(curveStartX, textPosition.y, 2, 0, 2 * Math.PI);\n    context.closePath();\n    context.fill();\n    context.beginPath();\n    context.setFontSize(item.textSize || config.fontSize);\n    context.setFillStyle(item.textColor || '#666666');\n    context.fillText(item.text, textStartX, textPosition.y + 3);\n    context.closePath();\n    context.stroke();\n    context.closePath();\n  }\n}\n\nfunction drawToolTipSplitLine(offsetX, opts, config, context) {\n  var toolTipOption = opts.extra.tooltip || {};\n  toolTipOption.gridType = toolTipOption.gridType == undefined ? 'solid' : toolTipOption.gridType;\n  toolTipOption.dashLength = toolTipOption.dashLength == undefined ? 4 : toolTipOption.dashLength;\n  var startY = opts.area[0];\n  var endY = opts.height - opts.area[2];\n\n  if (toolTipOption.gridType == 'dash') {\n    context.setLineDash([toolTipOption.dashLength, toolTipOption.dashLength]);\n  }\n  context.setStrokeStyle(toolTipOption.gridColor || '#cccccc');\n  context.setLineWidth(1 * opts.pixelRatio);\n  context.beginPath();\n  context.moveTo(offsetX, startY);\n  context.lineTo(offsetX, endY);\n  context.stroke();\n  context.setLineDash([]);\n\n  if (toolTipOption.xAxisLabel) {\n    let labelText = opts.categories[opts.tooltip.index];\n    context.setFontSize(config.fontSize);\n    let textWidth = measureText(labelText, config.fontSize);\n\n    let textX = offsetX - 0.5 * textWidth;\n    let textY = endY;\n    context.beginPath();\n    context.setFillStyle(hexToRgb(toolTipOption.labelBgColor || config.toolTipBackground, toolTipOption.labelBgOpacity || config.toolTipOpacity));\n    context.setStrokeStyle(toolTipOption.labelBgColor || config.toolTipBackground);\n    context.setLineWidth(1 * opts.pixelRatio);\n    context.rect(textX - config.toolTipPadding, textY, textWidth + 2 * config.toolTipPadding, config.fontSize + 2 * config.toolTipPadding);\n    context.closePath();\n    context.stroke();\n    context.fill();\n\n    context.beginPath();\n    context.setFontSize(config.fontSize);\n    context.setFillStyle(toolTipOption.labelFontColor || config.fontColor);\n    context.fillText(String(labelText), textX, textY + config.toolTipPadding + config.fontSize);\n    context.closePath();\n    context.stroke();\n  }\n}\n\nfunction drawMarkLine(opts, config, context) {\n  let markLineOption = assign({}, {\n    type: 'solid',\n    dashLength: 4,\n    data: []\n  }, opts.extra.markLine);\n  let startX = opts.area[3];\n  let endX = opts.width - opts.area[1];\n  let points = calMarkLineData(markLineOption.data, opts);\n\n  for (let i = 0; i < points.length; i++) {\n    let item = assign({}, {\n      lineColor: '#DE4A42',\n      showLabel: false,\n      labelFontColor: '#666666',\n      labelBgColor: '#DFE8FF',\n      labelBgOpacity: 0.8,\n      yAxisIndex: 0\n    }, points[i]);\n\n    if (markLineOption.type == 'dash') {\n      context.setLineDash([markLineOption.dashLength, markLineOption.dashLength]);\n    }\n    context.setStrokeStyle(item.lineColor);\n    context.setLineWidth(1 * opts.pixelRatio);\n    context.beginPath();\n    context.moveTo(startX, item.y);\n    context.lineTo(endX, item.y);\n    context.stroke();\n    context.setLineDash([]);\n    if (item.showLabel) {\n      let labelText = opts.yAxis.format ? opts.yAxis.format(Number(item.value)) : item.value;\n      context.setFontSize(config.fontSize);\n      let textWidth = measureText(labelText, config.fontSize);\n      let bgStartX = opts.padding[3] + config.yAxisTitleWidth - config.toolTipPadding;\n      let bgEndX = Math.max(opts.area[3], textWidth + config.toolTipPadding * 2);\n      let bgWidth = bgEndX - bgStartX;\n\n      let textX = bgStartX + (bgWidth - textWidth) / 2;\n      let textY = item.y;\n      context.setFillStyle(hexToRgb(item.labelBgColor, item.labelBgOpacity));\n      context.setStrokeStyle(item.labelBgColor);\n      context.setLineWidth(1 * opts.pixelRatio);\n      context.beginPath();\n      context.rect(bgStartX, textY - 0.5 * config.fontSize - config.toolTipPadding, bgWidth, config.fontSize + 2 * config.toolTipPadding);\n      context.closePath();\n      context.stroke();\n      context.fill();\n\n      context.beginPath();\n      context.setFontSize(config.fontSize);\n      context.setFillStyle(item.labelFontColor);\n      context.fillText(String(labelText), textX, textY + 0.5 * config.fontSize);\n      context.stroke();\n    }\n  }\n}\n\nfunction drawToolTipHorizentalLine(opts, config, context, eachSpacing, xAxisPoints) {\n  var toolTipOption = assign({}, {\n    gridType: 'solid',\n    dashLength: 4\n  }, opts.extra.tooltip);\n\n  var startX = opts.area[3];\n  var endX = opts.width - opts.area[1];\n\n  if (toolTipOption.gridType == 'dash') {\n    context.setLineDash([toolTipOption.dashLength, toolTipOption.dashLength]);\n  }\n  context.setStrokeStyle(toolTipOption.gridColor || '#cccccc');\n  context.setLineWidth(1 * opts.pixelRatio);\n  context.beginPath();\n  context.moveTo(startX, opts.tooltip.offset.y);\n  context.lineTo(endX, opts.tooltip.offset.y);\n  context.stroke();\n  context.setLineDash([]);\n\n  if (toolTipOption.yAxisLabel) {\n    let labelText = calTooltipYAxisData(opts.tooltip.offset.y, opts.series, opts, config, eachSpacing);\n    let widthArr = opts.chartData.yAxisData.yAxisWidth;\n    let tStartLeft=opts.area[3];\n    let tStartRight=opts.width-opts.area[1];\n    for(let i=0;i<labelText.length;i++){\n      context.setFontSize(config.fontSize);\n      let textWidth = measureText(labelText[i], config.fontSize);\n      let bgStartX,bgEndX,bgWidth;\n      if(widthArr[i].position == 'left'){\n        bgStartX = tStartLeft - widthArr[i].width;\n        bgEndX = Math.max(bgStartX, bgStartX + textWidth + config.toolTipPadding * 2);\n      }else{\n        bgStartX = tStartRight;\n        bgEndX = Math.max(bgStartX + widthArr[i].width, bgStartX + textWidth + config.toolTipPadding * 2);\n      }\n      bgWidth = bgEndX - bgStartX;\n      \n      let textX = bgStartX + (bgWidth - textWidth) / 2;\n      let textY = opts.tooltip.offset.y;\n      context.beginPath();\n      context.setFillStyle(hexToRgb(toolTipOption.labelBgColor || config.toolTipBackground, toolTipOption.labelBgOpacity || config.toolTipOpacity));\n      context.setStrokeStyle(toolTipOption.labelBgColor || config.toolTipBackground);\n      context.setLineWidth(1 * opts.pixelRatio);\n      context.rect(bgStartX, textY - 0.5 * config.fontSize - config.toolTipPadding, bgWidth, config.fontSize + 2 * config.toolTipPadding);\n      context.closePath();\n      context.stroke();\n      context.fill();\n      \n      context.beginPath();\n      context.setFontSize(config.fontSize);\n      context.setFillStyle(toolTipOption.labelFontColor || config.fontColor);\n      context.fillText(labelText[i], textX, textY + 0.5 * config.fontSize);\n      context.closePath();\n      context.stroke();\n      if(widthArr[i].position == 'left'){\n        tStartLeft -=(widthArr[i].width + opts.yAxis.padding);\n      }else{\n        tStartRight +=widthArr[i].width+ opts.yAxis.padding;\n      }\n    }\n  }\n}\n\nfunction drawToolTipSplitArea(offsetX, opts, config, context, eachSpacing) {\n  var toolTipOption = assign({}, {\n    activeBgColor: '#000000',\n    activeBgOpacity: 0.08\n  }, opts.extra.tooltip);\n  var startY = opts.area[0];\n  var endY = opts.height - opts.area[2];\n  context.beginPath();\n  context.setFillStyle(hexToRgb(toolTipOption.activeBgColor, toolTipOption.activeBgOpacity));\n  context.rect(offsetX - eachSpacing / 2, startY, eachSpacing, endY - startY);\n  context.closePath();\n  context.fill();\n}\n\nfunction drawToolTip(textList, offset, opts, config, context, eachSpacing, xAxisPoints) {\n  var toolTipOption = assign({}, {\n\t\tshowBox:true,\n    bgColor: '#000000',\n    bgOpacity: 0.7,\n    fontColor: '#FFFFFF'\n  }, opts.extra.tooltip);\n  var legendWidth = 4 * opts.pixelRatio;\n  var legendMarginRight = 5 * opts.pixelRatio;\n  var arrowWidth = 8 * opts.pixelRatio;\n  var isOverRightBorder = false;\n  if (opts.type == 'line' || opts.type == 'area' || opts.type == 'candle' || opts.type == 'mix') {\n    drawToolTipSplitLine(opts.tooltip.offset.x, opts, config, context);\n  }\n\n  offset = assign({\n    x: 0,\n    y: 0\n  }, offset);\n  offset.y -= 8 * opts.pixelRatio;\n  var textWidth = textList.map(function(item) {\n    return measureText(item.text, config.fontSize);\n  });\n  var toolTipWidth = legendWidth + legendMarginRight + 4 * config.toolTipPadding + Math.max.apply(null, textWidth);\n  var toolTipHeight = 2 * config.toolTipPadding + textList.length * config.toolTipLineHeight;\n\n\tif(toolTipOption.showBox == false){ return }\n  // if beyond the right border\n  if (offset.x - Math.abs(opts._scrollDistance_) + arrowWidth + toolTipWidth > opts.width) {\n    isOverRightBorder = true;\n  }\n  if (toolTipHeight + offset.y > opts.height) {\n    offset.y = opts.height - toolTipHeight;\n  }\n  // draw background rect\n  context.beginPath();\n  context.setFillStyle(hexToRgb(toolTipOption.bgColor || config.toolTipBackground, toolTipOption.bgOpacity || config.toolTipOpacity));\n  if (isOverRightBorder) {\n    context.moveTo(offset.x, offset.y + 10 * opts.pixelRatio);\n    context.lineTo(offset.x - arrowWidth, offset.y + 10 * opts.pixelRatio - 5 * opts.pixelRatio);\n    context.lineTo(offset.x - arrowWidth, offset.y);\n    context.lineTo(offset.x - arrowWidth - Math.round(toolTipWidth), offset.y);\n    context.lineTo(offset.x - arrowWidth - Math.round(toolTipWidth), offset.y + toolTipHeight);\n    context.lineTo(offset.x - arrowWidth, offset.y + toolTipHeight);\n    context.lineTo(offset.x - arrowWidth, offset.y + 10 * opts.pixelRatio + 5 * opts.pixelRatio);\n    context.lineTo(offset.x, offset.y + 10 * opts.pixelRatio);\n  } else {\n    context.moveTo(offset.x, offset.y + 10 * opts.pixelRatio);\n    context.lineTo(offset.x + arrowWidth, offset.y + 10 * opts.pixelRatio - 5 * opts.pixelRatio);\n    context.lineTo(offset.x + arrowWidth, offset.y);\n    context.lineTo(offset.x + arrowWidth + Math.round(toolTipWidth), offset.y);\n    context.lineTo(offset.x + arrowWidth + Math.round(toolTipWidth), offset.y + toolTipHeight);\n    context.lineTo(offset.x + arrowWidth, offset.y + toolTipHeight);\n    context.lineTo(offset.x + arrowWidth, offset.y + 10 * opts.pixelRatio + 5 * opts.pixelRatio);\n    context.lineTo(offset.x, offset.y + 10 * opts.pixelRatio);\n  }\n\n  context.closePath();\n  context.fill();\n\n  // draw legend\n  textList.forEach(function(item, index) {\n    if (item.color !== null) {\n      context.beginPath();\n      context.setFillStyle(item.color);\n      var startX = offset.x + arrowWidth + 2 * config.toolTipPadding;\n      var startY = offset.y + (config.toolTipLineHeight - config.fontSize) / 2 + config.toolTipLineHeight * index +\n        config.toolTipPadding + 1;\n      if (isOverRightBorder) {\n        startX = offset.x - toolTipWidth - arrowWidth + 2 * config.toolTipPadding;\n      }\n      context.fillRect(startX, startY, legendWidth, config.fontSize);\n      context.closePath();\n    }\n  });\n\n  // draw text list\n\n  textList.forEach(function(item, index) {\n    var startX = offset.x + arrowWidth + 2 * config.toolTipPadding + legendWidth + legendMarginRight;\n    if (isOverRightBorder) {\n      startX = offset.x - toolTipWidth - arrowWidth + 2 * config.toolTipPadding + +legendWidth + legendMarginRight;\n    }\n    var startY = offset.y + (config.toolTipLineHeight - config.fontSize) / 2 + config.toolTipLineHeight * index +\n      config.toolTipPadding;\n    context.beginPath();\n    context.setFontSize(config.fontSize);\n    context.setFillStyle(toolTipOption.fontColor);\n    context.fillText(item.text, startX, startY + config.fontSize);\n    context.closePath();\n    context.stroke();\n  });\n}\n\nfunction drawYAxisTitle(title, opts, config, context) {\n  var startX = config.xAxisHeight + (opts.height - config.xAxisHeight - measureText(title)) / 2;\n  context.save();\n  context.beginPath();\n  context.setFontSize(config.fontSize);\n  context.setFillStyle(opts.yAxis.titleFontColor || '#333333');\n  context.translate(0, opts.height);\n  context.rotate(-90 * Math.PI / 180);\n  context.fillText(title, startX, opts.padding[3] + 0.5 * config.fontSize);\n  context.closePath();\n  context.stroke();\n  context.restore();\n}\n\nfunction drawColumnDataPoints(series, opts, config, context) {\n  let process = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\n  let xAxisData = opts.chartData.xAxisData,\n    xAxisPoints = xAxisData.xAxisPoints,\n    eachSpacing = xAxisData.eachSpacing;\n  let columnOption = assign({}, {\n    type: 'group',\n    width: eachSpacing / 2,\n    meter: {\n      border: 4,\n      fillColor: '#FFFFFF'\n    }\n  }, opts.extra.column);\n  \n  let calPoints = [];\n  context.save();\n\t\n\tlet leftNum=-2;\n\tlet rightNum=xAxisPoints.length+2;\n\t\n  if (opts._scrollDistance_ && opts._scrollDistance_ !== 0 && opts.enableScroll === true) {\n    context.translate(opts._scrollDistance_, 0);\n\t\tleftNum=Math.floor(-opts._scrollDistance_/eachSpacing)-2;\n\t\trightNum=leftNum+opts.xAxis.itemCount+4;\n  }\n  if (opts.tooltip && opts.tooltip.textList && opts.tooltip.textList.length && process === 1) {\n    drawToolTipSplitArea(opts.tooltip.offset.x, opts, config, context, eachSpacing);\n  }\n\t\n  series.forEach(function(eachSeries, seriesIndex) {\n    let ranges,minRange,maxRange;\n    ranges = [].concat(opts.chartData.yAxisData.ranges[eachSeries.index]);\n    minRange = ranges.pop();\n    maxRange = ranges.shift();\n    \n    var data = eachSeries.data;\n    switch (columnOption.type) {\n      case 'group':\n        var points = getDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, process);\n        var tooltipPoints = getStackDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, seriesIndex, series, process);\n        calPoints.push(tooltipPoints);\n        points = fixColumeData(points, eachSpacing, series.length, seriesIndex, config, opts);\n\t\t\t\tfor(let i=0;i<points.length;i++){\n\t\t\t\t\tlet item=points[i];\n          if (item !== null && i>leftNum && i<rightNum) {\n            context.beginPath();\n            context.setStrokeStyle(item.color || eachSeries.color);\n            context.setLineWidth(1)\n            context.setFillStyle(item.color || eachSeries.color);\n            var startX = item.x - item.width / 2;\n            var height = opts.height - item.y - opts.area[2];\n            context.moveTo(startX, item.y);\n            context.lineTo(startX+item.width-2,item.y);\n            context.lineTo(startX+item.width-2,opts.height - opts.area[2]);\n            context.lineTo(startX,opts.height - opts.area[2]);\n            context.lineTo(startX,item.y);\n            context.closePath();\n            context.stroke();\n            context.fill();\n          }\n        };\n        break;\n      case 'stack':\n        // 绘制堆叠数据图\n        var points = getStackDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, seriesIndex, series, process);\n        calPoints.push(points);\n        points = fixColumeStackData(points, eachSpacing, series.length, seriesIndex, config, opts, series);\n\n        for(let i=0;i<points.length;i++){\n        \tlet item=points[i];\n          if (item !== null && i>leftNum && i<rightNum) {\n            context.beginPath();\n            context.setFillStyle(item.color || eachSeries.color);\n            var startX = item.x - item.width / 2 + 1;\n            var height = opts.height - item.y - opts.area[2];\n            var height0 = opts.height - item.y0 - opts.area[2];\n            if (seriesIndex > 0) {\n              height -= height0;\n            }\n            context.moveTo(startX, item.y);\n            context.fillRect(startX, item.y, item.width - 2, height);\n            context.closePath();\n            context.fill();\n          }\n        };\n        break;\n      case 'meter':\n        // 绘制温度计数据图\n        var points = getDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, process);\n        calPoints.push(points);\n        points = fixColumeMeterData(points, eachSpacing, series.length, seriesIndex, config, opts, columnOption.meter.border);\n        if (seriesIndex == 0) {\n          for(let i=0;i<points.length;i++){\n          \tlet item=points[i];\n            if (item !== null && i>leftNum && i<rightNum) {\n              //画背景颜色\n              context.beginPath();\n              context.setFillStyle(columnOption.meter.fillColor);\n              var startX = item.x - item.width / 2;\n              var height = opts.height - item.y - opts.area[2];\n              context.moveTo(startX, item.y);\n              context.fillRect(startX, item.y, item.width, height);\n              context.closePath();\n              context.fill();\n              //画边框线\n              if (columnOption.meter.border > 0) {\n                context.beginPath();\n                context.setStrokeStyle(eachSeries.color);\n                context.setLineWidth(columnOption.meter.border * opts.pixelRatio);\n                context.moveTo(startX + columnOption.meter.border * 0.5, item.y + height);\n                context.lineTo(startX + columnOption.meter.border * 0.5, item.y + columnOption.meter.border * 0.5);\n                context.lineTo(startX + item.width - columnOption.meter.border * 0.5, item.y + columnOption.meter.border * 0.5);\n                context.lineTo(startX + item.width - columnOption.meter.border * 0.5, item.y + height);\n                context.stroke();\n              }\n            }\n          };\n        } else {\n          for(let i=0;i<points.length;i++){\n          \tlet item=points[i];\n            if (item !== null && i>leftNum && i<rightNum) {\n              context.beginPath();\n              context.setFillStyle(item.color || eachSeries.color);\n              var startX = item.x - item.width / 2;\n              var height = opts.height - item.y - opts.area[2];\n              context.moveTo(startX, item.y);\n              context.fillRect(startX, item.y, item.width, height);\n              context.closePath();\n              context.fill();\n            }\n          };\n        }\n        break;\n    }\n  });\n\n  if (opts.dataLabel !== false && process === 1) {\n    series.forEach(function(eachSeries, seriesIndex) {\n      let ranges,minRange,maxRange;\n        ranges = [].concat(opts.chartData.yAxisData.ranges[eachSeries.index]);\n        minRange = ranges.pop();\n        maxRange = ranges.shift();\n      var data = eachSeries.data;\n      switch (columnOption.type) {\n        case 'group':\n          var points = getDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, process);\n          points = fixColumeData(points, eachSpacing, series.length, seriesIndex, config, opts);\n          drawPointText(points, eachSeries, config, context);\n          break;\n        case 'stack':\n          var points = getStackDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, seriesIndex, series, process);\n          drawPointText(points, eachSeries, config, context);\n          break;\n        case 'meter':\n          var points = getDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, process);\n          drawPointText(points, eachSeries, config, context);\n          break;\n      }\n    });\n  }\n\n  context.restore();\n\n  return {\n    xAxisPoints: xAxisPoints,\n    calPoints: calPoints,\n    eachSpacing: eachSpacing\n  };\n}\n\nfunction drawCandleDataPoints(series, seriesMA, opts, config, context) {\n  var process = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 1;\n  var candleOption = assign({}, {\n    color: {},\n    average: {}\n  }, opts.extra.candle);\n  candleOption.color = assign({}, {\n    upLine: '#f04864',\n    upFill: '#f04864',\n    downLine: '#2fc25b',\n    downFill: '#2fc25b'\n  }, candleOption.color);\n  candleOption.average = assign({}, {\n    show: false,\n    name: [],\n    day: [],\n    color: config.colors\n  }, candleOption.average);\n  opts.extra.candle = candleOption;\n\n  let xAxisData = opts.chartData.xAxisData,\n    xAxisPoints = xAxisData.xAxisPoints,\n    eachSpacing = xAxisData.eachSpacing;\n\n  let calPoints = [];\n\n  context.save();\n\t\n\tlet leftNum=-2;\n\tlet rightNum=xAxisPoints.length+2;\n\tlet leftSpace=0;\n\tlet rightSpace=opts.width+eachSpacing;\n\t\n  if (opts._scrollDistance_ && opts._scrollDistance_ !== 0 && opts.enableScroll === true) {\n    context.translate(opts._scrollDistance_, 0);\n\t\tleftNum=Math.floor(-opts._scrollDistance_/eachSpacing)-2;\n\t\trightNum=leftNum+opts.xAxis.itemCount+4;\n\t\tleftSpace=-opts._scrollDistance_-eachSpacing+opts.area[3];\n\t\trightSpace=leftSpace+(opts.xAxis.itemCount+4)*eachSpacing;\n  }\n\n  //画均线\n  if (candleOption.average.show) {\n    seriesMA.forEach(function(eachSeries, seriesIndex) {\n      let ranges,minRange,maxRange;\n      ranges = [].concat(opts.chartData.yAxisData.ranges[eachSeries.index]);\n      minRange = ranges.pop();\n      maxRange = ranges.shift();\n\n      var data = eachSeries.data;\n      var points = getDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, process);\n      var splitPointList = splitPoints(points);\n\t\t\t\n\t\t\tfor(let i=0;i<splitPointList.length;i++){\n\t\t\t\tlet points=splitPointList[i];\n\t\t\t\tcontext.beginPath();\n\t\t\t\tcontext.setStrokeStyle(eachSeries.color);\n\t\t\t\tcontext.setLineWidth(1);\n\t\t\t\tif (points.length === 1) {\n\t\t\t\t\tcontext.moveTo(points[0].x, points[0].y);\n\t\t\t\t\tcontext.arc(points[0].x, points[0].y, 1, 0, 2 * Math.PI);\n\t\t\t\t} else {\n\t\t\t\t\tcontext.moveTo(points[0].x, points[0].y);\n\t\t\t\t\tlet startPoint=0;\n\t\t\t\t\tfor(let j=0;j<points.length;j++){\n\t\t\t\t\t\tlet item=points[j];\n\t\t\t\t\t\tif(startPoint==0 && item.x > leftSpace){\n\t\t\t\t\t\t\tcontext.moveTo(item.x, item.y);\n\t\t\t\t\t\t\tstartPoint=1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (j > 0 && item.x > leftSpace && item.x < rightSpace) {\n\t\t\t\t\t\t\tvar ctrlPoint = createCurveControlPoints(points, j - 1);\n\t\t\t\t\t\t\tcontext.bezierCurveTo(ctrlPoint.ctrA.x, ctrlPoint.ctrA.y, ctrlPoint.ctrB.x, ctrlPoint.ctrB.y,item.x, item.y);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcontext.moveTo(points[0].x, points[0].y);\n\t\t\t\t}\n\t\t\t\tcontext.closePath();\n\t\t\t\tcontext.stroke();\n      }\n    });\n  }\n  //画K线\n  series.forEach(function(eachSeries, seriesIndex) {\n    let ranges,minRange,maxRange;\n    ranges = [].concat(opts.chartData.yAxisData.ranges[eachSeries.index]);\n    minRange = ranges.pop();\n    maxRange = ranges.shift();\n    var data = eachSeries.data;\n    var points = getCandleDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, process);\n    calPoints.push(points);\n    var splitPointList = splitPoints(points);\n\n\t\tfor(let i=0;i<splitPointList[0].length;i++){\n\t\t\tif(i>leftNum && i<rightNum){\n\t\t\t\tlet item=splitPointList[0][i];\n\t\t\t\tcontext.beginPath();\n\t\t\t\t//如果上涨\n\t\t\t\tif (data[i][1] - data[i][0] > 0) {\n\t\t\t\t\tcontext.setStrokeStyle(candleOption.color.upLine);\n\t\t\t\t\tcontext.setFillStyle(candleOption.color.upFill);\n\t\t\t\t\tcontext.setLineWidth(1 * opts.pixelRatio);\n\t\t\t\t\tcontext.moveTo(item[3].x, item[3].y); //顶点\n\t\t\t\t\tcontext.lineTo(item[1].x, item[1].y); //收盘中间点\n\t\t\t\t\tcontext.lineTo(item[1].x - eachSpacing / 4, item[1].y); //收盘左侧点\n\t\t\t\t\tcontext.lineTo(item[0].x - eachSpacing / 4, item[0].y); //开盘左侧点\n\t\t\t\t\tcontext.lineTo(item[0].x, item[0].y); //开盘中间点\n\t\t\t\t\tcontext.lineTo(item[2].x, item[2].y); //底点\n\t\t\t\t\tcontext.lineTo(item[0].x, item[0].y); //开盘中间点\n\t\t\t\t\tcontext.lineTo(item[0].x + eachSpacing / 4, item[0].y); //开盘右侧点\n\t\t\t\t\tcontext.lineTo(item[1].x + eachSpacing / 4, item[1].y); //收盘右侧点\n\t\t\t\t\tcontext.lineTo(item[1].x, item[1].y); //收盘中间点\n\t\t\t\t\tcontext.moveTo(item[3].x, item[3].y); //顶点\n\t\t\t\t} else {\n\t\t\t\t\tcontext.setStrokeStyle(candleOption.color.downLine);\n\t\t\t\t\tcontext.setFillStyle(candleOption.color.downFill);\n\t\t\t\t\tcontext.setLineWidth(1 * opts.pixelRatio);\n\t\t\t\t\tcontext.moveTo(item[3].x, item[3].y); //顶点\n\t\t\t\t\tcontext.lineTo(item[0].x, item[0].y); //开盘中间点\n\t\t\t\t\tcontext.lineTo(item[0].x - eachSpacing / 4, item[0].y); //开盘左侧点\n\t\t\t\t\tcontext.lineTo(item[1].x - eachSpacing / 4, item[1].y); //收盘左侧点\n\t\t\t\t\tcontext.lineTo(item[1].x, item[1].y); //收盘中间点\n\t\t\t\t\tcontext.lineTo(item[2].x, item[2].y); //底点\n\t\t\t\t\tcontext.lineTo(item[1].x, item[1].y); //收盘中间点\n\t\t\t\t\tcontext.lineTo(item[1].x + eachSpacing / 4, item[1].y); //收盘右侧点\n\t\t\t\t\tcontext.lineTo(item[0].x + eachSpacing / 4, item[0].y); //开盘右侧点\n\t\t\t\t\tcontext.lineTo(item[0].x, item[0].y); //开盘中间点\n\t\t\t\t\tcontext.moveTo(item[3].x, item[3].y); //顶点\n\t\t\t\t}\n\t\t\t\tcontext.closePath();\n\t\t\t\tcontext.fill();\n\t\t\t\tcontext.stroke();\n\t\t\t}\n    }\n  });\n\n  context.restore();\n\n  return {\n    xAxisPoints: xAxisPoints,\n    calPoints: calPoints,\n    eachSpacing: eachSpacing\n  };\n}\n\nfunction drawAreaDataPoints(series, opts, config, context) {\n  var process = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\n  var areaOption = assign({},{\n    type: 'straight',\n    opacity: 0.2,\n    addLine: false,\n    width: 2,\n\t\tgradient:false\n  },opts.extra.area);\n\n  let xAxisData = opts.chartData.xAxisData,\n    xAxisPoints = xAxisData.xAxisPoints,\n    eachSpacing = xAxisData.eachSpacing;\n\n  let endY = opts.height - opts.area[2];\n  let calPoints = [];\n\n  context.save();\n\tlet leftSpace=0;\n\tlet rightSpace=opts.width+eachSpacing;\n  if (opts._scrollDistance_ && opts._scrollDistance_ !== 0 && opts.enableScroll === true) {\n    context.translate(opts._scrollDistance_, 0);\n\t\tleftSpace=-opts._scrollDistance_-eachSpacing+opts.area[3];\n\t\trightSpace=leftSpace+(opts.xAxis.itemCount+4)*eachSpacing;\n  }\n\n  series.forEach(function(eachSeries, seriesIndex) {\n    let ranges,minRange,maxRange;\n    ranges = [].concat(opts.chartData.yAxisData.ranges[eachSeries.index]);\n    minRange = ranges.pop();\n    maxRange = ranges.shift();\n    let data = eachSeries.data;\n    let points = getDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, process);\n    calPoints.push(points);\n\n    let splitPointList = splitPoints(points);\n    for (let i = 0; i < splitPointList.length; i++) {\n      let points = splitPointList[i];\n      // 绘制区域数\n      context.beginPath();\n      context.setStrokeStyle(hexToRgb(eachSeries.color, areaOption.opacity));\n\t\t\tif(areaOption.gradient){\n\t\t\t\tlet gradient = context.createLinearGradient(0, opts.area[0], 0, opts.height-opts.area[2]);\n\t\t\t\tgradient.addColorStop('0', hexToRgb(eachSeries.color, areaOption.opacity));\n\t\t\t\tgradient.addColorStop('1.0',hexToRgb(\"#FFFFFF\", 0.1));\n\t\t\t\tcontext.setFillStyle(gradient);\n\t\t\t}else{\n\t\t\t\tcontext.setFillStyle(hexToRgb(eachSeries.color, areaOption.opacity));\n\t\t\t}\n      context.setLineWidth(areaOption.width * opts.pixelRatio);\n      if (points.length > 1) {\n        let firstPoint = points[0];\n        let lastPoint = points[points.length - 1];\n        context.moveTo(firstPoint.x, firstPoint.y);\n\t\t\t\tlet startPoint=0;\n        if (areaOption.type === 'curve') {\n\t\t\t\t\tfor(let j=0;j<points.length;j++){\n\t\t\t\t\t\tlet item=points[j];\n\t\t\t\t\t\tif(startPoint==0 && item.x > leftSpace){\n\t\t\t\t\t\t\tcontext.moveTo(item.x, item.y);\n\t\t\t\t\t\t\tstartPoint=1;\n\t\t\t\t\t\t}\n            if (j > 0 && item.x > leftSpace && item.x < rightSpace) {\n              let ctrlPoint = createCurveControlPoints(points, j - 1);\n              context.bezierCurveTo(ctrlPoint.ctrA.x, ctrlPoint.ctrA.y, ctrlPoint.ctrB.x, ctrlPoint.ctrB.y,item.x, item.y);\n            }\n          };\n        } else {\n\t\t\t\t\tfor(let j=0;j<points.length;j++){\n\t\t\t\t\t\tlet item=points[j];\n\t\t\t\t\t\tif(startPoint==0 && item.x > leftSpace){\n\t\t\t\t\t\t\tcontext.moveTo(item.x, item.y);\n\t\t\t\t\t\t\tstartPoint=1;\n\t\t\t\t\t\t}\n\t\t\t\t\t  if (j > 0 && item.x > leftSpace && item.x < rightSpace) {\n              context.lineTo(item.x, item.y);\n            }\n          };\n        }\n\n        context.lineTo(lastPoint.x, endY);\n        context.lineTo(firstPoint.x, endY);\n        context.lineTo(firstPoint.x, firstPoint.y);\n      } else {\n        let item = points[0];\n        context.moveTo(item.x - eachSpacing / 2, item.y);\n        context.lineTo(item.x + eachSpacing / 2, item.y);\n        context.lineTo(item.x + eachSpacing / 2, endY);\n        context.lineTo(item.x - eachSpacing / 2, endY);\n        context.moveTo(item.x - eachSpacing / 2, item.y);\n      }\n      context.closePath();\n      context.fill();\n\n      //画连线\n      if (areaOption.addLine) {\n\t\t\t\tif (eachSeries.lineType == 'dash') {\n\t\t\t\t\tlet dashLength = eachSeries.dashLength?eachSeries.dashLength:8;\n\t\t\t\t\tdashLength *= opts.pixelRatio;\n\t\t\t\t  context.setLineDash([dashLength, dashLength]);\n\t\t\t\t}\n        context.beginPath();\n        context.setStrokeStyle(eachSeries.color);\n        context.setLineWidth(areaOption.width * opts.pixelRatio);\n        if (points.length === 1) {\n          context.moveTo(points[0].x, points[0].y);\n          context.arc(points[0].x, points[0].y, 1, 0, 2 * Math.PI);\n        } else {\n          context.moveTo(points[0].x, points[0].y);\n\t\t\t\t\tlet startPoint=0;\n          if (areaOption.type === 'curve') {\n            for(let j=0;j<points.length;j++){\n            \tlet item=points[j];\n            \tif(startPoint==0 && item.x > leftSpace){\n            \t\tcontext.moveTo(item.x, item.y);\n            \t\tstartPoint=1;\n            \t}\n              if (j > 0 && item.x > leftSpace && item.x < rightSpace) {\n                let ctrlPoint = createCurveControlPoints(points, j - 1);\n                context.bezierCurveTo(ctrlPoint.ctrA.x, ctrlPoint.ctrA.y, ctrlPoint.ctrB.x, ctrlPoint.ctrB.y,item.x,item.y);\n              }\n            };\n          } else {\n            for(let j=0;j<points.length;j++){\n            \tlet item=points[j];\n            \tif(startPoint==0 && item.x > leftSpace){\n            \t\tcontext.moveTo(item.x, item.y);\n            \t\tstartPoint=1;\n            \t}\n              if (j > 0 && item.x > leftSpace && item.x < rightSpace) {\n                context.lineTo(item.x, item.y);\n              }\n            };\n          }\n          context.moveTo(points[0].x, points[0].y);\n        }\n        context.stroke();\n\t\t\t\tcontext.setLineDash([]);\n      }\n    }\n\n    //画点\n    if (opts.dataPointShape !== false) {\n      drawPointShape(points, eachSeries.color, eachSeries.pointShape, context, opts);\n    }\n\n  });\n\n  if (opts.dataLabel !== false && process === 1) {\n    series.forEach(function(eachSeries, seriesIndex) {\n      let ranges,minRange,maxRange;\n      ranges = [].concat(opts.chartData.yAxisData.ranges[eachSeries.index]);\n      minRange = ranges.pop();\n      maxRange = ranges.shift();\n      var data = eachSeries.data;\n      var points = getDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, process);\n      drawPointText(points, eachSeries, config, context);\n    });\n  }\n\n  context.restore();\n\n  return {\n    xAxisPoints: xAxisPoints,\n    calPoints: calPoints,\n    eachSpacing: eachSpacing\n  };\n}\n\nfunction drawLineDataPoints(series, opts, config, context) {\n  var process = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\n  var lineOption = assign({},{\n\t\ttype: 'straight',\n\t\twidth: 2\n\t},opts.extra.line);\n\tlineOption.width *=opts.pixelRatio;\n\t\n  let xAxisData = opts.chartData.xAxisData,\n    xAxisPoints = xAxisData.xAxisPoints,\n    eachSpacing = xAxisData.eachSpacing;\n  var calPoints = [];\n\n  context.save();\n\tlet leftSpace=0;\n\tlet rightSpace=opts.width+eachSpacing;\n  if (opts._scrollDistance_ && opts._scrollDistance_ !== 0 && opts.enableScroll === true) {\n    context.translate(opts._scrollDistance_, 0);\n\t\tleftSpace=-opts._scrollDistance_-eachSpacing+opts.area[3];\n\t\trightSpace=leftSpace+(opts.xAxis.itemCount+4)*eachSpacing;\n  }\n\n  series.forEach(function(eachSeries, seriesIndex) {\n    let ranges,minRange,maxRange;\n    ranges = [].concat(opts.chartData.yAxisData.ranges[eachSeries.index]);\n    minRange = ranges.pop();\n    maxRange = ranges.shift();\n    var data = eachSeries.data;\n    var points = getDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, process);\n    calPoints.push(points);\n    var splitPointList = splitPoints(points);\n\t\t\n\t\tif (eachSeries.lineType == 'dash') {\n\t\t\tlet dashLength = eachSeries.dashLength?eachSeries.dashLength:8;\n\t\t\tdashLength *= opts.pixelRatio;\n\t\t  context.setLineDash([dashLength, dashLength]);\n\t\t}\n\t\tcontext.beginPath();\n\t\tcontext.setStrokeStyle(eachSeries.color);\n\t\tcontext.setLineWidth(lineOption.width);\n\t\t\n    splitPointList.forEach(function(points, index) {\n\t\t\t\n      if (points.length === 1) {\n        context.moveTo(points[0].x, points[0].y);\n        context.arc(points[0].x, points[0].y, 1, 0, 2 * Math.PI);\n      } else {\n        context.moveTo(points[0].x, points[0].y);\n\t\t\t\tlet startPoint=0;\n        if (lineOption.type === 'curve') {\n          for(let j=0;j<points.length;j++){\n          \tlet item=points[j];\n          \tif(startPoint==0 && item.x > leftSpace){\n          \t\tcontext.moveTo(item.x, item.y);\n          \t\tstartPoint=1;\n          \t}\n            if (j > 0 && item.x > leftSpace && item.x < rightSpace) {\n              var ctrlPoint = createCurveControlPoints(points, j - 1);\n              context.bezierCurveTo(ctrlPoint.ctrA.x, ctrlPoint.ctrA.y, ctrlPoint.ctrB.x, ctrlPoint.ctrB.y,item.x, item.y);\n            }\n          };\n        } else {\n          for(let j=0;j<points.length;j++){\n          \tlet item=points[j];\n          \tif(startPoint==0 && item.x > leftSpace){\n          \t\tcontext.moveTo(item.x, item.y);\n          \t\tstartPoint=1;\n          \t}\n            if (j > 0 && item.x > leftSpace && item.x < rightSpace) {\n              context.lineTo(item.x, item.y);\n            }\n          };\n        }\n        context.moveTo(points[0].x, points[0].y);\n      }\n      \n    });\n\t\t\n\t\tcontext.stroke();\n\t\tcontext.setLineDash([]);\n\t\t\n    if (opts.dataPointShape !== false) {\n      drawPointShape(points, eachSeries.color, eachSeries.pointShape, context, opts);\n    }\n  });\n\n  if (opts.dataLabel !== false && process === 1) {\n    series.forEach(function(eachSeries, seriesIndex) {\n      let ranges,minRange,maxRange;\n      ranges = [].concat(opts.chartData.yAxisData.ranges[eachSeries.index]);\n      minRange = ranges.pop();\n      maxRange = ranges.shift();\n      var data = eachSeries.data;\n      var points = getDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, process);\n      drawPointText(points, eachSeries, config, context);\n    });\n  }\n\n  context.restore();\n\n  return {\n    xAxisPoints: xAxisPoints,\n    calPoints: calPoints,\n    eachSpacing: eachSpacing\n  };\n}\n\nfunction drawMixDataPoints(series, opts, config, context) {\n  let process = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\n  \n  let xAxisData = opts.chartData.xAxisData,\n    xAxisPoints = xAxisData.xAxisPoints,\n    eachSpacing = xAxisData.eachSpacing;\n\n  let endY = opts.height - opts.area[2];\n  let calPoints = [];\n\n  var columnIndex = 0;\n  var columnLength = 0;\n  series.forEach(function(eachSeries, seriesIndex) {\n    if (eachSeries.type == 'column') {\n      columnLength += 1;\n    }\n  });\n  context.save();\n\tlet leftNum=-2;\n\tlet rightNum=xAxisPoints.length+2;\n\tlet leftSpace=0;\n\tlet rightSpace=opts.width+eachSpacing;\n  if (opts._scrollDistance_ && opts._scrollDistance_ !== 0 && opts.enableScroll === true) {\n    context.translate(opts._scrollDistance_, 0);\n\t\tleftNum=Math.floor(-opts._scrollDistance_/eachSpacing)-2;\n\t\trightNum=leftNum+opts.xAxis.itemCount+4;\n\t\tleftSpace=-opts._scrollDistance_-eachSpacing+opts.area[3];\n\t\trightSpace=leftSpace+(opts.xAxis.itemCount+4)*eachSpacing;\n  }\n\n  series.forEach(function(eachSeries, seriesIndex) {\n    let ranges,minRange,maxRange;\n    \n\t\tranges = [].concat(opts.chartData.yAxisData.ranges[eachSeries.index]);\n\t\tminRange = ranges.pop();\n\t\tmaxRange = ranges.shift();\n\n    var data = eachSeries.data;\n    var points = getDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, process);\n    calPoints.push(points);\n\n    // 绘制柱状数据图\n    if (eachSeries.type == 'column') {\n      points = fixColumeData(points, eachSpacing, columnLength, columnIndex, config, opts);\n      for(let i=0;i<points.length;i++){\n      \tlet item=points[i];\n        if (item !== null && i>leftNum && i<rightNum) {\n          context.beginPath();\n          context.setStrokeStyle(item.color || eachSeries.color);\n          context.setLineWidth(1)\n          context.setFillStyle(item.color || eachSeries.color);\n          var startX = item.x - item.width / 2;\n          var height = opts.height - item.y - opts.area[2];\n          context.moveTo(startX, item.y);\n          context.moveTo(startX, item.y);\n          context.lineTo(startX+item.width-2,item.y);\n          context.lineTo(startX+item.width-2,opts.height - opts.area[2]);\n          context.lineTo(startX,opts.height - opts.area[2]);\n          context.lineTo(startX,item.y);\n          context.closePath();\n          context.stroke();\n          context.fill();\n          context.closePath();\n          context.fill();\n        }\n      }\n      columnIndex += 1;\n    }\n\n    //绘制区域图数据\n\n    if (eachSeries.type == 'area') {\n      let splitPointList = splitPoints(points);\n      for (let i = 0; i < splitPointList.length; i++) {\n        let points = splitPointList[i];\n        // 绘制区域数据\n        context.beginPath();\n        context.setStrokeStyle(eachSeries.color);\n        context.setFillStyle(hexToRgb(eachSeries.color, 0.2));\n        context.setLineWidth(2 * opts.pixelRatio);\n        if (points.length > 1) {\n          var firstPoint = points[0];\n          let lastPoint = points[points.length - 1];\n          context.moveTo(firstPoint.x, firstPoint.y);\n\t\t\t\t\tlet startPoint=0;\n          if (eachSeries.style === 'curve') {\n            for(let j=0;j<points.length;j++){\n            \tlet item=points[j];\n            \tif(startPoint==0 && item.x > leftSpace){\n            \t\tcontext.moveTo(item.x, item.y);\n            \t\tstartPoint=1;\n            \t}\n              if (j > 0 && item.x > leftSpace && item.x < rightSpace) {\n                var ctrlPoint = createCurveControlPoints(points, j - 1);\n                context.bezierCurveTo(ctrlPoint.ctrA.x, ctrlPoint.ctrA.y, ctrlPoint.ctrB.x, ctrlPoint.ctrB.y, item.x, item.y);\n              }\n            };\n          } else {\n            for(let j=0;j<points.length;j++){\n            \tlet item=points[j];\n            \tif(startPoint==0 && item.x > leftSpace){\n            \t\tcontext.moveTo(item.x, item.y);\n            \t\tstartPoint=1;\n            \t}\n              if (j > 0 && item.x > leftSpace && item.x < rightSpace) {\n                context.lineTo(item.x, item.y);\n              }\n            };\n          }\n          context.lineTo(lastPoint.x, endY);\n          context.lineTo(firstPoint.x, endY);\n          context.lineTo(firstPoint.x, firstPoint.y);\n        } else {\n          let item = points[0];\n          context.moveTo(item.x - eachSpacing / 2, item.y);\n          context.lineTo(item.x + eachSpacing / 2, item.y);\n          context.lineTo(item.x + eachSpacing / 2, endY);\n          context.lineTo(item.x - eachSpacing / 2, endY);\n          context.moveTo(item.x - eachSpacing / 2, item.y);\n        }\n        context.closePath();\n        context.fill();\n      }\n    }\n\n    // 绘制折线数据图\n    if (eachSeries.type == 'line') {\n      var splitPointList = splitPoints(points);\n      splitPointList.forEach(function(points, index) {\n\t\t\t\tif (eachSeries.lineType == 'dash') {\n\t\t\t\t\tlet dashLength = eachSeries.dashLength?eachSeries.dashLength:8;\n\t\t\t\t\tdashLength *= opts.pixelRatio;\n\t\t\t\t  context.setLineDash([dashLength, dashLength]);\n\t\t\t\t}\n        context.beginPath();\n        context.setStrokeStyle(eachSeries.color);\n        context.setLineWidth(2 * opts.pixelRatio);\n        if (points.length === 1) {\n          context.moveTo(points[0].x, points[0].y);\n          context.arc(points[0].x, points[0].y, 1, 0, 2 * Math.PI);\n        } else {\n          context.moveTo(points[0].x, points[0].y);\n\t\t\t\t\tlet startPoint=0;\n          if (eachSeries.style == 'curve') {\n            for(let j=0;j<points.length;j++){\n            \tlet item=points[j];\n            \tif(startPoint==0 && item.x > leftSpace){\n            \t\tcontext.moveTo(item.x, item.y);\n            \t\tstartPoint=1;\n            \t}\n              if (j > 0 && item.x > leftSpace && item.x < rightSpace) {\n                var ctrlPoint = createCurveControlPoints(points, j - 1);\n                context.bezierCurveTo(ctrlPoint.ctrA.x, ctrlPoint.ctrA.y, ctrlPoint.ctrB.x, ctrlPoint.ctrB.y,item.x,item.y);\n              }\n            }\n          } else {\n            for(let j=0;j<points.length;j++){\n            \tlet item=points[j];\n            \tif(startPoint==0 && item.x > leftSpace){\n            \t\tcontext.moveTo(item.x, item.y);\n            \t\tstartPoint=1;\n            \t}\n              if (j > 0 && item.x > leftSpace && item.x < rightSpace) {\n                context.lineTo(item.x, item.y);\n              }\n            }\n          }\n          context.moveTo(points[0].x, points[0].y);\n        }\n        context.stroke();\n\t\t\t\tcontext.setLineDash([]);\n      });\n    }\n\n    // 绘制点数据图\n    if (eachSeries.type == 'point') {\n\t\t\teachSeries.addPoint = true;\n    }\n\n    if (eachSeries.addPoint == true && eachSeries.type !== 'column' ) {\n      drawPointShape(points, eachSeries.color, eachSeries.pointShape, context, opts);\n    }\n  });\n  if (opts.dataLabel !== false && process === 1) {\n    var columnIndex = 0;\n    series.forEach(function(eachSeries, seriesIndex) {\n      let ranges,minRange,maxRange;\n      \n\t\t\tranges = [].concat(opts.chartData.yAxisData.ranges[eachSeries.index]);\n\t\t\tminRange = ranges.pop();\n\t\t\tmaxRange = ranges.shift();\n\t\t\t\t\n      var data = eachSeries.data;\n      var points = getDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, process);\n      if (eachSeries.type !== 'column') {\n        drawPointText(points, eachSeries, config, context);\n      } else {\n        points = fixColumeData(points, eachSpacing, columnLength, columnIndex, config, opts);\n        drawPointText(points, eachSeries, config, context);\n        columnIndex += 1;\n      }\n\n    });\n  }\n\n  context.restore();\n\n  return {\n    xAxisPoints: xAxisPoints,\n    calPoints: calPoints,\n    eachSpacing: eachSpacing,\n  }\n}\n\nfunction drawToolTipBridge(opts, config, context, process, eachSpacing, xAxisPoints) {\n  var toolTipOption = opts.extra.tooltip || {};\n  if (toolTipOption.horizentalLine && opts.tooltip && process === 1 && (opts.type == 'line' || opts.type == 'area' || opts.type == 'column' || opts.type == 'candle' || opts.type == 'mix')) {\n    drawToolTipHorizentalLine(opts, config, context, eachSpacing, xAxisPoints)\n  }\n  context.save();\n  if (opts._scrollDistance_ && opts._scrollDistance_ !== 0 && opts.enableScroll === true) {\n    context.translate(opts._scrollDistance_, 0);\n  }\n  if (opts.tooltip && opts.tooltip.textList && opts.tooltip.textList.length && process === 1) {\n    drawToolTip(opts.tooltip.textList, opts.tooltip.offset, opts, config, context, eachSpacing, xAxisPoints);\n  }\n  context.restore();\n\n}\n\nfunction drawXAxis(categories, opts, config, context) {\n\n  let xAxisData = opts.chartData.xAxisData,\n    xAxisPoints = xAxisData.xAxisPoints,\n    startX = xAxisData.startX,\n    endX = xAxisData.endX,\n    eachSpacing = xAxisData.eachSpacing;\n  var boundaryGap='center';\n  if (opts.type == 'line'||opts.type == 'area'){\n    boundaryGap=opts.xAxis.boundaryGap;\n  }\n  var startY = opts.height - opts.area[2];\n  var endY = opts.area[0];\n\n  //绘制滚动条\n  if (opts.enableScroll && opts.xAxis.scrollShow) {\n    var scrollY = opts.height - opts.area[2] + config.xAxisHeight;\n    var scrollScreenWidth = endX - startX;\n    var scrollTotalWidth = eachSpacing * (xAxisPoints.length - 1);\n    var scrollWidth = scrollScreenWidth * scrollScreenWidth / scrollTotalWidth;\n    var scrollLeft = 0;\n    if (opts._scrollDistance_) {\n      scrollLeft = -opts._scrollDistance_ * (scrollScreenWidth) / scrollTotalWidth;\n    }\n    context.beginPath();\n    context.setLineCap('round');\n    context.setLineWidth(6 * opts.pixelRatio);\n    context.setStrokeStyle(opts.xAxis.scrollBackgroundColor || \"#EFEBEF\");\n    context.moveTo(startX, scrollY);\n    context.lineTo(endX, scrollY);\n    context.stroke();\n    context.closePath();\n    context.beginPath();\n    context.setLineCap('round');\n    context.setLineWidth(6 * opts.pixelRatio);\n    context.setStrokeStyle(opts.xAxis.scrollColor || \"#A6A6A6\");\n    context.moveTo(startX + scrollLeft, scrollY);\n    context.lineTo(startX + scrollLeft + scrollWidth, scrollY);\n    context.stroke();\n    context.closePath();\n    context.setLineCap('butt');\n  }\n\n  context.save();\n\n  if (opts._scrollDistance_ && opts._scrollDistance_ !== 0) {\n    context.translate(opts._scrollDistance_, 0);\n  }\n\t\n\t//绘制X轴刻度线\n\tif (opts.xAxis.calibration === true) {\n\t\tcontext.setStrokeStyle(opts.xAxis.gridColor || \"#cccccc\");\n\t\tcontext.setLineCap('butt');\n\t\tcontext.setLineWidth(1 * opts.pixelRatio);\n\t  xAxisPoints.forEach(function(item, index) {\n\t    if (index > 0) {\n\t      context.beginPath();\n\t      context.moveTo(item - eachSpacing / 2, startY);\n\t      context.lineTo(item - eachSpacing / 2, startY + 3 * opts.pixelRatio);\n\t      context.closePath();\n\t      context.stroke();\n\t    }\n\t  });\n\t}\n\t//绘制X轴网格\n  if (opts.xAxis.disableGrid !== true) {\n    context.setStrokeStyle(opts.xAxis.gridColor || \"#cccccc\");\n    context.setLineCap('butt');\n    context.setLineWidth(1 * opts.pixelRatio);\n    if (opts.xAxis.gridType == 'dash') {\n      context.setLineDash([opts.xAxis.dashLength, opts.xAxis.dashLength]);\n    }\n\t\topts.xAxis.gridEval = opts.xAxis.gridEval || 1;\n\t\txAxisPoints.forEach(function(item, index) {\n\t\t\tif (index % opts.xAxis.gridEval == 0) {\n\t\t\t\tcontext.beginPath();\n\t\t\t\tcontext.moveTo(item, startY);\n\t\t\t\tcontext.lineTo(item, endY);\n\t\t\t\tcontext.stroke();\n\t\t\t}\n\t\t});\n    context.setLineDash([]);\n  }\n  \n\n  //绘制X轴文案\n  if (opts.xAxis.disabled !== true) {\n    // 对X轴列表做抽稀处理\n    //默认全部显示X轴标签\n    let maxXAxisListLength = categories.length;\n    //如果设置了X轴单屏数量\n    if (opts.xAxis.labelCount) {\n      //如果设置X轴密度\n      if (opts.xAxis.itemCount) {\n        maxXAxisListLength = Math.ceil(categories.length / opts.xAxis.itemCount * opts.xAxis.labelCount);\n      } else {\n        maxXAxisListLength = opts.xAxis.labelCount;\n      }\n      maxXAxisListLength -= 1;\n    }\n\n    let ratio = Math.ceil(categories.length / maxXAxisListLength);\n\n    let newCategories = [];\n    let cgLength = categories.length;\n    for (let i = 0; i < cgLength; i++) {\n      if (i % ratio !== 0) {\n        newCategories.push(\"\");\n      } else {\n        newCategories.push(categories[i]);\n      }\n    }\n    newCategories[cgLength - 1] = categories[cgLength - 1];\n\n    var xAxisFontSize = opts.xAxis.fontSize || config.fontSize;\n    if (config._xAxisTextAngle_ === 0) {\n      newCategories.forEach(function(item, index) {\n        var offset = - measureText(String(item), xAxisFontSize) / 2;\n        if(boundaryGap == 'center'){\n          offset+=eachSpacing / 2;\n        }\n        var scrollHeight=0;\n        if(opts.xAxis.scrollShow){\n          scrollHeight=6*opts.pixelRatio;\n        }\n        context.beginPath();\n        context.setFontSize(xAxisFontSize);\n        context.setFillStyle(opts.xAxis.fontColor || '#666666');\n        context.fillText(String(item), xAxisPoints[index] + offset, startY + xAxisFontSize + (config.xAxisHeight - scrollHeight - xAxisFontSize) / 2);\n        context.closePath();\n        context.stroke();\n      });\n\n    } else {\n      newCategories.forEach(function(item, index) {\n        context.save();\n        context.beginPath();\n        context.setFontSize(xAxisFontSize);\n        context.setFillStyle(opts.xAxis.fontColor || '#666666');\n        var textWidth = measureText(String(item),xAxisFontSize);\n        var offset = - textWidth;\n        if(boundaryGap == 'center'){\n          offset+=eachSpacing / 2;\n        }\n        var _calRotateTranslate = calRotateTranslate(xAxisPoints[index] + eachSpacing / 2, startY + xAxisFontSize / 2 + 5, opts.height),\n          transX = _calRotateTranslate.transX,\n          transY = _calRotateTranslate.transY;\n\n        context.rotate(-1 * config._xAxisTextAngle_);\n        context.translate(transX, transY);\n        context.fillText(String(item), xAxisPoints[index] + offset, startY + xAxisFontSize + 5);\n        context.closePath();\n        context.stroke();\n        context.restore();\n      });\n    }\n  }\n  context.restore();\n\t\n\t//绘制X轴轴线\n  if(opts.xAxis.axisLine){\n    context.beginPath();\n    context.setStrokeStyle(opts.xAxis.axisLineColor);\n    context.setLineWidth(1 * opts.pixelRatio);\n    context.moveTo(startX,opts.height-opts.area[2]);\n    context.lineTo(endX,opts.height-opts.area[2]);\n    context.stroke();\n  }\n}\n\nfunction drawYAxisGrid(categories, opts, config, context) {\n  if (opts.yAxis.disableGrid === true) {\n    return;\n  }\n  let spacingValid = opts.height - opts.area[0] - opts.area[2];\n  let eachSpacing = spacingValid / opts.yAxis.splitNumber;\n  let startX = opts.area[3];\n  let xAxisPoints = opts.chartData.xAxisData.xAxisPoints,\n    xAxiseachSpacing = opts.chartData.xAxisData.eachSpacing;\n  let TotalWidth = xAxiseachSpacing * (xAxisPoints.length - 1);\n  let endX = startX + TotalWidth;\n\n  let points = [];\n  for (let i = 0; i < opts.yAxis.splitNumber + 1; i++) {\n    points.push(opts.height - opts.area[2] - eachSpacing * i);\n  }\n\n  context.save();\n  if (opts._scrollDistance_ && opts._scrollDistance_ !== 0) {\n    context.translate(opts._scrollDistance_, 0);\n  }\n\n  if (opts.yAxis.gridType == 'dash') {\n    context.setLineDash([opts.yAxis.dashLength, opts.yAxis.dashLength]);\n  }\n  context.setStrokeStyle(opts.yAxis.gridColor);\n  context.setLineWidth(1 * opts.pixelRatio);\n  points.forEach(function(item, index) {\n    context.beginPath();\n    context.moveTo(startX, item);\n    context.lineTo(endX, item);\n    context.stroke();\n  });\n  context.setLineDash([]);\n\n  context.restore();\n}\n\nfunction drawYAxis(series, opts, config, context) {\n  if (opts.yAxis.disabled === true) {\n    return;\n  }\n  var spacingValid = opts.height - opts.area[0] - opts.area[2];\n  var eachSpacing = spacingValid / opts.yAxis.splitNumber;\n  var startX = opts.area[3];\n  var endX = opts.width - opts.area[1];\n  var endY = opts.height - opts.area[2];\n  var fillEndY = endY + config.xAxisHeight;\n  if (opts.xAxis.scrollShow) {\n    fillEndY -= 3 * opts.pixelRatio;\n  }\n\tif (opts.xAxis.rotateLabel){\n\t\tfillEndY = opts.height - opts.area[2]+3;\n\t}\n  // set YAxis background\n  context.beginPath();\n  context.setFillStyle(opts.background || '#ffffff');\n  if (opts._scrollDistance_ < 0) {\n    context.fillRect(0, 0, startX, fillEndY);\n  }\n  if(opts.enableScroll == true){\n    context.fillRect(endX, 0, opts.width, fillEndY);\n  }\n  context.closePath();\n  context.stroke();\n\n  var points = [];\n  for (let i = 0; i <= opts.yAxis.splitNumber; i++) {\n    points.push(opts.area[0] + eachSpacing * i);\n  }\n\n  let tStartLeft=opts.area[3];\n  let tStartRight=opts.width-opts.area[1];\n\n  for (let i = 0; i < opts.yAxis.data.length; i++) {\n    let yData = opts.yAxis.data[i];\n    if(yData.disabled !== true){\n      let rangesFormat = opts.chartData.yAxisData.rangesFormat[i];\n      let yAxisFontSize = yData.fontSize || config.fontSize;\n      let yAxisWidth = opts.chartData.yAxisData.yAxisWidth[i];\n      //画Y轴刻度及文案\n      rangesFormat.forEach(function(item, index) {\n        var pos = points[index] ? points[index] : endY;\n        context.beginPath();\n        context.setFontSize(yAxisFontSize);\n        context.setLineWidth(1*opts.pixelRatio);\n        context.setStrokeStyle(yData.axisLineColor||'#cccccc');\n        context.setFillStyle(yData.fontColor|| '#666666');\n        if(yAxisWidth.position=='left'){\n          context.fillText(String(item), tStartLeft - yAxisWidth.width , pos + yAxisFontSize / 2);\n          //画刻度线\n          if(yData.calibration==true){\n            context.moveTo(tStartLeft,pos);\n            context.lineTo(tStartLeft - 3*opts.pixelRatio,pos);\n          }\n        }else{\n          context.fillText(String(item), tStartRight + 4*opts.pixelRatio, pos + yAxisFontSize / 2);\n          //画刻度线\n          if(yData.calibration==true){\n            context.moveTo(tStartRight,pos);\n            context.lineTo(tStartRight + 3*opts.pixelRatio,pos);\n          }\n        }\n        context.closePath();\n        context.stroke();\n      });\n      //画Y轴轴线\n      if (yData.axisLine!==false) {\n        context.beginPath();\n        context.setStrokeStyle(yData.axisLineColor||'#cccccc');\n        context.setLineWidth(1 * opts.pixelRatio);\n        if(yAxisWidth.position=='left'){\n          context.moveTo(tStartLeft,opts.height-opts.area[2]);\n          context.lineTo(tStartLeft,opts.area[0]);\n        }else{\n          context.moveTo(tStartRight,opts.height-opts.area[2]);\n          context.lineTo(tStartRight,opts.area[0]);\n        }\n        context.stroke();\n      }\n\t\t\t\n      //画Y轴标题\n      if (opts.yAxis.showTitle) {\n\t\t\t\t\n        let titleFontSize = yData.titleFontSize || config.fontSize;\n        let title = yData.title;\n        context.beginPath();\n        context.setFontSize(titleFontSize);\n        context.setFillStyle(yData.titleFontColor || '#666666');\n        if(yAxisWidth.position=='left'){\n          context.fillText(title, tStartLeft - measureText(title,titleFontSize)/2, opts.area[0]-10*opts.pixelRatio);\n        }else{\n          context.fillText(title,tStartRight - measureText(title,titleFontSize)/2, opts.area[0]-10*opts.pixelRatio);\n        }\n        context.closePath();\n        context.stroke();\n      }\n      if(yAxisWidth.position=='left'){\n        tStartLeft -=(yAxisWidth.width + opts.yAxis.padding);\n      }else{\n        tStartRight +=yAxisWidth.width+ opts.yAxis.padding;\n      }\n    }\n  }\n}\n\nfunction drawLegend(series, opts, config, context, chartData) {\n  if (opts.legend.show === false) {\n    return;\n  }\n  let legendData = chartData.legendData;\n  let legendList = legendData.points;\n  let legendArea = legendData.area;\n  let padding = opts.legend.padding;\n  let fontSize = opts.legend.fontSize;\n  let shapeWidth = 15 * opts.pixelRatio;\n  let shapeRight = 5 * opts.pixelRatio;\n  let itemGap = opts.legend.itemGap;\n  let lineHeight = Math.max(opts.legend.lineHeight * opts.pixelRatio, fontSize);\n\n  //画背景及边框\n  context.beginPath();\n  context.setLineWidth(opts.legend.borderWidth);\n  context.setStrokeStyle(opts.legend.borderColor);\n  context.setFillStyle(opts.legend.backgroundColor);\n  context.moveTo(legendArea.start.x, legendArea.start.y);\n  context.rect(legendArea.start.x, legendArea.start.y, legendArea.width, legendArea.height);\n  context.closePath();\n  context.fill();\n  context.stroke();\n\n  legendList.forEach(function(itemList, listIndex) {\n    let width = 0;\n    let height = 0;\n    width = legendData.widthArr[listIndex];\n    height = legendData.heightArr[listIndex];\n    let startX = 0;\n    let startY = 0;\n    if (opts.legend.position == 'top' || opts.legend.position == 'bottom') {\n      startX = legendArea.start.x + (legendArea.width - width) / 2;\n      startY = legendArea.start.y + padding + listIndex * lineHeight;\n    } else {\n      if (listIndex == 0) {\n        width = 0;\n      } else {\n        width = legendData.widthArr[listIndex - 1];\n      }\n      startX = legendArea.start.x + padding + width;\n      startY = legendArea.start.y + padding + (legendArea.height - height) / 2;\n    }\n\n    context.setFontSize(config.fontSize);\n    for (let i = 0; i < itemList.length; i++) {\n      let item = itemList[i];\n      item.area = [0, 0, 0, 0];\n      item.area[0] = startX;\n      item.area[1] = startY;\n      item.area[3] = startY + lineHeight;\n      context.beginPath();\n      context.setLineWidth(1 * opts.pixelRatio);\n      context.setStrokeStyle(item.show ? item.color : opts.legend.hiddenColor);\n      context.setFillStyle(item.show ? item.color : opts.legend.hiddenColor);\n      switch (item.legendShape) {\n        case 'line':\n          context.moveTo(startX, startY + 0.5 * lineHeight - 2 * opts.pixelRatio);\n          context.fillRect(startX, startY + 0.5 * lineHeight - 2 * opts.pixelRatio, 15 * opts.pixelRatio, 4 * opts.pixelRatio);\n          break;\n        case 'triangle':\n          context.moveTo(startX + 7.5 * opts.pixelRatio, startY + 0.5 * lineHeight - 5 * opts.pixelRatio);\n          context.lineTo(startX + 2.5 * opts.pixelRatio, startY + 0.5 * lineHeight + 5 * opts.pixelRatio);\n          context.lineTo(startX + 12.5 * opts.pixelRatio, startY + 0.5 * lineHeight + 5 * opts.pixelRatio);\n          context.lineTo(startX + 7.5 * opts.pixelRatio, startY + 0.5 * lineHeight - 5 * opts.pixelRatio);\n          break;\n        case 'diamond':\n          context.moveTo(startX + 7.5 * opts.pixelRatio, startY + 0.5 * lineHeight - 5 * opts.pixelRatio);\n          context.lineTo(startX + 2.5 * opts.pixelRatio, startY + 0.5 * lineHeight);\n          context.lineTo(startX + 7.5 * opts.pixelRatio, startY + 0.5 * lineHeight + 5 * opts.pixelRatio);\n          context.lineTo(startX + 12.5 * opts.pixelRatio, startY + 0.5 * lineHeight);\n          context.lineTo(startX + 7.5 * opts.pixelRatio, startY + 0.5 * lineHeight - 5 * opts.pixelRatio);\n          break;\n        case 'circle':\n          context.moveTo(startX + 7.5 * opts.pixelRatio, startY + 0.5 * lineHeight);\n          context.arc(startX + 7.5 * opts.pixelRatio, startY + 0.5 * lineHeight, 5 * opts.pixelRatio, 0, 2 * Math.PI);\n          break;\n        case 'rect':\n          context.moveTo(startX, startY + 0.5 * lineHeight - 5 * opts.pixelRatio);\n          context.fillRect(startX, startY + 0.5 * lineHeight - 5 * opts.pixelRatio, 15 * opts.pixelRatio, 10 * opts.pixelRatio);\n          break;\n        default:\n          context.moveTo(startX, startY + 0.5 * lineHeight - 5 * opts.pixelRatio);\n          context.fillRect(startX, startY + 0.5 * lineHeight - 5 * opts.pixelRatio, 15 * opts.pixelRatio, 10 * opts.pixelRatio);\n      }\n      context.closePath();\n      context.fill();\n      context.stroke();\n\n      startX += shapeWidth + shapeRight;\n      let fontTrans = 0.5 * lineHeight + 0.5 * fontSize - 2;\n      context.beginPath();\n      context.setFontSize(fontSize);\n      context.setFillStyle(item.show ? opts.legend.fontColor : opts.legend.hiddenColor);\n      context.fillText(item.name, startX, startY + fontTrans);\n      context.closePath();\n      context.stroke();\n      if (opts.legend.position == 'top' || opts.legend.position == 'bottom') {\n        startX += measureText(item.name, fontSize) + itemGap;\n        item.area[2] = startX;\n      } else {\n        item.area[2] = startX + measureText(item.name, fontSize) + itemGap;;\n        startX -= shapeWidth + shapeRight;\n        startY += lineHeight;\n      }\n    }\n  });\n}\n\nfunction drawPieDataPoints(series, opts, config, context) {\n  var process = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\n  var pieOption = assign({}, {\n    activeOpacity: 0.5,\n    activeRadius: 10 * opts.pixelRatio,\n    offsetAngle: 0,\n    labelWidth: 15 * opts.pixelRatio,\n    ringWidth: 0,\n    border:false,\n    borderWidth:2,\n    borderColor:'#FFFFFF'\n  }, opts.extra.pie);\n  var centerPosition = {\n    x: opts.area[3] + (opts.width - opts.area[1] - opts.area[3]) / 2,\n    y: opts.area[0] + (opts.height - opts.area[0] - opts.area[2]) / 2\n  };\n  if (config.pieChartLinePadding == 0) {\n    config.pieChartLinePadding = pieOption.activeRadius;\n  }\n\n  var radius = Math.min((opts.width - opts.area[1] - opts.area[3]) / 2 - config.pieChartLinePadding - config.pieChartTextPadding - config._pieTextMaxLength_, (opts.height - opts.area[0] - opts.area[2]) / 2 - config.pieChartLinePadding - config.pieChartTextPadding);\n\n  series = getPieDataPoints(series, radius, process);\n\n  var activeRadius = pieOption.activeRadius;\n\n  series = series.map(function(eachSeries) {\n    eachSeries._start_ += (pieOption.offsetAngle) * Math.PI / 180;\n    return eachSeries;\n  });\n  series.forEach(function(eachSeries, seriesIndex) {\n    if (opts.tooltip) {\n      if (opts.tooltip.index == seriesIndex) {\n        context.beginPath();\n        context.setFillStyle(hexToRgb(eachSeries.color, opts.extra.pie.activeOpacity || 0.5));\n        context.moveTo(centerPosition.x, centerPosition.y);\n        context.arc(centerPosition.x, centerPosition.y, eachSeries._radius_ + activeRadius, eachSeries._start_,\n          eachSeries._start_ + 2 *\n          eachSeries._proportion_ * Math.PI);\n        context.closePath();\n        context.fill();\n      }\n    }\n    context.beginPath();\n    context.setLineWidth(pieOption.borderWidth * opts.pixelRatio);\n    context.lineJoin = \"round\";\n    context.setStrokeStyle(pieOption.borderColor);\n    context.setFillStyle(eachSeries.color);\n    context.moveTo(centerPosition.x, centerPosition.y);\n    context.arc(centerPosition.x, centerPosition.y, eachSeries._radius_, eachSeries._start_, eachSeries._start_ + 2 * eachSeries._proportion_ * Math.PI);\n    context.closePath();\n    context.fill();\n    if (pieOption.border == true) {\n      context.stroke();\n    }\n  });\n\n  if (opts.type === 'ring') {\n    var innerPieWidth = radius * 0.6;\n    if (typeof opts.extra.pie.ringWidth === 'number' && opts.extra.pie.ringWidth > 0) {\n      innerPieWidth = Math.max(0, radius - opts.extra.pie.ringWidth);\n    }\n    context.beginPath();\n    context.setFillStyle(opts.background || '#ffffff');\n    context.moveTo(centerPosition.x, centerPosition.y);\n    context.arc(centerPosition.x, centerPosition.y, innerPieWidth, 0, 2 * Math.PI);\n    context.closePath();\n    context.fill();\n  }\n\n  if (opts.dataLabel !== false && process === 1) {\n    var valid = false;\n    for (var i = 0, len = series.length; i < len; i++) {\n      if (series[i].data > 0) {\n        valid = true;\n        break;\n      }\n    }\n\n    if (valid) {\n      drawPieText(series, opts, config, context, radius, centerPosition);\n    }\n  }\n\n  if (process === 1 && opts.type === 'ring') {\n    drawRingTitle(opts, config, context, centerPosition);\n  }\n\n  return {\n    center: centerPosition,\n    radius: radius,\n    series: series\n  };\n}\n\nfunction drawRoseDataPoints(series, opts, config, context) {\n  var process = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\n  var roseOption = assign({}, {\n    type: 'area',\n    activeOpacity: 0.5,\n    activeRadius: 10 * opts.pixelRatio,\n    offsetAngle: 0,\n    labelWidth: 15 * opts.pixelRatio,\n    border:false,\n    borderWidth:2,\n    borderColor:'#FFFFFF'\n  }, opts.extra.rose);\n  if (config.pieChartLinePadding == 0) {\n    config.pieChartLinePadding = roseOption.activeRadius;\n  }\n  var centerPosition = {\n    x: opts.area[3] + (opts.width - opts.area[1] - opts.area[3]) / 2,\n    y: opts.area[0] + (opts.height - opts.area[0] - opts.area[2]) / 2\n  };\n   var radius = Math.min((opts.width - opts.area[1] - opts.area[3]) / 2 - config.pieChartLinePadding - config.pieChartTextPadding - config._pieTextMaxLength_, (opts.height - opts.area[0] - opts.area[2]) / 2 - config.pieChartLinePadding - config.pieChartTextPadding);\n  var minRadius = roseOption.minRadius || radius * 0.5;\n\n  series = getRoseDataPoints(series, roseOption.type, minRadius, radius, process);\n\n  var activeRadius = roseOption.activeRadius;\n\n  series = series.map(function(eachSeries) {\n    eachSeries._start_ += (roseOption.offsetAngle || 0) * Math.PI / 180;\n    return eachSeries;\n  });\n\n  series.forEach(function(eachSeries, seriesIndex) {\n    if (opts.tooltip) {\n      if (opts.tooltip.index == seriesIndex) {\n        context.beginPath();\n        context.setFillStyle(hexToRgb(eachSeries.color, roseOption.activeOpacity || 0.5));\n        context.moveTo(centerPosition.x, centerPosition.y);\n        context.arc(centerPosition.x, centerPosition.y, activeRadius + eachSeries._radius_, eachSeries._start_,\n          eachSeries._start_ + 2 * eachSeries._rose_proportion_ * Math.PI);\n        context.closePath();\n        context.fill();\n      }\n    }\n    context.beginPath();\n    context.setLineWidth(roseOption.borderWidth * opts.pixelRatio);\n    context.lineJoin = \"round\";\n    context.setStrokeStyle(roseOption.borderColor);\n    context.setFillStyle(eachSeries.color);\n    context.moveTo(centerPosition.x, centerPosition.y);\n    context.arc(centerPosition.x, centerPosition.y, eachSeries._radius_, eachSeries._start_, eachSeries._start_ + 2 *\n      eachSeries._rose_proportion_ * Math.PI);\n    context.closePath();\n    context.fill();\n    if (roseOption.border == true) {\n      context.stroke();\n    }\n  });\n\n  if (opts.dataLabel !== false && process === 1) {\n    var valid = false;\n    for (var i = 0, len = series.length; i < len; i++) {\n      if (series[i].data > 0) {\n        valid = true;\n        break;\n      }\n    }\n\n    if (valid) {\n      drawPieText(series, opts, config, context, radius, centerPosition);\n    }\n  }\n\n  return {\n    center: centerPosition,\n    radius: radius,\n    series: series\n  };\n}\n\nfunction drawArcbarDataPoints(series, opts, config, context) {\n  var process = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\n  var arcbarOption = assign({}, {\n    startAngle: 0.75,\n    endAngle: 0.25,\n    type: 'default',\n    width: 12 * opts.pixelRatio,\n\t\tgap:2 * opts.pixelRatio\n  }, opts.extra.arcbar);\n\n  series = getArcbarDataPoints(series, arcbarOption, process);\n\t\n  var centerPosition;\n\tif(arcbarOption.center){\n\t\tcenterPosition=arcbarOption.center;\n\t}else{\n\t\tcenterPosition= {\n\t\t  x: opts.width / 2,\n\t\t  y: opts.height / 2\n\t\t};\n\t}\n\t\n  var radius;\n\tif(arcbarOption.radius){\n\t\tradius=arcbarOption.radius;\n\t}else{\n\t\tradius = Math.min(centerPosition.x, centerPosition.y);\n\t\tradius -= 5 * opts.pixelRatio;\n\t\tradius -= arcbarOption.width / 2;\n\t}\n\t\n  for (let i = 0; i < series.length; i++) {\n    let eachSeries = series[i];\n\t\t//背景颜色\n\t\tcontext.setLineWidth(arcbarOption.width);\n\t\tcontext.setStrokeStyle(arcbarOption.backgroundColor || '#E9E9E9');\n\t\tcontext.setLineCap('round');\n\t\tcontext.beginPath();\n\t\tif (arcbarOption.type == 'default') {\n\t\t  context.arc(centerPosition.x, centerPosition.y, radius-(arcbarOption.width+arcbarOption.gap)*i, arcbarOption.startAngle * Math.PI, arcbarOption.endAngle * Math.PI, false);\n\t\t} else {\n\t\t  context.arc(centerPosition.x, centerPosition.y, radius-(arcbarOption.width+arcbarOption.gap)*i, 0, 2 * Math.PI, false);\n\t\t}\n\t\tcontext.stroke();\n\t\t//进度条\n    context.setLineWidth(arcbarOption.width);\n    context.setStrokeStyle(eachSeries.color);\n    context.setLineCap('round');\n    context.beginPath();\n    context.arc(centerPosition.x, centerPosition.y, radius-(arcbarOption.width+arcbarOption.gap)*i, arcbarOption.startAngle * Math.PI, eachSeries._proportion_ * Math.PI, false);\n    context.stroke();\n  }\n\n  drawRingTitle(opts, config, context, centerPosition);\n\n  return {\n    center: centerPosition,\n    radius: radius,\n    series: series\n  };\n}\n\nfunction drawGaugeDataPoints(categories, series, opts, config, context) {\n  var process = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 1;\n  var gaugeOption = assign({}, {\n\t\ttype:'default',\n    startAngle: 0.75,\n    endAngle: 0.25,\n    width: 15,\n    splitLine: {\n      fixRadius: 0,\n      splitNumber: 10,\n      width: 15,\n      color: '#FFFFFF',\n      childNumber: 5,\n      childWidth: 5\n    },\n    pointer: {\n      width: 15,\n      color: 'auto'\n    }\n  }, opts.extra.gauge);\n\n  if (gaugeOption.oldAngle == undefined) {\n    gaugeOption.oldAngle = gaugeOption.startAngle;\n  }\n  if (gaugeOption.oldData == undefined) {\n    gaugeOption.oldData = 0;\n  }\n  categories = getGaugeAxisPoints(categories, gaugeOption.startAngle, gaugeOption.endAngle);\n\n  var centerPosition = {\n    x: opts.width / 2,\n    y: opts.height / 2\n  };\n  var radius = Math.min(centerPosition.x, centerPosition.y);\n  radius -= 5 * opts.pixelRatio;\n  radius -= gaugeOption.width / 2;\n  var innerRadius = radius - gaugeOption.width;\n\tvar totalAngle=0;\n\t\n\t//判断仪表盘的样式：default百度样式，progress新样式\n\tif(gaugeOption.type == 'progress'){\n\t\t\n\t\t//## 第一步画中心圆形背景和进度条背景\n\t\t//中心圆形背景\n\t\tvar pieRadius = radius - gaugeOption.width*3;\n\t\tcontext.beginPath();\n\t\tlet gradient = context.createLinearGradient(centerPosition.x, centerPosition.y-pieRadius, centerPosition.x , centerPosition.y+pieRadius);\n\t\t//配置渐变填充（起点：中心点向上减半径；结束点中心点向下加半径）\n\t\tgradient.addColorStop('0', hexToRgb(series[0].color, 0.3));\n\t\tgradient.addColorStop('1.0',hexToRgb(\"#FFFFFF\", 0.1));\n\t\tcontext.setFillStyle(gradient);\n\t\tcontext.arc(centerPosition.x, centerPosition.y, pieRadius, 0, 2*Math.PI, false);\n\t\tcontext.fill();\n\t\t//画进度条背景\n\t\tcontext.setLineWidth(gaugeOption.width);\n\t\tcontext.setStrokeStyle(hexToRgb(series[0].color, 0.3));\n\t\tcontext.setLineCap('round');\n\t\tcontext.beginPath();\n\t\tcontext.arc(centerPosition.x, centerPosition.y, innerRadius , gaugeOption.startAngle * Math.PI, gaugeOption.endAngle *Math.PI, false);\n\t\tcontext.stroke();\n\t\t\n\t\t//## 第二步画刻度线\n\t\ttotalAngle = gaugeOption.startAngle - gaugeOption.endAngle + 1;\n\t\tlet splitAngle = totalAngle / gaugeOption.splitLine.splitNumber;\n\t\tlet childAngle = totalAngle / gaugeOption.splitLine.splitNumber / gaugeOption.splitLine.childNumber;\n\t\tlet startX = -radius - gaugeOption.width * 0.5 - gaugeOption.splitLine.fixRadius;\n\t\tlet endX = -radius - gaugeOption.width - gaugeOption.splitLine.fixRadius + gaugeOption.splitLine.width;\n\t\tcontext.save();\n\t\tcontext.translate(centerPosition.x, centerPosition.y);\n\t\tcontext.rotate((gaugeOption.startAngle - 1) * Math.PI);\n\t\tlet len = gaugeOption.splitLine.splitNumber * gaugeOption.splitLine.childNumber + 1;\n\t\tlet proc = series[0].data * process;\n\t\tfor (let i = 0; i < len; i++) {\n\t\t  context.beginPath();\n\t\t\t//刻度线随进度变色\n\t\t\tif(proc>(i/len)){\n\t\t\t\tcontext.setStrokeStyle(hexToRgb(series[0].color, 1));\n\t\t\t}else{\n\t\t\t\tcontext.setStrokeStyle(hexToRgb(series[0].color, 0.3));\n\t\t\t}\n\t\t  context.setLineWidth(3 * opts.pixelRatio);\n\t\t  context.moveTo(startX, 0);\n\t\t  context.lineTo(endX, 0);\n\t\t  context.stroke();\n\t\t  context.rotate(childAngle * Math.PI);\n\t\t}\n\t\tcontext.restore();\n\t\t\n\t\t//## 第三步画进度条\n\t\tseries = getArcbarDataPoints(series, gaugeOption, process);\n\t\tcontext.setLineWidth(gaugeOption.width);\n\t\tcontext.setStrokeStyle(series[0].color);\n\t\tcontext.setLineCap('round');\n\t\tcontext.beginPath();\n\t\tcontext.arc(centerPosition.x, centerPosition.y, innerRadius , gaugeOption.startAngle * Math.PI, series[0]._proportion_ *Math.PI, false);\n\t\tcontext.stroke();\n\t\t\n\t\t//## 第四步画指针\n\t\tlet pointerRadius = radius - gaugeOption.width*2.5;\n\t\tcontext.save();\n\t\tcontext.translate(centerPosition.x, centerPosition.y);\n\t\tcontext.rotate((series[0]._proportion_ - 1) * Math.PI);\n\t\tcontext.beginPath();\n\t\tcontext.setLineWidth(gaugeOption.width/3);\n\t\tlet gradient3 = context.createLinearGradient(0, -pointerRadius*0.6, 0 , pointerRadius*0.6);\n\t\tgradient3.addColorStop('0', hexToRgb('#FFFFFF', 0));\n\t\tgradient3.addColorStop('0.5', hexToRgb(series[0].color, 1));\n\t\tgradient3.addColorStop('1.0', hexToRgb('#FFFFFF', 0));\n\t\tcontext.setStrokeStyle(gradient3);\n\t\tcontext.arc(0, 0, pointerRadius , 0.85* Math.PI, 1.15 * Math.PI, false);\n\t\tcontext.stroke();\n\t\tcontext.beginPath();\n\t\tcontext.setLineWidth(1);\n\t\tcontext.setStrokeStyle(series[0].color);\n\t\tcontext.setFillStyle(series[0].color);\n\t\tcontext.moveTo(-pointerRadius-gaugeOption.width/3/2,-4);\n\t\tcontext.lineTo(-pointerRadius-gaugeOption.width/3/2-4,0);\n\t\tcontext.lineTo(-pointerRadius-gaugeOption.width/3/2,4);\n\t\tcontext.lineTo(-pointerRadius-gaugeOption.width/3/2,-4);\n\t\tcontext.stroke();\n\t\tcontext.fill();\n\t\tcontext.restore();\n\t\t\n\t//default百度样式\n\t}else{\n\t\t//画背景\n\t\tcontext.setLineWidth(gaugeOption.width);\n\t\tcontext.setLineCap('butt');\n\t\tfor (let i = 0; i < categories.length; i++) {\n\t\t  let eachCategories = categories[i];\n\t\t  context.beginPath();\n\t\t  context.setStrokeStyle(eachCategories.color);\n\t\t  context.arc(centerPosition.x, centerPosition.y, radius, eachCategories._startAngle_ * Math.PI, eachCategories._endAngle_ *Math.PI, false);\n\t\t  context.stroke();\n\t\t}\n\t\tcontext.save();\n\t\t\n\t\t//画刻度线\n\t\ttotalAngle = gaugeOption.startAngle - gaugeOption.endAngle + 1;\n\t\tlet splitAngle = totalAngle / gaugeOption.splitLine.splitNumber;\n\t\tlet childAngle = totalAngle / gaugeOption.splitLine.splitNumber / gaugeOption.splitLine.childNumber;\n\t\tlet startX = -radius - gaugeOption.width * 0.5 - gaugeOption.splitLine.fixRadius;\n\t\tlet endX = -radius - gaugeOption.width * 0.5 - gaugeOption.splitLine.fixRadius + gaugeOption.splitLine.width;\n\t\tlet childendX = -radius - gaugeOption.width * 0.5 - gaugeOption.splitLine.fixRadius + gaugeOption.splitLine.childWidth;\n\t\t\n\t\tcontext.translate(centerPosition.x, centerPosition.y);\n\t\tcontext.rotate((gaugeOption.startAngle - 1) * Math.PI);\n\t\t\n\t\tfor (let i = 0; i < gaugeOption.splitLine.splitNumber + 1; i++) {\n\t\t  context.beginPath();\n\t\t  context.setStrokeStyle(gaugeOption.splitLine.color);\n\t\t  context.setLineWidth(2 * opts.pixelRatio);\n\t\t  context.moveTo(startX, 0);\n\t\t  context.lineTo(endX, 0);\n\t\t  context.stroke();\n\t\t  context.rotate(splitAngle * Math.PI);\n\t\t}\n\t\tcontext.restore();\n\t\t\n\t\tcontext.save();\n\t\tcontext.translate(centerPosition.x, centerPosition.y);\n\t\tcontext.rotate((gaugeOption.startAngle - 1) * Math.PI);\n\t\t\n\t\tfor (let i = 0; i < gaugeOption.splitLine.splitNumber * gaugeOption.splitLine.childNumber + 1; i++) {\n\t\t  context.beginPath();\n\t\t  context.setStrokeStyle(gaugeOption.splitLine.color);\n\t\t  context.setLineWidth(1 * opts.pixelRatio);\n\t\t  context.moveTo(startX, 0);\n\t\t  context.lineTo(childendX, 0);\n\t\t  context.stroke();\n\t\t  context.rotate(childAngle * Math.PI);\n\t\t}\n\t\tcontext.restore();\n\t\t\n\t\t//画指针\n\t\tseries = getGaugeDataPoints(series, categories, gaugeOption, process);\n\t\t\n\t\tfor (let i = 0; i < series.length; i++) {\n\t\t  let eachSeries = series[i];\n\t\t  context.save();\n\t\t  context.translate(centerPosition.x, centerPosition.y);\n\t\t  context.rotate((eachSeries._proportion_ - 1) * Math.PI);\n\t\t  context.beginPath();\n\t\t  context.setFillStyle(eachSeries.color);\n\t\t  context.moveTo(gaugeOption.pointer.width, 0);\n\t\t  context.lineTo(0, -gaugeOption.pointer.width / 2);\n\t\t  context.lineTo(-innerRadius, 0);\n\t\t  context.lineTo(0, gaugeOption.pointer.width / 2);\n\t\t  context.lineTo(gaugeOption.pointer.width, 0);\n\t\t  context.closePath();\n\t\t  context.fill();\n\t\t  context.beginPath();\n\t\t  context.setFillStyle('#FFFFFF');\n\t\t  context.arc(0, 0, gaugeOption.pointer.width / 6, 0, 2 * Math.PI, false);\n\t\t  context.fill();\n\t\t  context.restore();\n\t\t}\n\t\t\n\t\tif (opts.dataLabel !== false) {\n\t\t  drawGaugeLabel(gaugeOption, radius, centerPosition, opts, config, context);\n\t\t}\n\t}\n\t\n\t//画仪表盘标题，副标题\n  drawRingTitle(opts, config, context, centerPosition);\n\n  if (process === 1 && opts.type === 'gauge') {\n    opts.extra.gauge.oldAngle = series[0]._proportion_;\n    opts.extra.gauge.oldData = series[0].data;\n  }\n  return {\n    center: centerPosition,\n    radius: radius,\n    innerRadius: innerRadius,\n    categories: categories,\n    totalAngle: totalAngle\n  };\n}\n\nfunction drawRadarDataPoints(series, opts, config, context) {\n  var process = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\n  var radarOption = assign({},{\n    gridColor: '#cccccc',\n    labelColor: '#666666',\n    opacity: 0.2,\n\t\tgridCount:3\n  },opts.extra.radar);\n  \n  var coordinateAngle = getRadarCoordinateSeries(opts.categories.length);\n  \n  var centerPosition = {\n    x: opts.area[3] + (opts.width - opts.area[1] - opts.area[3]) / 2,\n    y: opts.area[0] + (opts.height - opts.area[0] - opts.area[2]) / 2\n  };\n\n  var radius = Math.min(centerPosition.x - (getMaxTextListLength(opts.categories) + config.radarLabelTextMargin),\n    centerPosition.y - config.radarLabelTextMargin);\n  //TODO逻辑不对\n  radius -= opts.padding[1];\n\n  // draw grid\n  context.beginPath();\n  context.setLineWidth(1 * opts.pixelRatio);\n  context.setStrokeStyle(radarOption.gridColor);\n  coordinateAngle.forEach(function(angle) {\n    var pos = convertCoordinateOrigin(radius * Math.cos(angle), radius * Math.sin(angle), centerPosition);\n    context.moveTo(centerPosition.x, centerPosition.y);\n    context.lineTo(pos.x, pos.y);\n  });\n  context.stroke();\n  context.closePath();\n  // draw split line grid\n\n  var _loop = function _loop(i) {\n    var startPos = {};\n    context.beginPath();\n    context.setLineWidth(1 * opts.pixelRatio);\n    context.setStrokeStyle(radarOption.gridColor);\n    coordinateAngle.forEach(function(angle, index) {\n      var pos = convertCoordinateOrigin(radius / radarOption.gridCount * i * Math.cos(angle), radius / radarOption.gridCount * i * Math.sin(angle), centerPosition);\n      if (index === 0) {\n        startPos = pos;\n        context.moveTo(pos.x, pos.y);\n      } else {\n        context.lineTo(pos.x, pos.y);\n      }\n    });\n    context.lineTo(startPos.x, startPos.y);\n    context.stroke();\n    context.closePath();\n  };\n\n  for (var i = 1; i <= radarOption.gridCount; i++) {\n    _loop(i);\n  }\n\n  var radarDataPoints = getRadarDataPoints(coordinateAngle, centerPosition, radius, series, opts, process);\n\n  radarDataPoints.forEach(function(eachSeries, seriesIndex) {\n    // 绘制区域数据\n    context.beginPath();\n    context.setFillStyle(hexToRgb(eachSeries.color, radarOption.opacity));\n    eachSeries.data.forEach(function(item, index) {\n      if (index === 0) {\n        context.moveTo(item.position.x, item.position.y);\n      } else {\n        context.lineTo(item.position.x, item.position.y);\n      }\n    });\n    context.closePath();\n    context.fill();\n\n    if (opts.dataPointShape !== false) {\n      var points = eachSeries.data.map(function(item) {\n        return item.position;\n      });\n      drawPointShape(points, eachSeries.color, eachSeries.pointShape, context, opts);\n    }\n  });\n  // draw label text\n  drawRadarLabel(coordinateAngle, radius, centerPosition, opts, config, context);\n\n  return {\n    center: centerPosition,\n    radius: radius,\n    angleList: coordinateAngle\n  };\n}\n\nfunction normalInt(min, max, iter) {\n    iter = iter==0?1:iter;\n    var arr = [];\n    for (var i = 0; i < iter; i++) {\n        arr[i] = Math.random();\n    };\n    return  Math.floor(arr.reduce(function(i,j){return i+j})/iter*(max-min))+min;  \n};\n\nfunction collisionNew(area,points,width,height){\n    var isIn=false;\n    for(let i=0;i<points.length;i++){\n      if(points[i].area){\n        if(area[3]<points[i].area[1]||area[0]>points[i].area[2]||area[1]>points[i].area[3]||area[2]<points[i].area[0]){\n          if(area[0]<0 || area[1]<0 || area[2]>width || area[3]>height){\n            isIn=true;\n            break;\n          }else{\n            isIn=false;\n          }\n        }else{\n          isIn=true;\n          break;\n        }\n      }\n    }\n    return isIn;\n};\n\nfunction getBoundingBox(data) {\n  var bounds = {}, coords;\n  bounds.xMin = 180;\n  bounds.xMax = 0;\n  bounds.yMin = 90;\n  bounds.yMax = 0\n  for (var i = 0; i < data.length; i++) {\n      var coorda = data[i].geometry.coordinates\n      for (var k = 0; k < coorda.length; k++) {\n          coords = coorda[k];\n          if (coords.length == 1) {\n              coords = coords[0]\n          }\n          for (var j = 0; j < coords.length; j++) {\n              var longitude = coords[j][0];\n              var latitude = coords[j][1];\n              var point = {\n                  x: longitude, \n                  y: latitude \n              }\n              bounds.xMin = bounds.xMin < point.x ? bounds.xMin : point.x;\n              bounds.xMax = bounds.xMax > point.x ? bounds.xMax : point.x;\n              bounds.yMin = bounds.yMin < point.y ? bounds.yMin : point.y;\n              bounds.yMax = bounds.yMax > point.y ? bounds.yMax : point.y;\n          }\n      }\n  }\n  return bounds;\n}\n\nfunction coordinateToPoint(latitude, longitude,bounds,scale,xoffset,yoffset) {\n  return {\n      x: (longitude - bounds.xMin) * scale+xoffset,\n      y: (bounds.yMax - latitude) * scale+yoffset\n  };\n}\n\nfunction pointToCoordinate(pointY, pointX,bounds,scale,xoffset,yoffset) {\n  return {\n      x: (pointX-xoffset)/scale+bounds.xMin,\n      y: bounds.yMax - (pointY-yoffset)/scale\n  };\n}\n\nfunction isRayIntersectsSegment(poi,s_poi,e_poi){\n      if (s_poi[1]==e_poi[1]){return false;} \n      if (s_poi[1]>poi[1] && e_poi[1]>poi[1]){return false;}\n      if (s_poi[1]<poi[1] && e_poi[1]<poi[1]){return false;}\n      if (s_poi[1]==poi[1] && e_poi[1]>poi[1]){return false;}\n      if (e_poi[1]==poi[1] && s_poi[1]>poi[1]){return false;}\n      if (s_poi[0]<poi[0] && e_poi[1]<poi[1]){return false;}\n      let xseg=e_poi[0]-(e_poi[0]-s_poi[0])*(e_poi[1]-poi[1])/(e_poi[1]-s_poi[1]); \n      if (xseg<poi[0]){\n        return false;\n      }else{\n        return true;\n      }\n} \n\nfunction isPoiWithinPoly(poi,poly){\n  let sinsc=0;\n  for (let i=0;i<poly.length;i++){\n    let epoly=poly[i][0];\n    if (poly.length == 1) {\n      epoly = poly[i][0]\n    }\n    for(let j=0;j<epoly.length-1;j++){\n      let s_poi=epoly[j];\n      let e_poi=epoly[j+1];\n      if (isRayIntersectsSegment(poi,s_poi,e_poi)){\n        sinsc+=1;\n      }\n    }\n  }\n  \n  if(sinsc%2==1){\n    return true;\n  }else{\n    return false;\n  }\n}\n\n\nfunction drawMapDataPoints(series, opts, config, context) {\n  var mapOption=assign({},{\n    border:true,\n    borderWidth:1,\n    borderColor:'#666666',\n    fillOpacity:0.6,\n    activeBorderColor:'#f04864',\n    activeFillColor:'#facc14',\n    activeFillOpacity:1\n  },opts.extra.map);\n  var coords, point;\n  var data = series;\n  var bounds= getBoundingBox(data);\n  var xScale = opts.width / Math.abs(bounds.xMax - bounds.xMin);\n  var yScale = opts.height / Math.abs(bounds.yMax - bounds.yMin);\n  var scale = xScale < yScale ? xScale : yScale;\n  var xoffset=opts.width/2-Math.abs(bounds.xMax - bounds.xMin)/2*scale;\n  var yoffset=opts.height/2-Math.abs(bounds.yMax - bounds.yMin)/2*scale;\n  context.beginPath();\n  context.clearRect(0, 0, opts.width, opts.height);\n  context.setFillStyle(opts.background||'#FFFFFF');\n  context.rect(0,0,opts.width,opts.height);\n  context.fill();\n  for (var i = 0; i < data.length; i++) {\n    context.beginPath();\n    context.setLineWidth(mapOption.borderWidth * opts.pixelRatio);\n    context.setStrokeStyle(mapOption.borderColor);\n    context.setFillStyle(hexToRgb(series[i].color, mapOption.fillOpacity));\n    if (opts.tooltip) {\n      if (opts.tooltip.index == i ) {\n        context.setStrokeStyle(mapOption.activeBorderColor);\n        context.setFillStyle(hexToRgb(mapOption.activeFillColor, mapOption.activeFillOpacity));\n      }\n    }\n    var coorda = data[i].geometry.coordinates\n    for (var k = 0; k < coorda.length; k++) {\n      coords = coorda[k];\n      if (coords.length == 1) {\n        coords = coords[0]\n      }\n      for (var j = 0; j < coords.length; j++) {\n        point = coordinateToPoint(coords[j][1], coords[j][0],bounds,scale,xoffset,yoffset)\n        if (j === 0) {\n          context.beginPath();\n          context.moveTo(point.x, point.y);\n        } else {\n          context.lineTo(point.x, point.y);\n        }\n      }\n      context.fill();\n      if(mapOption.border == true){\n        context.stroke();\n      }\n    }\n    if(opts.dataLabel == true){\n      var centerPoint = data[i].properties.centroid;\n      if(centerPoint){\n        point = coordinateToPoint(centerPoint[1], centerPoint[0],bounds,scale,xoffset,yoffset);\n        let fontSize=data[i].textSize||config.fontSize;\n        let text=data[i].properties.name;\n        context.beginPath();\n        context.setFontSize(fontSize)\n        context.setFillStyle(data[i].textColor||'#666666')\n        context.fillText(text, point.x-measureText(text,fontSize)/2, point.y+fontSize/2);\n        context.closePath();\n        context.stroke();\n      }\n    }\n  }\n  opts.chartData.mapData={\n    bounds:bounds,\n    scale:scale,\n    xoffset:xoffset,\n    yoffset:yoffset\n  }\n  drawToolTipBridge(opts, config, context,1);\n  context.draw();\n}\n\nfunction getWordCloudPoint(opts,type){\n  let points = opts.series.sort(function(a,b){return parseInt(b.textSize)-parseInt(a.textSize);});\n  switch (type) {\n    case 'normal':\n      for (let i = 0; i < points.length; i++) {\n        let text = points[i].name;\n        let tHeight = points[i].textSize;\n        let tWidth = measureText(text,tHeight);\n        let x,y;\n        let area;\n        let breaknum=0;\n        while(true) {\n            breaknum++;\n            x = normalInt(-opts.width/2, opts.width/2,5) - tWidth/2;\n            y = normalInt(-opts.height/2, opts.height/2,5) + tHeight/2;\n            area=[x-5+opts.width/2,y-5-tHeight+opts.height/2,x+tWidth+5+opts.width/2,y+5+opts.height/2];\n            let isCollision = collisionNew(area,points,opts.width,opts.height);\n            if (!isCollision) break;\n            if (breaknum==1000){\n              area=[-100,-100,-100,-100];\n              break;\n            }\n        };\n        points[i].area=area;\n      }\n    break;\n    case 'vertical':\n      function Spin(){\n        //获取均匀随机值，是否旋转，旋转的概率为（1-0.5）\n        if (Math.random()>0.7) {\n            return true;\n        }else {return false};\n      };\n      for (let i = 0; i < points.length; i++) { \n        let text = points[i].name;\n        let tHeight = points[i].textSize;\n        let tWidth = measureText(text,tHeight);\n        let isSpin = Spin(); \n        let x,y,area,areav;\n        let breaknum=0;\n        while(true) {\n          breaknum++;\n          let isCollision;\n          if (isSpin) {\n              x = normalInt(-opts.width/2, opts.width/2,5) - tWidth/2;\n              y = normalInt(-opts.height/2, opts.height/2,5)+tHeight/2;\n              area=[y-5-tWidth+opts.width/2,(-x-5+opts.height/2),y+5+opts.width/2,(-x+tHeight+5+opts.height/2)];\n              areav=[opts.width-(opts.width/2-opts.height/2)-(-x+tHeight+5+opts.height/2)-5,(opts.height/2-opts.width/2)+(y-5-tWidth+opts.width/2)-5,opts.width-(opts.width/2-opts.height/2)-(-x+tHeight+5+opts.height/2)+tHeight,(opts.height/2-opts.width/2)+(y-5-tWidth+opts.width/2)+tWidth+5];\n              isCollision = collisionNew(areav,points,opts.height,opts.width);\n          }else{\n            x = normalInt(-opts.width/2, opts.width/2,5) - tWidth/2;\n            y = normalInt(-opts.height/2, opts.height/2,5)+tHeight/2;\n            area=[x-5+opts.width/2,y-5-tHeight+opts.height/2,x+tWidth+5+opts.width/2,y+5+opts.height/2];\n            isCollision = collisionNew(area,points,opts.width,opts.height);\n          } \n          if (!isCollision) break;\n          if (breaknum==1000){\n            area=[-1000,-1000,-1000,-1000];\n            break;\n          }\n        };\n        if (isSpin) {\n          points[i].area=areav;\n          points[i].areav=area;\n        }else{\n          points[i].area=area;\n        }\n        points[i].rotate=isSpin;\n      };\n    break;\n  }\n  return points;\n}\n\n\nfunction drawWordCloudDataPoints(series, opts, config, context) {\n  let process = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\n  let wordOption = assign({},{\n    type: 'normal',\n    autoColors: true\n  },opts.extra.word);\n  \n  context.beginPath();\n  context.setFillStyle(opts.background||'#FFFFFF');\n  context.rect(0,0,opts.width,opts.height);\n  context.fill();\n  context.save();\n  let points = opts.chartData.wordCloudData;\n  context.translate(opts.width/2,opts.height/2);\n  \n  for(let i=0;i<points.length;i++){\n      context.save();\n      if(points[i].rotate){\n        context.rotate(90 * Math.PI / 180);\n      }\n      let text = points[i].name;\n      let tHeight = points[i].textSize;\n      let tWidth = measureText(text,tHeight);\n      context.beginPath();\n      context.setStrokeStyle(points[i].color);\n      context.setFillStyle(points[i].color);\n      context.setFontSize(tHeight);\n      if(points[i].rotate){\n        if(points[i].areav[0]>0){\n          if (opts.tooltip) {\n            if (opts.tooltip.index == i) {\n              context.strokeText(text,(points[i].areav[0]+5-opts.width/2)*process-tWidth*(1-process)/2,(points[i].areav[1]+5+tHeight-opts.height/2)*process);\n              }else{\n                context.fillText(text,(points[i].areav[0]+5-opts.width/2)*process-tWidth*(1-process)/2,(points[i].areav[1]+5+tHeight-opts.height/2)*process);\n              }\n          }else{\n            context.fillText(text,(points[i].areav[0]+5-opts.width/2)*process-tWidth*(1-process)/2,(points[i].areav[1]+5+tHeight-opts.height/2)*process);\n          } \n        }\n      }else{\n        if(points[i].area[0]>0){\n          if (opts.tooltip) {\n            if (opts.tooltip.index == i) {\n              context.strokeText(text,(points[i].area[0]+5-opts.width/2)*process-tWidth*(1-process)/2,(points[i].area[1]+5+tHeight-opts.height/2)*process);\n            }else{\n              context.fillText(text,(points[i].area[0]+5-opts.width/2)*process-tWidth*(1-process)/2,(points[i].area[1]+5+tHeight-opts.height/2)*process);\n            }\n          }else{\n            context.fillText(text,(points[i].area[0]+5-opts.width/2)*process-tWidth*(1-process)/2,(points[i].area[1]+5+tHeight-opts.height/2)*process);\n          }\n            \n        }\n      }\n      \n      context.stroke();\n      context.restore();\n  }\n  context.restore();\n}\n\nfunction drawFunnelDataPoints(series, opts, config, context) {\n  let process = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\n  let funnelOption = assign({},{\n    activeWidth:10,\n    activeOpacity:0.3,\n    border:false,\n    borderWidth:2,\n    borderColor:'#FFFFFF',\n    fillOpacity:1,\n    labelAlign:'right'\n  },opts.extra.funnel);\n  let eachSpacing = (opts.height - opts.area[0] - opts.area[2])/series.length;\n  let centerPosition = {\n    x: opts.area[3] + (opts.width - opts.area[1] - opts.area[3]) / 2,\n    y: opts.height-opts.area[2]\n  };\n  let activeWidth = funnelOption.activeWidth;\n  let radius = Math.min((opts.width - opts.area[1] - opts.area[3]) / 2 - activeWidth, (opts.height - opts.area[0] - opts.area[2]) / 2 - activeWidth);\n  series = getFunnelDataPoints(series, radius, process);\n  context.save();\n  context.translate(centerPosition.x,centerPosition.y);\n  for(let i=0;i<series.length;i++){\n    if(i==0){\n      if (opts.tooltip) {\n        if (opts.tooltip.index == i) {\n          context.beginPath();\n          context.setFillStyle(hexToRgb(series[i].color, funnelOption.activeOpacity));\n          context.moveTo(-activeWidth, 0);\n          context.lineTo(-series[i].radius-activeWidth, -eachSpacing);\n          context.lineTo(series[i].radius+activeWidth, -eachSpacing);\n          context.lineTo(activeWidth, 0);\n          context.lineTo(-activeWidth, 0);\n          context.closePath();\n          context.fill();\n        }\n      }\n      series[i].funnelArea=[centerPosition.x-series[i].radius,centerPosition.y-eachSpacing,centerPosition.x+series[i].radius,centerPosition.y];\n      context.beginPath();\n      context.setLineWidth(funnelOption.borderWidth * opts.pixelRatio);\n      context.setStrokeStyle(funnelOption.borderColor);\n      context.setFillStyle(hexToRgb(series[i].color, funnelOption.fillOpacity));\n      context.moveTo(0, 0);\n      context.lineTo(-series[i].radius, -eachSpacing);\n      context.lineTo(series[i].radius, -eachSpacing);\n      context.lineTo(0, 0);\n      context.closePath();\n      context.fill();\n      if(funnelOption.border == true){\n        context.stroke();\n      }\n    }else{\n      if (opts.tooltip) {\n        if (opts.tooltip.index == i) {\n          context.beginPath();\n          context.setFillStyle(hexToRgb(series[i].color, funnelOption.activeOpacity));\n          context.moveTo(0, 0);\n          context.lineTo(-series[i-1].radius-activeWidth, 0);\n          context.lineTo(-series[i].radius-activeWidth, -eachSpacing);\n          context.lineTo(series[i].radius+activeWidth, -eachSpacing);\n          context.lineTo(series[i-1].radius+activeWidth, 0);\n          context.lineTo(0, 0);\n          context.closePath();\n          context.fill();\n        }\n      }\n      series[i].funnelArea=[centerPosition.x-series[i].radius,centerPosition.y-eachSpacing*(i+1),centerPosition.x+series[i].radius,centerPosition.y-eachSpacing*i];\n      context.beginPath();\n      context.setLineWidth(funnelOption.borderWidth * opts.pixelRatio);\n      context.setStrokeStyle(funnelOption.borderColor);\n      context.setFillStyle(hexToRgb(series[i].color, funnelOption.fillOpacity));\n      context.moveTo(0, 0);\n      context.lineTo(-series[i-1].radius, 0);\n      context.lineTo(-series[i].radius, -eachSpacing);\n      context.lineTo(series[i].radius, -eachSpacing);\n      context.lineTo(series[i-1].radius, 0);\n      context.lineTo(0, 0);\n      context.closePath();\n      context.fill();\n      if(funnelOption.border == true){\n        context.stroke();\n      }\n    }\n    context.translate(0,-eachSpacing)\n  }\n  context.restore();\n  \n  if (opts.dataLabel !== false && process === 1) {\n    drawFunnelText(series, opts, context, eachSpacing, funnelOption.labelAlign, activeWidth, centerPosition);\n  }\n  \n  return {\n    center: centerPosition,\n    radius: radius,\n    series: series\n  };\n}\n\nfunction drawFunnelText(series, opts, context, eachSpacing, labelAlign,activeWidth, centerPosition){\n  for(let i=0;i<series.length;i++){\n    let item = series[i];\n    let startX,endX,startY,fontSize;\n    let text = item.format ? item.format(+item._proportion_.toFixed(2)) : util.toFixed(item._proportion_ * 100) +'%';\n    if(labelAlign == 'right'){\n      if(i==0){\n        startX=(item.funnelArea[2]+centerPosition.x)/2;\n      }else{\n        startX=(item.funnelArea[2]+series[i-1].funnelArea[2])/2;\n      }\n      endX=startX+activeWidth*2;\n      startY=item.funnelArea[1]+eachSpacing/2;\n      fontSize = item.textSize || opts.fontSize;\n      context.setLineWidth(1 * opts.pixelRatio);\n      context.setStrokeStyle(item.color);\n      context.setFillStyle(item.color);\n      context.beginPath();\n      context.moveTo(startX,startY );\n      context.lineTo(endX,startY);\n      context.stroke();\n      context.closePath();\n      context.beginPath();\n      context.moveTo(endX, startY);\n      context.arc(endX, startY, 2, 0, 2 * Math.PI);\n      context.closePath();\n      context.fill();\n      context.beginPath();\n      context.setFontSize(fontSize);\n      context.setFillStyle(item.textColor || '#666666');\n      context.fillText(text, endX+5, startY + fontSize/2 -2);\n      context.closePath();\n      context.stroke();\n      context.closePath();\n    }else{\n      if(i==0){\n        startX=(item.funnelArea[0]+centerPosition.x)/2;\n      }else{\n        startX=(item.funnelArea[0]+series[i-1].funnelArea[0])/2;\n      }\n      endX=startX-activeWidth*2;\n      startY=item.funnelArea[1]+eachSpacing/2;\n      fontSize = item.textSize || opts.fontSize;\n      context.setLineWidth(1 * opts.pixelRatio);\n      context.setStrokeStyle(item.color);\n      context.setFillStyle(item.color);\n      context.beginPath();\n      context.moveTo(startX,startY );\n      context.lineTo(endX,startY);\n      context.stroke();\n      context.closePath();\n      context.beginPath();\n      context.moveTo(endX, startY);\n      context.arc(endX, startY, 2, 0, 2 * Math.PI);\n      context.closePath();\n      context.fill();\n      context.beginPath();\n      context.setFontSize(fontSize);\n      context.setFillStyle(item.textColor || '#666666');\n      context.fillText(text, endX-5-measureText(text), startY + fontSize/2 -2);\n      context.closePath();\n      context.stroke();\n      context.closePath();\n    }\n    \n  }\n}\n\n\nfunction drawCanvas(opts, context) {\n  context.draw();\n}\n\nvar Timing = {\n  easeIn: function easeIn(pos) {\n    return Math.pow(pos, 3);\n  },\n  easeOut: function easeOut(pos) {\n    return Math.pow(pos - 1, 3) + 1;\n  },\n  easeInOut: function easeInOut(pos) {\n    if ((pos /= 0.5) < 1) {\n      return 0.5 * Math.pow(pos, 3);\n    } else {\n      return 0.5 * (Math.pow(pos - 2, 3) + 2);\n    }\n  },\n  linear: function linear(pos) {\n    return pos;\n  }\n};\n\nfunction Animation(opts) {\n  this.isStop = false;\n  opts.duration = typeof opts.duration === 'undefined' ? 1000 : opts.duration;\n  opts.timing = opts.timing || 'linear';\n  var delay = 17;\n\n  function createAnimationFrame() {\n    if (typeof setTimeout !== 'undefined') {\n      return function(step, delay) {\n        setTimeout(function() {\n          var timeStamp = +new Date();\n          step(timeStamp);\n        }, delay);\n      };\n    } else if (typeof requestAnimationFrame !== 'undefined') {\n      return requestAnimationFrame;\n    } else {\n      return function(step) {\n        step(null);\n      };\n    }\n  };\n  var animationFrame = createAnimationFrame();\n  var startTimeStamp = null;\n  var _step = function step(timestamp) {\n    if (timestamp === null || this.isStop === true) {\n      opts.onProcess && opts.onProcess(1);\n      opts.onAnimationFinish && opts.onAnimationFinish();\n      return;\n    }\n    if (startTimeStamp === null) {\n      startTimeStamp = timestamp;\n    }\n    if (timestamp - startTimeStamp < opts.duration) {\n      var process = (timestamp - startTimeStamp) / opts.duration;\n      var timingFunction = Timing[opts.timing];\n      process = timingFunction(process);\n\n      opts.onProcess && opts.onProcess(process);\n      animationFrame(_step, delay);\n    } else {\n      opts.onProcess && opts.onProcess(1);\n      opts.onAnimationFinish && opts.onAnimationFinish();\n    }\n  };\n  _step = _step.bind(this);\n  animationFrame(_step, delay);\n}\n\n// stop animation immediately\n// and tigger onAnimationFinish\nAnimation.prototype.stop = function() {\n  this.isStop = true;\n};\n\nfunction drawCharts(type, opts, config, context) {\n  var _this = this;\n  var series = opts.series;\n  var categories = opts.categories;\n  series = fillSeries(series, opts, config);\n  var duration = opts.animation ? opts.duration : 0;\n  _this.animationInstance && _this.animationInstance.stop();\n  var seriesMA = null;\n  if (type == 'candle') {\n    let average = assign({}, opts.extra.candle.average);\n    if (average.show) {\n      seriesMA = calCandleMA(average.day, average.name, average.color, series[0].data);\n      seriesMA = fillSeries(seriesMA, opts, config);\n      opts.seriesMA = seriesMA;\n    } else if (opts.seriesMA) {\n      seriesMA = opts.seriesMA = fillSeries(opts.seriesMA, opts, config);\n    } else {\n      seriesMA = series;\n    }\n  } else {\n    seriesMA = series;\n  }\n\n  /* 过滤掉show=false的series */\n  opts._series_ = series = filterSeries(series);\n\n  //重新计算图表区域\n\n  opts.area = new Array(4);\n  //复位绘图区域\n  for (let j = 0; j < 4; j++) {\n    opts.area[j] = opts.padding[j];\n  }\n\n  //通过计算三大区域：图例、X轴、Y轴的大小，确定绘图区域\n  var _calLegendData = calLegendData(seriesMA, opts, config, opts.chartData),\n    legendHeight = _calLegendData.area.wholeHeight,\n    legendWidth = _calLegendData.area.wholeWidth;\n    \n  switch (opts.legend.position) {\n    case 'top':\n      opts.area[0] += legendHeight;\n      break;\n    case 'bottom':\n      opts.area[2] += legendHeight;\n      break;\n    case 'left':\n      opts.area[3] += legendWidth;\n      break;\n    case 'right':\n      opts.area[1] += legendWidth;\n      break;\n  }\n\n  let _calYAxisData = {},yAxisWidth = 0;\n  if (opts.type === 'line' || opts.type === 'column' || opts.type === 'area' || opts.type === 'mix' || opts.type === 'candle') {\n    _calYAxisData = calYAxisData(series, opts, config);\n    yAxisWidth = _calYAxisData.yAxisWidth;\n    //如果显示Y轴标题\n    if(opts.yAxis.showTitle){\n      let maxTitleHeight=0;\n      for(let i=0;i<opts.yAxis.data.length;i++){\n        maxTitleHeight = Math.max(maxTitleHeight,opts.yAxis.data[i].titleFontSize?opts.yAxis.data[i].titleFontSize:config.fontSize)\n      }\n      opts.area[0] += (maxTitleHeight+6)*opts.pixelRatio;\n    }\n    let rightIndex=0,leftIndex=0;\n    //计算主绘图区域左右位置\n    for(let i=0;i<yAxisWidth.length;i++){\n      if(yAxisWidth[i].position=='left'){\n        if(leftIndex>0){\n          opts.area[3] += yAxisWidth[i].width + opts.yAxis.padding;\n        }else{\n          opts.area[3] += yAxisWidth[i].width;\n        }\n        leftIndex +=1;\n      }else{\n        if(rightIndex>0){\n          opts.area[1] += yAxisWidth[i].width + opts.yAxis.padding;\n        }else{\n          opts.area[1] += yAxisWidth[i].width;\n        }\n        rightIndex +=1;\n      }\n    }\n  }else{\n    config.yAxisWidth = yAxisWidth;\n  }\n  opts.chartData.yAxisData = _calYAxisData;\n\n  if (opts.categories && opts.categories.length) {\n    opts.chartData.xAxisData = getXAxisPoints(opts.categories, opts, config);\n    let _calCategoriesData = calCategoriesData(opts.categories, opts, config, opts.chartData.xAxisData.eachSpacing),\n      xAxisHeight = _calCategoriesData.xAxisHeight,\n      angle = _calCategoriesData.angle;\n    config.xAxisHeight = xAxisHeight;\n    config._xAxisTextAngle_ = angle;\n    opts.area[2] += xAxisHeight;\n    opts.chartData.categoriesData = _calCategoriesData;\n  }else{\n\t\tif (opts.type === 'line' || opts.type === 'area' || opts.type === 'points') {\n\t\t\topts.chartData.xAxisData = calXAxisData(series, opts, config);\n\t\t\tcategories=opts.chartData.xAxisData.rangesFormat;\n\t\t\tlet _calCategoriesData = calCategoriesData(categories, opts, config, opts.chartData.xAxisData.eachSpacing),\n\t\t\t  xAxisHeight = _calCategoriesData.xAxisHeight,\n\t\t\t  angle = _calCategoriesData.angle;\n\t\t\tconfig.xAxisHeight = xAxisHeight;\n\t\t\tconfig._xAxisTextAngle_ = angle;\n\t\t\topts.area[2] += xAxisHeight;\n\t\t\topts.chartData.categoriesData = _calCategoriesData;\n\t\t}else{\n\t\t\topts.chartData.xAxisData={\n\t\t\t\txAxisPoints: []\n\t\t\t};\n\t\t}\n\t}\n  //计算右对齐偏移距离\n  if (opts.enableScroll && opts.xAxis.scrollAlign == 'right' && opts._scrollDistance_ === undefined) {\n    let offsetLeft = 0,\n      xAxisPoints = opts.chartData.xAxisData.xAxisPoints,\n      startX = opts.chartData.xAxisData.startX,\n      endX = opts.chartData.xAxisData.endX,\n      eachSpacing = opts.chartData.xAxisData.eachSpacing;\n    let totalWidth = eachSpacing * (xAxisPoints.length - 1);\n    let screenWidth = endX - startX;\n    offsetLeft = screenWidth - totalWidth;\n    _this.scrollOption = {\n      currentOffset: offsetLeft,\n      startTouchX: offsetLeft,\n      distance: 0,\n      lastMoveTime: 0\n    };\n    opts._scrollDistance_ = offsetLeft;\n  }\n\n  if (type === 'pie' || type === 'ring' || type === 'rose') {\n    config._pieTextMaxLength_ = opts.dataLabel === false ? 0 : getPieTextMaxLength(seriesMA);\n  }\n\n  switch (type) {\n    case 'word':\n      let wordOption = assign({},{\n        type: 'normal',\n        autoColors: true\n      },opts.extra.word);\n      if(opts.updateData==true || opts.updateData==undefined){\n        opts.chartData.wordCloudData=getWordCloudPoint(opts,wordOption.type);\n      }\n      this.animationInstance = new Animation({\n        timing: 'easeInOut',\n        duration: duration,\n        onProcess: function(process) {\n          context.clearRect(0, 0, opts.width, opts.height);\n          if (opts.rotate) {\n            contextRotate(context, opts);\n          }\n          drawWordCloudDataPoints(series, opts, config, context,process);\n          drawCanvas(opts, context);\n        },\n        onAnimationFinish: function onAnimationFinish() {\n          _this.event.trigger('renderComplete');\n        }\n      });\n    break;\n    case 'map':\n      context.clearRect(0, 0, opts.width, opts.height);\n      drawMapDataPoints(series, opts, config, context);\n    break;\n    case 'funnel':\n      this.animationInstance = new Animation({\n        timing: 'easeInOut',\n        duration: duration,\n        onProcess: function(process) {\n          context.clearRect(0, 0, opts.width, opts.height);\n          if (opts.rotate) {\n            contextRotate(context, opts);\n          }\n          opts.chartData.funnelData = drawFunnelDataPoints(series, opts, config, context, process);\n          drawLegend(opts.series, opts, config, context, opts.chartData);\n          drawToolTipBridge(opts, config, context, process);\n          drawCanvas(opts, context);\n        },\n        onAnimationFinish: function onAnimationFinish() {\n          _this.event.trigger('renderComplete');\n        }\n      });\n    break;\n    case 'line':\n      this.animationInstance = new Animation({\n        timing: 'easeIn',\n        duration: duration,\n        onProcess: function onProcess(process) {\n          context.clearRect(0, 0, opts.width, opts.height);\n          if (opts.rotate) {\n            contextRotate(context, opts);\n          }\n          drawYAxisGrid(categories, opts, config, context);\n          drawXAxis(categories, opts, config, context);\n          var _drawLineDataPoints = drawLineDataPoints(series, opts, config, context, process),\n            xAxisPoints = _drawLineDataPoints.xAxisPoints,\n            calPoints = _drawLineDataPoints.calPoints,\n            eachSpacing = _drawLineDataPoints.eachSpacing;\n          opts.chartData.xAxisPoints = xAxisPoints;\n          opts.chartData.calPoints = calPoints;\n          opts.chartData.eachSpacing = eachSpacing;\n          drawYAxis(series, opts, config, context);\n          if (opts.enableMarkLine !== false && process === 1) {\n            drawMarkLine(opts, config, context);\n          }\n          drawLegend(opts.series, opts, config, context, opts.chartData);\n          drawToolTipBridge(opts, config, context, process, eachSpacing, xAxisPoints);\n          drawCanvas(opts, context);\n\n        },\n        onAnimationFinish: function onAnimationFinish() {\n          _this.event.trigger('renderComplete');\n        }\n      });\n      break;\n    case 'mix':\n      this.animationInstance = new Animation({\n        timing: 'easeIn',\n        duration: duration,\n        onProcess: function onProcess(process) {\n          context.clearRect(0, 0, opts.width, opts.height);\n          if (opts.rotate) {\n            contextRotate(context, opts);\n          }\n          drawYAxisGrid(categories, opts, config, context);\n          drawXAxis(categories, opts, config, context);\n          var _drawMixDataPoints = drawMixDataPoints(series, opts, config, context, process),\n            xAxisPoints = _drawMixDataPoints.xAxisPoints,\n            calPoints = _drawMixDataPoints.calPoints,\n            eachSpacing = _drawMixDataPoints.eachSpacing;\n          opts.chartData.xAxisPoints = xAxisPoints;\n          opts.chartData.calPoints = calPoints;\n          opts.chartData.eachSpacing = eachSpacing;\n          drawYAxis(series, opts, config, context);\n          if (opts.enableMarkLine !== false && process === 1) {\n            drawMarkLine(opts, config, context);\n          }\n          drawLegend(opts.series, opts, config, context, opts.chartData);\n          drawToolTipBridge(opts, config, context, process, eachSpacing, xAxisPoints);\n          drawCanvas(opts, context);\n        },\n        onAnimationFinish: function onAnimationFinish() {\n          _this.event.trigger('renderComplete');\n        }\n      });\n      break;\n    case 'column':\n      this.animationInstance = new Animation({\n        timing: 'easeIn',\n        duration: duration,\n        onProcess: function onProcess(process) {\n          context.clearRect(0, 0, opts.width, opts.height);\n          if (opts.rotate) {\n            contextRotate(context, opts);\n          }\n          drawYAxisGrid(categories, opts, config, context);\n          drawXAxis(categories, opts, config, context);\n          var _drawColumnDataPoints = drawColumnDataPoints(series, opts, config, context, process),\n            xAxisPoints = _drawColumnDataPoints.xAxisPoints,\n            calPoints = _drawColumnDataPoints.calPoints,\n            eachSpacing = _drawColumnDataPoints.eachSpacing;\n          opts.chartData.xAxisPoints = xAxisPoints;\n          opts.chartData.calPoints = calPoints;\n          opts.chartData.eachSpacing = eachSpacing;\n          drawYAxis(series, opts, config, context);\n          if (opts.enableMarkLine !== false && process === 1) {\n            drawMarkLine(opts, config, context);\n          }\n          drawLegend(opts.series, opts, config, context, opts.chartData);\n          drawToolTipBridge(opts, config, context, process, eachSpacing, xAxisPoints);\n          drawCanvas(opts, context);\n        },\n        onAnimationFinish: function onAnimationFinish() {\n          _this.event.trigger('renderComplete');\n        }\n      });\n      break;\n    case 'area':\n      this.animationInstance = new Animation({\n        timing: 'easeIn',\n        duration: duration,\n        onProcess: function onProcess(process) {\n          context.clearRect(0, 0, opts.width, opts.height);\n          if (opts.rotate) {\n            contextRotate(context, opts);\n          }\n          drawYAxisGrid(categories, opts, config, context);\n          drawXAxis(categories, opts, config, context);\n          var _drawAreaDataPoints = drawAreaDataPoints(series, opts, config, context, process),\n            xAxisPoints = _drawAreaDataPoints.xAxisPoints,\n            calPoints = _drawAreaDataPoints.calPoints,\n            eachSpacing = _drawAreaDataPoints.eachSpacing;\n          opts.chartData.xAxisPoints = xAxisPoints;\n          opts.chartData.calPoints = calPoints;\n          opts.chartData.eachSpacing = eachSpacing;\n          drawYAxis(series, opts, config, context);\n          if (opts.enableMarkLine !== false && process === 1) {\n            drawMarkLine(opts, config, context);\n          }\n          drawLegend(opts.series, opts, config, context, opts.chartData);\n          drawToolTipBridge(opts, config, context, process, eachSpacing, xAxisPoints);\n          drawCanvas(opts, context);\n        },\n        onAnimationFinish: function onAnimationFinish() {\n          _this.event.trigger('renderComplete');\n        }\n      });\n      break;\n    case 'ring':\n    case 'pie':\n      this.animationInstance = new Animation({\n        timing: 'easeInOut',\n        duration: duration,\n        onProcess: function onProcess(process) {\n          context.clearRect(0, 0, opts.width, opts.height);\n          if (opts.rotate) {\n            contextRotate(context, opts);\n          }\n          opts.chartData.pieData = drawPieDataPoints(series, opts, config, context, process);\n          drawLegend(opts.series, opts, config, context, opts.chartData);\n          drawToolTipBridge(opts, config, context, process);\n          drawCanvas(opts, context);\n        },\n        onAnimationFinish: function onAnimationFinish() {\n          _this.event.trigger('renderComplete');\n        }\n      });\n      break;\n    case 'rose':\n      this.animationInstance = new Animation({\n        timing: 'easeInOut',\n        duration: duration,\n        onProcess: function onProcess(process) {\n          context.clearRect(0, 0, opts.width, opts.height);\n          if (opts.rotate) {\n            contextRotate(context, opts);\n          }\n          opts.chartData.pieData = drawRoseDataPoints(series, opts, config, context, process);\n          drawLegend(opts.series, opts, config, context, opts.chartData);\n          drawToolTipBridge(opts, config, context, process);\n          drawCanvas(opts, context);\n        },\n        onAnimationFinish: function onAnimationFinish() {\n          _this.event.trigger('renderComplete');\n        }\n      });\n      break;\n    case 'radar':\n      this.animationInstance = new Animation({\n        timing: 'easeInOut',\n        duration: duration,\n        onProcess: function onProcess(process) {\n          context.clearRect(0, 0, opts.width, opts.height);\n          if (opts.rotate) {\n            contextRotate(context, opts);\n          }\n          opts.chartData.radarData = drawRadarDataPoints(series, opts, config, context, process);\n          drawLegend(opts.series, opts, config, context, opts.chartData);\n          drawToolTipBridge(opts, config, context, process);\n          drawCanvas(opts, context);\n        },\n        onAnimationFinish: function onAnimationFinish() {\n          _this.event.trigger('renderComplete');\n        }\n      });\n      break;\n    case 'arcbar':\n      this.animationInstance = new Animation({\n        timing: 'easeInOut',\n        duration: duration,\n        onProcess: function onProcess(process) {\n          context.clearRect(0, 0, opts.width, opts.height);\n          if (opts.rotate) {\n            contextRotate(context, opts);\n          }\n          opts.chartData.arcbarData = drawArcbarDataPoints(series, opts, config, context, process);\n          drawCanvas(opts, context);\n        },\n        onAnimationFinish: function onAnimationFinish() {\n          _this.event.trigger('renderComplete');\n        }\n      });\n      break;\n    case 'gauge':\n      this.animationInstance = new Animation({\n        timing: 'easeInOut',\n        duration: duration,\n        onProcess: function onProcess(process) {\n          context.clearRect(0, 0, opts.width, opts.height);\n          if (opts.rotate) {\n            contextRotate(context, opts);\n          }\n          opts.chartData.gaugeData = drawGaugeDataPoints(categories, series, opts, config, context, process);\n          drawCanvas(opts, context);\n        },\n        onAnimationFinish: function onAnimationFinish() {\n          _this.event.trigger('renderComplete');\n        }\n      });\n      break;\n    case 'candle':\n      this.animationInstance = new Animation({\n        timing: 'easeIn',\n        duration: duration,\n        onProcess: function onProcess(process) {\n          context.clearRect(0, 0, opts.width, opts.height);\n          if (opts.rotate) {\n            contextRotate(context, opts);\n          }\n          drawYAxisGrid(categories, opts, config, context);\n          drawXAxis(categories, opts, config, context);\n          var _drawCandleDataPoints = drawCandleDataPoints(series, seriesMA, opts, config, context, process),\n            xAxisPoints = _drawCandleDataPoints.xAxisPoints,\n            calPoints = _drawCandleDataPoints.calPoints,\n            eachSpacing = _drawCandleDataPoints.eachSpacing;\n          opts.chartData.xAxisPoints = xAxisPoints;\n          opts.chartData.calPoints = calPoints;\n          opts.chartData.eachSpacing = eachSpacing;\n          drawYAxis(series, opts, config, context);\n          if (opts.enableMarkLine !== false && process === 1) {\n            drawMarkLine(opts, config, context);\n          }\n          if (seriesMA) {\n            drawLegend(seriesMA, opts, config, context, opts.chartData);\n          } else {\n            drawLegend(opts.series, opts, config, context, opts.chartData);\n          }\n          drawToolTipBridge(opts, config, context, process, eachSpacing, xAxisPoints);\n          drawCanvas(opts, context);\n        },\n        onAnimationFinish: function onAnimationFinish() {\n          _this.event.trigger('renderComplete');\n        }\n      });\n      break;\n  }\n}\n\n// simple event implement\n\nfunction Event() {\n  this.events = {};\n}\n\nEvent.prototype.addEventListener = function(type, listener) {\n  this.events[type] = this.events[type] || [];\n  this.events[type].push(listener);\n};\n\nEvent.prototype.trigger = function() {\n  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  var type = args[0];\n  var params = args.slice(1);\n  if (!!this.events[type]) {\n    this.events[type].forEach(function(listener) {\n      try {\n        listener.apply(null, params);\n      } catch (e) {\n        console.error(e);\n      }\n    });\n  }\n};\n\nvar Charts = function Charts(opts) {\n  opts.pixelRatio = opts.pixelRatio ? opts.pixelRatio : 1;\n  opts.fontSize = opts.fontSize ? opts.fontSize * opts.pixelRatio : 13 * opts.pixelRatio;\n  opts.title = assign({}, opts.title);\n  opts.subtitle = assign({}, opts.subtitle);\n  opts.duration = opts.duration ? opts.duration : 1000;\n  opts.yAxis = assign({}, {\n    data:[],\n    showTitle:false,\n    disabled:false,\n    disableGrid:false,\n    splitNumber:5,\n    gridType: 'solid',\n    dashLength: 4 * opts.pixelRatio,\n    gridColor:'#cccccc',\n    padding:10,\n    fontColor:'#666666'\n  }, opts.yAxis);\n  opts.yAxis.dashLength *= opts.pixelRatio;\n  opts.yAxis.padding *= opts.pixelRatio;\n  opts.xAxis = assign({}, {\n    rotateLabel: false,\n    type: 'calibration',\n    gridType: 'solid',\n    dashLength: 4,\n    scrollAlign: 'left',\n    boundaryGap:'center',\n    axisLine:true,\n    axisLineColor:'#cccccc'\n  }, opts.xAxis);\n  opts.xAxis.dashLength *= opts.pixelRatio;\n  opts.legend = assign({}, {\n    show: true,\n    position: 'bottom',\n    float: 'center',\n    backgroundColor: 'rgba(0,0,0,0)',\n    borderColor: 'rgba(0,0,0,0)',\n    borderWidth: 0,\n    padding: 5,\n    margin: 5,\n    itemGap: 10,\n    fontSize: opts.fontSize,\n    lineHeight: opts.fontSize,\n    fontColor: '#333333',\n    format: {},\n    hiddenColor: '#CECECE'\n  }, opts.legend);\n  opts.legend.borderWidth = opts.legend.borderWidth * opts.pixelRatio;\n  opts.legend.itemGap = opts.legend.itemGap * opts.pixelRatio;\n  opts.legend.padding = opts.legend.padding * opts.pixelRatio;\n  opts.legend.margin = opts.legend.margin * opts.pixelRatio;\n  opts.extra = assign({}, opts.extra);\n  opts.rotate = opts.rotate ? true : false;\n  opts.animation = opts.animation ? true : false;\n\topts.rotate = opts.rotate ? true : false;\n\n  let config$$1 = JSON.parse(JSON.stringify(config));\n  config$$1.colors = opts.colors ? opts.colors : config$$1.colors;\n  config$$1.yAxisTitleWidth = opts.yAxis.disabled !== true && opts.yAxis.title ? config$$1.yAxisTitleWidth : 0;\n  if (opts.type == 'pie' || opts.type == 'ring') {\n    config$$1.pieChartLinePadding = opts.dataLabel === false ? 0 : opts.extra.pie.labelWidth * opts.pixelRatio || config$$1.pieChartLinePadding * opts.pixelRatio;\n  }\n  if (opts.type == 'rose') {\n    config$$1.pieChartLinePadding = opts.dataLabel === false ? 0 : opts.extra.rose.labelWidth * opts.pixelRatio || config$$1.pieChartLinePadding * opts.pixelRatio;\n  }\n  config$$1.pieChartTextPadding = opts.dataLabel === false ? 0 : config$$1.pieChartTextPadding * opts.pixelRatio;\n  config$$1.yAxisSplit = opts.yAxis.splitNumber ? opts.yAxis.splitNumber : config.yAxisSplit;\n\n  //屏幕旋转\n  config$$1.rotate = opts.rotate;\n  if (opts.rotate) {\n    let tempWidth = opts.width;\n    let tempHeight = opts.height;\n    opts.width = tempHeight;\n    opts.height = tempWidth;\n  }\n\n  //适配高分屏\n  opts.padding = opts.padding ? opts.padding : config$$1.padding;\n  for (let i = 0; i < 4; i++) {\n    opts.padding[i] *= opts.pixelRatio;\n  }\n  config$$1.yAxisWidth = config.yAxisWidth * opts.pixelRatio;\n  config$$1.xAxisHeight = config.xAxisHeight * opts.pixelRatio;\n  if (opts.enableScroll && opts.xAxis.scrollShow) {\n    config$$1.xAxisHeight += 6 * opts.pixelRatio;\n  }\n  config$$1.xAxisLineHeight = config.xAxisLineHeight * opts.pixelRatio;\n  config$$1.fontSize = opts.fontSize;\n  config$$1.titleFontSize = config.titleFontSize * opts.pixelRatio;\n  config$$1.subtitleFontSize = config.subtitleFontSize * opts.pixelRatio;\n  config$$1.toolTipPadding = config.toolTipPadding * opts.pixelRatio;\n  config$$1.toolTipLineHeight = config.toolTipLineHeight * opts.pixelRatio;\n  config$$1.columePadding = config.columePadding * opts.pixelRatio;\n  opts.$this = opts.$this ? opts.$this : this;\n  \n  this.context = uni.createCanvasContext(opts.canvasId, opts.$this);\n  /* 兼容原生H5\n  this.context = document.getElementById(opts.canvasId).getContext(\"2d\");\n  this.context.setStrokeStyle = function(e){ return this.strokeStyle=e; }\n  this.context.setLineWidth = function(e){ return this.lineWidth=e; }\n  this.context.setLineCap = function(e){ return this.lineCap=e; }\n  this.context.setFontSize = function(e){ return this.font=e+\"px sans-serif\"; }\n  this.context.setFillStyle = function(e){ return this.fillStyle=e; }\n  this.context.draw = function(){ }\n  */\n\n  opts.chartData = {};\n  this.event = new Event();\n  this.scrollOption = {\n    currentOffset: 0,\n    startTouchX: 0,\n    distance: 0,\n    lastMoveTime: 0\n  };\n\n  this.opts = opts;\n  this.config = config$$1;\n\n  drawCharts.call(this, opts.type, opts, config$$1, this.context);\n};\n\nCharts.prototype.updateData = function() {\n  let data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  this.opts = assign({}, this.opts, data);\n  this.opts.updateData = true;\n  let scrollPosition = data.scrollPosition || 'current';\n  switch (scrollPosition) {\n    case 'current':\n      this.opts._scrollDistance_ = this.scrollOption.currentOffset;\n      break;\n    case 'left':\n      this.opts._scrollDistance_ = 0;\n      this.scrollOption = {\n        currentOffset: 0,\n        startTouchX: 0,\n        distance: 0,\n        lastMoveTime: 0\n      };\n      break;\n    case 'right':\n      let _calYAxisData = calYAxisData(this.opts.series, this.opts, this.config),\n        yAxisWidth = _calYAxisData.yAxisWidth;\n      this.config.yAxisWidth = yAxisWidth;\n      let offsetLeft = 0;\n      let _getXAxisPoints0 = getXAxisPoints(this.opts.categories, this.opts, this.config),\n        xAxisPoints = _getXAxisPoints0.xAxisPoints,\n        startX = _getXAxisPoints0.startX,\n        endX = _getXAxisPoints0.endX,\n        eachSpacing = _getXAxisPoints0.eachSpacing;\n      let totalWidth = eachSpacing * (xAxisPoints.length - 1);\n      let screenWidth = endX - startX;\n      offsetLeft = screenWidth - totalWidth;\n      this.scrollOption = {\n        currentOffset: offsetLeft,\n        startTouchX: offsetLeft,\n        distance: 0,\n        lastMoveTime: 0\n      };\n      this.opts._scrollDistance_ = offsetLeft;\n      break;\n  }\n  drawCharts.call(this, this.opts.type, this.opts, this.config, this.context);\n};\n\nCharts.prototype.zoom = function() {\n  var val = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.opts.xAxis.itemCount;\n  if (this.opts.enableScroll !== true) {\n    console.log('请启用滚动条后使用！')\n    return;\n  }\n  //当前屏幕中间点\n  let centerPoint = Math.round(Math.abs(this.scrollOption.currentOffset) / this.opts.chartData.eachSpacing) + Math.round(\n    this.opts.xAxis.itemCount / 2);\n  this.opts.animation = false;\n  this.opts.xAxis.itemCount = val.itemCount;\n  //重新计算x轴偏移距离\n  let _calYAxisData = calYAxisData(this.opts.series, this.opts, this.config),\n    yAxisWidth = _calYAxisData.yAxisWidth;\n  this.config.yAxisWidth = yAxisWidth;\n  let offsetLeft = 0;\n  let _getXAxisPoints0 = getXAxisPoints(this.opts.categories, this.opts, this.config),\n    xAxisPoints = _getXAxisPoints0.xAxisPoints,\n    startX = _getXAxisPoints0.startX,\n    endX = _getXAxisPoints0.endX,\n    eachSpacing = _getXAxisPoints0.eachSpacing;\n  let centerLeft = eachSpacing * centerPoint;\n  let screenWidth = endX - startX;\n  let MaxLeft = screenWidth - eachSpacing * (xAxisPoints.length - 1);\n  offsetLeft = screenWidth / 2 - centerLeft;\n  if (offsetLeft > 0) {\n    offsetLeft = 0;\n  }\n  if (offsetLeft < MaxLeft) {\n    offsetLeft = MaxLeft;\n  }\n  this.scrollOption = {\n    currentOffset: offsetLeft,\n    startTouchX: offsetLeft,\n    distance: 0,\n    lastMoveTime: 0\n  };\n  this.opts._scrollDistance_ = offsetLeft;\n  drawCharts.call(this, this.opts.type, this.opts, this.config, this.context);\n};\n\nCharts.prototype.stopAnimation = function() {\n  this.animationInstance && this.animationInstance.stop();\n};\n\nCharts.prototype.addEventListener = function(type, listener) {\n  this.event.addEventListener(type, listener);\n};\n\nCharts.prototype.getCurrentDataIndex = function(e) {\n  var touches = null;\n  if (e.changedTouches) {\n    touches = e.changedTouches[0];\n  } else {\n    touches = e.mp.changedTouches[0];\n  }\n  if (touches) {\n    let _touches$ = getTouches(touches, this.opts, e);\n    if (this.opts.type === 'pie' || this.opts.type === 'ring' || this.opts.type === 'rose') {\n      return findPieChartCurrentIndex({\n        x: _touches$.x,\n        y: _touches$.y\n      }, this.opts.chartData.pieData);\n    } else if (this.opts.type === 'radar') {\n      return findRadarChartCurrentIndex({\n        x: _touches$.x,\n        y: _touches$.y\n      }, this.opts.chartData.radarData, this.opts.categories.length);\n    } else if (this.opts.type === 'funnel') {\n      return findFunnelChartCurrentIndex({\n        x: _touches$.x,\n        y: _touches$.y\n      }, this.opts.chartData.funnelData);\n    } else if (this.opts.type === 'map') {\n      return findMapChartCurrentIndex({\n        x: _touches$.x,\n        y: _touches$.y\n      }, this.opts);\n    }else if (this.opts.type === 'word') {\n      return findWordChartCurrentIndex({\n        x: _touches$.x,\n        y: _touches$.y\n      }, this.opts.chartData.wordCloudData);\n    } else {\n      return findCurrentIndex({\n        x: _touches$.x,\n        y: _touches$.y\n      }, this.opts.chartData.calPoints, this.opts, this.config, Math.abs(this.scrollOption.currentOffset));\n    }\n  }\n  return -1;\n};\n\nCharts.prototype.getLegendDataIndex = function(e) {\n  var touches = null;\n  if (e.changedTouches) {\n    touches = e.changedTouches[0];\n  } else {\n    touches = e.mp.changedTouches[0];\n  }\n  if (touches) {\n    let _touches$ = getTouches(touches, this.opts, e);\n    return findLegendIndex({\n      x: _touches$.x,\n      y: _touches$.y\n    }, this.opts.chartData.legendData);\n  }\n  return -1;\n};\n\nCharts.prototype.touchLegend = function(e) {\n  var option = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var touches = null;\n  if (e.changedTouches) {\n    touches = e.changedTouches[0];\n  } else {\n    touches = e.mp.changedTouches[0];\n  }\n  if (touches) {\n    var _touches$ = getTouches(touches, this.opts, e);\n    var index = this.getLegendDataIndex(e);\n    if (index >= 0) {\n      this.opts.series[index].show = !this.opts.series[index].show;\n      this.opts.animation = option.animation ? true : false;\n\t\t\tthis.opts._scrollDistance_= this.scrollOption.currentOffset;\n      drawCharts.call(this, this.opts.type, this.opts, this.config, this.context);\n    }\n  }\n\n};\n\nCharts.prototype.showToolTip = function(e) {\n  var option = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var touches = null;\n  if (e.changedTouches) {\n    touches = e.changedTouches[0];\n  } else {\n    touches = e.mp.changedTouches[0];\n  }\n  if (!touches) {\n    console.log(\"touchError\");\n  }\n  var _touches$ = getTouches(touches, this.opts, e);\n  var currentOffset = this.scrollOption.currentOffset;\n  var opts = assign({}, this.opts, {\n    _scrollDistance_: currentOffset,\n    animation: false\n  });\n  if (this.opts.type === 'line' || this.opts.type === 'area' || this.opts.type === 'column') {\n    var index = option.index==undefined? this.getCurrentDataIndex(e):option.index ;\n    if (index > -1) {\n      var seriesData = getSeriesDataItem(this.opts.series, index);\n      if (seriesData.length !== 0) {\n        var _getToolTipData = getToolTipData(seriesData, this.opts.chartData.calPoints, index, this.opts.categories,option),\n          textList = _getToolTipData.textList,\n          offset = _getToolTipData.offset;\n        offset.y = _touches$.y;\n        opts.tooltip = {\n          textList: option.textList?option.textList:textList,\n          offset: offset,\n          option: option,\n          index: index\n        };\n      }\n    }\n    drawCharts.call(this, opts.type, opts, this.config, this.context);\n  }\n  if (this.opts.type === 'mix') {\n    var index = option.index==undefined? this.getCurrentDataIndex(e):option.index ;\n    if (index > -1) {\n      var currentOffset = this.scrollOption.currentOffset;\n      var opts = assign({}, this.opts, {\n        _scrollDistance_: currentOffset,\n        animation: false\n      });\n      var seriesData = getSeriesDataItem(this.opts.series, index);\n      if (seriesData.length !== 0) {\n        var _getMixToolTipData = getMixToolTipData(seriesData, this.opts.chartData.calPoints, index, this.opts.categories,option),\n          textList = _getMixToolTipData.textList,\n          offset = _getMixToolTipData.offset;\n        offset.y = _touches$.y;\n        opts.tooltip = {\n          textList: option.textList?option.textList:textList,\n          offset: offset,\n          option: option,\n          index: index\n        };\n      }\n    }\n    drawCharts.call(this, opts.type, opts, this.config, this.context);\n  }\n  if (this.opts.type === 'candle') {\n    var index = option.index==undefined? this.getCurrentDataIndex(e):option.index ;\n    if (index > -1) {\n      var currentOffset = this.scrollOption.currentOffset;\n      var opts = assign({}, this.opts, {\n        _scrollDistance_: currentOffset,\n        animation: false\n      });\n      var seriesData = getSeriesDataItem(this.opts.series, index);\n      if (seriesData.length !== 0) {\n        var _getToolTipData = getCandleToolTipData(this.opts.series[0].data, seriesData, this.opts.chartData.calPoints,\n            index, this.opts.categories, this.opts.extra.candle, option),\n          textList = _getToolTipData.textList,\n          offset = _getToolTipData.offset;\n        offset.y = _touches$.y;\n        opts.tooltip = {\n          textList: option.textList?option.textList:textList,\n          offset: offset,\n          option: option,\n          index: index\n        };\n      }\n    }\n    drawCharts.call(this, opts.type, opts, this.config, this.context);\n  }\n  if (this.opts.type === 'pie' || this.opts.type === 'ring' || this.opts.type === 'rose'||this.opts.type === 'funnel' ) {\n    var index = option.index==undefined? this.getCurrentDataIndex(e):option.index ;\n    if (index > -1) {\n      var currentOffset = this.scrollOption.currentOffset;\n      var opts = assign({}, this.opts, {\n        _scrollDistance_: currentOffset,\n        animation: false\n      });\n      var seriesData = this.opts._series_[index];\n      var textList = [{\n        text: option.format ? option.format(seriesData) : seriesData.name + ': ' + seriesData.data,\n        color: seriesData.color\n      }];\n      var offset = {\n        x: _touches$.x,\n        y: _touches$.y\n      };\n      opts.tooltip = {\n        textList: option.textList?option.textList:textList,\n        offset: offset,\n        option: option,\n        index: index\n      };\n    }\n    drawCharts.call(this, opts.type, opts, this.config, this.context);\n  }\n  if (this.opts.type === 'map'||this.opts.type === 'word') {\n    var index = option.index==undefined? this.getCurrentDataIndex(e):option.index ;\n    if (index > -1) {\n      var currentOffset = this.scrollOption.currentOffset;\n      var opts = assign({}, this.opts, {\n        _scrollDistance_: currentOffset,\n        animation: false\n      });\n      var seriesData = this.opts._series_[index];\n      var textList = [{\n        text: option.format ? option.format(seriesData) : seriesData.properties.name ,\n        color: seriesData.color\n      }];\n      var offset = {\n        x: _touches$.x,\n        y: _touches$.y\n      };\n      opts.tooltip = {\n        textList: option.textList?option.textList:textList,\n        offset: offset,\n        option: option,\n        index: index\n      };\n    }\n    opts.updateData = false;\n    drawCharts.call(this, opts.type, opts, this.config, this.context);\n  }\n  if (this.opts.type === 'radar') {\n    var index = option.index==undefined? this.getCurrentDataIndex(e):option.index ;\n    if (index > -1) {\n      var currentOffset = this.scrollOption.currentOffset;\n      var opts = assign({}, this.opts, {\n        _scrollDistance_: currentOffset,\n        animation: false\n      });\n      var seriesData = getSeriesDataItem(this.opts.series, index);\n      if (seriesData.length !== 0) {\n        var textList = seriesData.map(function(item) {\n          return {\n            text: option.format ? option.format(item) : item.name + ': ' + item.data,\n            color: item.color\n          };\n        });\n        var offset = {\n          x: _touches$.x,\n          y: _touches$.y\n        };\n        opts.tooltip = {\n          textList: option.textList?option.textList:textList,\n          offset: offset,\n          option: option,\n          index: index\n        };\n      }\n    }\n    drawCharts.call(this, opts.type, opts, this.config, this.context);\n  }\n};\n\nCharts.prototype.translate = function(distance) {\n  this.scrollOption = {\n    currentOffset: distance,\n    startTouchX: distance,\n    distance: 0,\n    lastMoveTime: 0\n  };\n  let opts = assign({}, this.opts, {\n    _scrollDistance_: distance,\n    animation: false\n  });\n  drawCharts.call(this, this.opts.type, opts, this.config, this.context);\n};\n\nCharts.prototype.scrollStart = function(e) {\n  var touches = null;\n  if (e.changedTouches) {\n    touches = e.changedTouches[0];\n  } else {\n    touches = e.mp.changedTouches[0];\n  }\n  var _touches$ = getTouches(touches, this.opts, e);\n  if (touches && this.opts.enableScroll === true) {\n    this.scrollOption.startTouchX = _touches$.x;\n  }\n};\n\nCharts.prototype.scroll = function(e) {\n  if (this.scrollOption.lastMoveTime === 0) {\n    this.scrollOption.lastMoveTime = Date.now();\n  }\n  let Limit = this.opts.extra.touchMoveLimit || 20;\n  let currMoveTime = Date.now();\n  let duration = currMoveTime - this.scrollOption.lastMoveTime;\n  if (duration < Math.floor(1000 / Limit)) return;\n  this.scrollOption.lastMoveTime = currMoveTime;\n  var touches = null;\n  if (e.changedTouches) {\n    touches = e.changedTouches[0];\n  } else {\n    touches = e.mp.changedTouches[0];\n  }\n  if (touches && this.opts.enableScroll === true) {\n    var _touches$ = getTouches(touches, this.opts, e);\n    var _distance;\n    _distance = _touches$.x - this.scrollOption.startTouchX;\n    var currentOffset = this.scrollOption.currentOffset;\n    var validDistance = calValidDistance(this,currentOffset + _distance, this.opts.chartData, this.config, this.opts);\n    this.scrollOption.distance = _distance = validDistance - currentOffset;\n    var opts = assign({}, this.opts, {\n      _scrollDistance_: currentOffset + _distance,\n      animation: false\n    });\n    drawCharts.call(this, opts.type, opts, this.config, this.context);\n    return currentOffset + _distance;\n  }\n};\n\nCharts.prototype.scrollEnd = function(e) {\n  if (this.opts.enableScroll === true) {\n    var _scrollOption = this.scrollOption,\n      currentOffset = _scrollOption.currentOffset,\n      distance = _scrollOption.distance;\n    this.scrollOption.currentOffset = currentOffset + distance;\n    this.scrollOption.distance = 0;\n  }\n};\nif (typeof module === \"object\" && typeof module.exports === \"object\") {\n  module.exports = Charts;\n  //export default Charts;//建议使用nodejs的module导出方式，如报错请使用export方式导出\n}\n","let log = console.log; // 如果在项目的APP.vue文件中的onlaunch中设置 console.log = ()=> {} 则在此也不会有打印信息\r\n// log = ()=>{};\t// 打开注释则该插件不会打印任何信息\r\nlet _app = {\r\n\t//交互控制\r\n\tlog(t) {\r\n\t\tlog(t);\r\n\t}, // 打印控制,\r\n\tshowLoading(msg, ifmask) {\r\n\t\tuni.showLoading({\r\n\t\t\ttitle: msg,\r\n\t\t\tmask: ifmask || false\r\n\t\t})\r\n\t},\r\n\thideLoading() {\r\n\t\tuni.hideLoading();\r\n\t},\r\n\tshowToast(msg, icon) {\r\n\t\tuni.showToast({\r\n\t\t\ttitle: msg,\r\n\t\t\ticon: icon || 'none'\r\n\t\t})\r\n\t},\r\n\tgetPosterUrl(objs) { // 后端获取背景图的url路径方法\r\n\t\tlet {\r\n\t\t\tbackgroundImage,\r\n\t\t\ttype,\r\n\t\t\tformData\r\n\t\t} = objs;\r\n\t\treturn new Promise((rs, rj) => {\r\n\t\t\tlet image;\r\n\t\t\tif (backgroundImage) {\r\n\t\t\t\timage = backgroundImage;\r\n\t\t\t}else{\r\n\t\t\t\tswitch (type) { //根据type获取背景图, 一般要改成request获取\r\n\t\t\t\t\tcase 1:\r\n\t\t\t\t\t\timage = '';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\timage = '/static/1.png';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (image) {\r\n\t\t\t\trs(image); // resolve图片的路径\r\n\t\t\t}else{\r\n\t\t\t\trj('背景图片路径不存在');\r\n\t\t\t}\r\n\t\t})\r\n\t},\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t//下面一般不用动他\r\n\tshareTypeListSheetArray: {\r\n\t\tarray: [0, 1, 2, 3, 4, 5]\r\n\t}, // 分享类型 0-图文链接 1-纯文字 2-纯图片 3-音乐 4-视频 5-小程序\r\n\tisArray(arg) {\r\n\t\treturn Object.prototype.toString.call(arg) === '[object Array]';\r\n\t},\r\n\tisObject(arg) {\r\n\t\treturn Object.prototype.toString.call(arg) === '[object Object]';\r\n\t},\r\n\tisPromise(obj) {\r\n\t\treturn !!obj && (typeof obj === 'object' || typeof obj === 'function') && typeof obj.then === 'function';\r\n\t},\r\n\tisNull(arg) {\r\n\t\treturn arg === null;\r\n\t},\r\n\tisUndefined(arg) {\r\n\t\treturn arg === undefined;\r\n\t},\r\n\tisUndef(arg) {\r\n\t\treturn arg === undefined;\r\n\t},\r\n\tisNotNull_string(arg) {\r\n\t\treturn arg !== null && arg !== undefined && arg !== '';\r\n\t},\r\n\tisFn(fn) {\r\n\t\treturn fn && typeof fn === 'function';\r\n\t},\r\n\tgetStorage(key, scb, fcb) {\r\n\t\tuni.getStorage({\r\n\t\t\tkey,\r\n\t\t\tsuccess: function(res) {\r\n\t\t\t\tif (res.data && res.data != \"\") {\r\n\t\t\t\t\tif (scb) scb(res.data);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (fcb) fcb();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tfail: function() {\r\n\t\t\t\tif (fcb) fcb();\r\n\t\t\t}\r\n\t\t})\r\n\t},\r\n\tsetStorage(key, data) {\r\n\t\tlog('设置缓存')\r\n\t\tlog('key：' + key)\r\n\t\tlog('data：' + JSON.stringify(data));\r\n\t\tuni.setStorage({\r\n\t\t\tkey,\r\n\t\t\tdata\r\n\t\t})\r\n\t},\r\n\tsetStorageSync(key, data) {\r\n\t\tuni.setStorageSync(key, data);\r\n\t},\r\n\tgetStorageSync(key) {\r\n\t\treturn uni.getStorageSync(key);\r\n\t},\r\n\tclearStorageSync() {\r\n\t\tuni.clearStorageSync();\r\n\t},\r\n\tremoveStorageSync(key) {\r\n\t\tuni.removeStorageSync(key);\r\n\t},\r\n\tgetImageInfo(url, cb, fcb) {\r\n\t\turl = checkMPUrl(url);\r\n\t\tuni.getImageInfo({\r\n\t\t\tsrc: url,\r\n\t\t\tsuccess(res) {\r\n\t\t\t\tif (cb && typeof(cb) == 'function') cb(res);\r\n\t\t\t},\r\n\t\t\tfail(err) {\r\n\t\t\t\tif (fcb && typeof(fcb) == 'function') fcb(err);\r\n\t\t\t}\r\n\t\t})\r\n\t},\r\n\tdownloadFile(url, cb) {\r\n\t\turl = checkMPUrl(url);\r\n\t\tuni.downloadFile({\r\n\t\t\turl,\r\n\t\t\tsuccess(res) {\r\n\t\t\t\tif (cb && typeof(cb) == 'function') cb(res);\r\n\t\t\t}\r\n\t\t})\r\n\t},\r\n\tdownloadFile_PromiseFc(url) {\r\n\t\treturn new Promise((rs, rj) => {\r\n\t\t\tif (url.substring(0, 4) !== 'http') {\r\n\t\t\t\trs(url);\r\n\t\t\t}else {\r\n\t\t\t\turl = checkMPUrl(url);\r\n\t\t\t\tlog('url:' + url);\r\n\t\t\t\tuni.downloadFile({\r\n\t\t\t\t\turl,\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tif (res && res.tempFilePath)\r\n\t\t\t\t\t\t\trs(res.tempFilePath);\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\trj('not find tempFilePath');\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(err) {\r\n\t\t\t\t\t\trj(err);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tsaveFile(url) {\r\n\t\tuni.saveFile({\r\n\t\t\ttempFilePath: url,\r\n\t\t\tsuccess(res) {\r\n\t\t\t\tlog('保存成功:' + JSON.stringify(res))\r\n\t\t\t}\r\n\t\t})\r\n\t},\r\n\tdownLoadAndSaveFile_PromiseFc(url) {\r\n\t\treturn new Promise((rs, rj) => {\r\n\t\t\tlog('准备下载并保存图片:' + url);\r\n\t\t\tif (url.substring(0, 4) === 'http') {\r\n\t\t\t\turl = checkMPUrl(url);\r\n\t\t\t\tuni.downloadFile({\r\n\t\t\t\t\turl,\r\n\t\t\t\t\tsuccess(d_res) {\r\n\t\t\t\t\t\tlog('下载背景图成功：' + JSON.stringify(d_res));\r\n\t\t\t\t\t\tif (d_res && d_res.tempFilePath) {\r\n\t\t\t\t\t\t\t\r\n\r\n\r\n\r\n\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\tuni.saveFile({\r\n\t\t\t\t\t\t\t\ttempFilePath: d_res.tempFilePath,\r\n\t\t\t\t\t\t\t\tsuccess(s_res) {\r\n\t\t\t\t\t\t\t\t\tlog('保存背景图成功:' + JSON.stringify(s_res));\r\n\t\t\t\t\t\t\t\t\tif (s_res && s_res.savedFilePath)\r\n\t\t\t\t\t\t\t\t\t\trs(s_res.savedFilePath);\r\n\t\t\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\t\t\trs(d_res.tempFilePath);\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tfail(err) {\r\n\t\t\t\t\t\t\t\t\trs(d_res.tempFilePath);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\trj('not find tempFilePath');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(err) {\r\n\t\t\t\t\t\trj(err);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}else{\r\n\t\t\t\trs(url);\r\n\t\t\t}\r\n\t\t})\r\n\t},\r\n\tcheckFile_PromiseFc(url) {\r\n\t\treturn new Promise((rs, rj) => {\r\n\t\t\tuni.getSavedFileList({\r\n\t\t\t\tsuccess(res) {\r\n\t\t\t\t\tlet d = res.fileList;\r\n\t\t\t\t\tlet index = d.findIndex(item => {\r\n\t\t\t\t\t\treturn item.filePath === url;\r\n\t\t\t\t\t})\r\n\t\t\t\t\trs(index);\r\n\t\t\t\t},\r\n\t\t\t\tfail(err) {\r\n\t\t\t\t\trj(err);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t});\r\n\t},\r\n\tremoveSavedFile(path) {\r\n\t\tuni.getSavedFileList({\r\n\t\t\tsuccess(res) {\r\n\t\t\t\tlet d = res.fileList;\r\n\t\t\t\tlet index = d.findIndex(item => {\r\n\t\t\t\t\treturn item.filePath === path;\r\n\t\t\t\t});\r\n\t\t\t\tif (index >= 0)\r\n\t\t\t\t\tuni.removeSavedFile({\r\n\t\t\t\t\t\tfilePath: path\r\n\t\t\t\t\t})\r\n\t\t\t}\r\n\t\t})\r\n\t},\r\n\tfileNameInPath(path) {\r\n\t\tlet s = path.split(\"/\");\r\n\t\treturn s[s.length - 1];\r\n\t},\r\n\tgetImageInfo_PromiseFc(imgPath) {\r\n\t\treturn new Promise((rs, rj) => {\r\n\t\t\tlog('准备获取图片信息:' + imgPath);\r\n\t\t\timgPath = checkMPUrl(imgPath);\r\n\t\t\tuni.getImageInfo({\r\n\t\t\t\tsrc: imgPath,\r\n\t\t\t\tsuccess: res => {\r\n\t\t\t\t\tlog('获取图片信息成功:' + JSON.stringify(res));\r\n\t\t\t\t\trs(res);\r\n\t\t\t\t},\r\n\t\t\t\tfail: err => {\r\n\t\t\t\t\tlog('获取图片信息失败:' + JSON.stringify(err));\r\n\t\t\t\t\trj(err)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t});\r\n\t},\r\n\tpreviewImage(urls) {\r\n\t\tif (typeof(urls) == 'string')\r\n\t\t\turls = [urls];\r\n\t\tuni.previewImage({\r\n\t\t\turls,\r\n\t\t})\r\n\t},\r\n\tactionSheet(obj, cb) {\r\n\t\tlet sheetArray = [];\r\n\t\tfor (let i = 0; i < obj.array.length; i++) {\r\n\t\t\tswitch (obj.array[i]) {\r\n\t\t\t\tcase 'sinaweibo':\r\n\t\t\t\t\tsheetArray[i] = '新浪微博';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'qq':\r\n\t\t\t\t\tsheetArray[i] = 'QQ';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'weixin':\r\n\t\t\t\t\tsheetArray[i] = '微信';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'WXSceneSession':\r\n\t\t\t\t\tsheetArray[i] = '微信好友';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'WXSenceTimeline':\r\n\t\t\t\t\tsheetArray[i] = '微信朋友圈';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'WXSceneFavorite':\r\n\t\t\t\t\tsheetArray[i] = '微信收藏';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 0:\r\n\t\t\t\t\tsheetArray[i] = '图文链接';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 1:\r\n\t\t\t\t\tsheetArray[i] = '纯文字';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 2:\r\n\t\t\t\t\tsheetArray[i] = '纯图片';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 3:\r\n\t\t\t\t\tsheetArray[i] = '音乐';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 4:\r\n\t\t\t\t\tsheetArray[i] = '视频';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 5:\r\n\t\t\t\t\tsheetArray[i] = '小程序';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.showActionSheet(sheetArray, cb);\r\n\t},\r\n\tshowActionSheet(sheetArray, cb) {\r\n\t\tuni.showActionSheet({\r\n\t\t\titemList: sheetArray,\r\n\t\t\tsuccess: (e) => {\r\n\t\t\t\tif (cb && typeof(cb) == 'function') cb(e.tapIndex);\r\n\t\t\t}\r\n\t\t})\r\n\t},\r\n\tgetProvider(type, cb, sheet) {\r\n\t\tlet _this = this;\r\n\t\tuni.getProvider({\r\n\t\t\tservice: type,\r\n\t\t\tsuccess: function(res) {\r\n\t\t\t\tif (sheet) {\r\n\t\t\t\t\tlet obj = {};\r\n\t\t\t\t\tobj.array = res.provider;\r\n\t\t\t\t\t_this.actionSheet(obj, function(index) {\r\n\t\t\t\t\t\tif (cb && typeof(cb) == \"function\") cb(res.provider[index]);\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (type == 'payment') {\r\n\t\t\t\t\t\tlet providers = res.provider;\r\n\t\t\t\t\t\tlet payTypeArray = [];\r\n\t\t\t\t\t\tfor (let i = 0; i < providers.length; i++) {\r\n\t\t\t\t\t\t\tif (providers[i] == 'wxpay') {\r\n\t\t\t\t\t\t\t\tpayTypeArray[i] = {\r\n\t\t\t\t\t\t\t\t\tname: '微信支付',\r\n\t\t\t\t\t\t\t\t\tvalue: providers[i],\r\n\t\t\t\t\t\t\t\t\timg: '/static/image/wei.png'\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t} else if (providers[i] == 'alipay') {\r\n\t\t\t\t\t\t\t\tpayTypeArray[i] = {\r\n\t\t\t\t\t\t\t\t\tname: \"支付宝支付\",\r\n\t\t\t\t\t\t\t\t\tvalue: providers[i],\r\n\t\t\t\t\t\t\t\t\timg: '/static/image/ali.png'\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (cb && typeof(cb) == \"function\") cb(payTypeArray);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (cb && typeof(cb) == \"function\") cb(res);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t})\r\n\t},\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n}\r\n\r\nfunction checkMPUrl(url) {\r\n\r\n\tif(process.env.NODE_ENV !== 'development'){\r\n\t\tif(\r\n\t\t\turl.substring(0, 4) === 'http' && \r\n\t\t\turl.substring(0, 5) !== 'https' && \r\n\t\t\turl.substring(0, 12) !== 'http://store' && \r\n\t\t\turl.substring(0, 10) !== 'http://tmp' && \r\n\t\t\turl.substring(0, 10) !== 'http://usr'\r\n\t\t) {\r\n\t\t\turl = 'https' + url.substring(4, url.length);\r\n\t\t}\r\n\t}\r\n\r\n\treturn url;\r\n}\r\n\r\nmodule.exports = _app;\r\n","import _app from './app.js';\r\nimport QRCodeAlg from './QRCodeAlg.js';\r\nimport { base64ToPath } from './image-tools.js';\r\nconst ShreUserPosterBackgroundKey = 'ShrePosterBackground_'; // 背景图片缓存名称前缀\r\nconst idKey = 'QSSHAREPOSTER_IDKEY'; //drawArray自动生成的idkey\r\nvar isMp = false;\r\n\r\nisMp = true;\r\n\r\n\r\nvar nbgScale = 1;\r\n// export default \r\nfunction getSharePoster(obj) {\r\n\treturn new Promise(async (resolve, reject) => {\r\n\t\ttry {\r\n\t\t\tconst result1 = await returnPromise(obj);\r\n\t\t\tresolve(result1);\r\n\t\t} catch (e) {\r\n\t\t\t//TODO handle the exception\r\n\t\t\ttry {\r\n\t\t\t\tif(obj.bgScale) {\r\n\t\t\t\t\tobj.bgScale = Number(obj.bgScale) - 0.1\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnbgScale = nbgScale - 0.1\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log('------------清除缓存后, 开始第二次尝试------------');\r\n\t\t\t\tconst result2 = await returnPromise(obj);\r\n\t\t\t\tresolve(result2);\r\n\t\t\t} catch (e) {\r\n\t\t\t\t//TODO handle the exception\r\n\t\t\t\treject(e);\r\n\t\t\t}\r\n\t\t}\r\n\t})\r\n\r\n}\r\n\r\nfunction returnPromise(obj) {\r\n\tlet {\r\n\t\ttype,\r\n\t\tformData,\r\n\t\tbackground,\r\n\t\tposterCanvasId,\r\n\t\tbackgroundImage,\r\n\t\treserve,\r\n\t\ttextArray,\r\n\t\tdrawArray,\r\n\t\tqrCodeArray,\r\n\t\timagesArray,\r\n\t\tsetCanvasWH,\r\n\t\tsetCanvasToTempFilePath,\r\n\t\tsetDraw,\r\n\t\tbgScale,\r\n\t\tContext,\r\n\t\t_this,\r\n\t\tdelayTimeScale,\r\n\t\tdrawDelayTime\r\n\t} = obj;\r\n\treturn new Promise(async (rs, rj) => {\r\n\t\ttry {\r\n\t\t\t_app.showLoading('正在准备海报数据');\r\n\t\t\tif (!Context) {\r\n\t\t\t\t_app.log('没有画布对象,创建画布对象');\r\n\t\t\t\tContext = uni.createCanvasContext(posterCanvasId, (_this || null));\r\n\t\t\t}\r\n\t\t\tlet bgObj;\r\n\t\t\tif (background && background.width && background.height) {\r\n\t\t\t\tbgObj = background;\r\n\t\t\t} else {\r\n\t\t\t\tbgObj = await getShreUserPosterBackground({\r\n\t\t\t\t\tbackgroundImage,\r\n\t\t\t\t\ttype,\r\n\t\t\t\t\tformData\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tbgScale = bgScale || nbgScale;\r\n\t\t\tbgObj.width = bgObj.width * bgScale;\r\n\t\t\tbgObj.height = bgObj.height * bgScale;\r\n\r\n\t\t\t_app.log('获取背景图信息对象成功:' + JSON.stringify(bgObj));\r\n\t\t\tconst params = {\r\n\t\t\t\tbgObj,\r\n\t\t\t\ttype,\r\n\t\t\t\tbgScale,\r\n\t\t\t\tgetBgObj: function() {\r\n\t\t\t\t\treturn params.bgObj;\r\n\t\t\t\t},\r\n\t\t\t\tsetBgObj: function(newBgObj){\r\n\t\t\t\t\tconst n = {...params.bgObj, ...newBgObj};\r\n\t\t\t\t\tparams.bgObj = n;\r\n\t\t\t\t\tbgObj = n;\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tif (imagesArray) {\r\n\t\t\t\tif (typeof(imagesArray) == 'function')\r\n\t\t\t\t\timagesArray = imagesArray(params);\r\n\t\t\t\t_app.showLoading('正在生成需绘制图片的临时路径');\r\n\t\t\t\t_app.log('准备设置图片');\r\n\t\t\t\timagesArray = await setImage(imagesArray);\r\n\t\t\t\t_app.hideLoading();\r\n\t\t\t}\r\n\t\t\tif (textArray) {\r\n\t\t\t\tif (typeof(textArray) == 'function')\r\n\t\t\t\t\ttextArray = textArray(params);\r\n\t\t\t\ttextArray = setText(Context, textArray);\r\n\r\n\t\t\t}\r\n\t\t\tif (qrCodeArray) {\r\n\t\t\t\tif (typeof(qrCodeArray) == 'function')\r\n\t\t\t\t\tqrCodeArray = qrCodeArray(params);\r\n\t\t\t\t_app.showLoading('正在生成需绘制图片的临时路径');\r\n\t\t\t\tfor (let i = 0; i < qrCodeArray.length; i++) {\r\n\t\t\t\t\t_app.log(i);\r\n\t\t\t\t\tif (qrCodeArray[i].image)\r\n\t\t\t\t\t\tqrCodeArray[i].image = await _app.downloadFile_PromiseFc(qrCodeArray[i].image);\r\n\t\t\t\t}\r\n\t\t\t\t_app.hideLoading();\r\n\t\t\t}\r\n\t\t\tif (drawArray) {\r\n\t\t\t\tif (typeof(drawArray) == 'function') {\r\n\t\t\t\t\tdrawArray = drawArray(params);\r\n\t\t\t\t}\r\n\t\t\t\tif (_app.isPromise(drawArray)) {\r\n\t\t\t\t\tdrawArray = await drawArray;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (_app.isArray(drawArray) && drawArray.length > 0) {\r\n\t\t\t\t\tlet hasAllInfoCallback = false;\r\n\t\t\t\t\tfor (let i = 0; i < drawArray.length; i++) {\r\n\t\t\t\t\t\tconst drawArrayItem = drawArray[i];\r\n\t\t\t\t\t\tif (_app.isFn(drawArrayItem.allInfoCallback) && !hasAllInfoCallback) hasAllInfoCallback = true;\r\n\t\t\t\t\t\tdrawArrayItem[idKey] = i;\r\n\t\t\t\t\t\tlet newData;\r\n\t\t\t\t\t\tswitch (drawArrayItem.type) {\r\n\t\t\t\t\t\t\tcase 'image':\r\n\t\t\t\t\t\t\t\tnewData = await setImage(drawArrayItem);\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 'text':\r\n\t\t\t\t\t\t\t\tnewData = setText(Context, drawArrayItem);\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 'qrcode':\r\n\t\t\t\t\t\t\t\tif (drawArrayItem.image)\r\n\t\t\t\t\t\t\t\t\tnewData = {\r\n\t\t\t\t\t\t\t\t\t\timage: await _app.downloadFile_PromiseFc(drawArrayItem.image)\r\n\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 'custom':\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 'fillrect':\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 'strokeRect':\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 'roundStrokeRect':\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 'roundFillRect':\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\t_app.log('未识别的类型');\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (newData && _app.isObject(newData)) {\r\n\t\t\t\t\t\t\tdrawArray[i] = { ...drawArrayItem,\r\n\t\t\t\t\t\t\t\t...newData\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (hasAllInfoCallback) {\r\n\t\t\t\t\t\t_app.log('----------------hasAllInfoCallback----------------');\r\n\t\t\t\t\t\tconst drawArray_copy = [...drawArray];\r\n\t\t\t\t\t\tdrawArray_copy.sort((a, b) => {\r\n\t\t\t\t\t\t\tconst a_serialNum = !_app.isUndef(a.serialNum) && !_app.isNull(a.serialNum) ? Number(a.serialNum) : Number.NEGATIVE_INFINITY;\r\n\t\t\t\t\t\t\tconst b_serialNum = !_app.isUndef(b.serialNum) && !_app.isNull(b.serialNum) ? Number(b.serialNum) : Number.NEGATIVE_INFINITY;\r\n\t\t\t\t\t\t\treturn a_serialNum - b_serialNum;\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t_app.log('开始for循环');\r\n\r\n\t\t\t\t\t\tfor (let i = 0; i < drawArray_copy.length; i++) {\r\n\t\t\t\t\t\t\tconst item = { ...drawArray_copy[i]\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tif (_app.isFn(item.allInfoCallback)) {\r\n\t\t\t\t\t\t\t\tlet newData = item.allInfoCallback({\r\n\t\t\t\t\t\t\t\t\tdrawArray\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tif (_app.isPromise(newData)) newData = await newData;\r\n\t\t\t\t\t\t\t\tconst item_idKey = item[idKey];\r\n\t\t\t\t\t\t\t\tif (!_app.isUndef(item_idKey)) {\r\n\t\t\t\t\t\t\t\t\tdrawArray[item[idKey]] = { ...item,\r\n\t\t\t\t\t\t\t\t\t\t...newData\r\n\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tconsole.log('程序错误 找不到idKey!!!\t...这不应该啊');\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t_app.log('for循环结束');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tconsole.log('params:' + JSON.stringify(params))\r\n\t\t\tif (setCanvasWH && typeof(setCanvasWH) == 'function') {\r\n\t\t\t\tawait new Promise((resolve, reject)=>{\r\n\t\t\t\t\tsetCanvasWH(params);\r\n\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t}, 50)\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\tconst poster = await drawShareImage({\r\n\t\t\t\tContext,\r\n\t\t\t\ttype,\r\n\t\t\t\tposterCanvasId,\r\n\t\t\t\treserve,\r\n\t\t\t\tdrawArray,\r\n\t\t\t\ttextArray,\r\n\t\t\t\timagesArray,\r\n\t\t\t\tbgObj,\r\n\t\t\t\tqrCodeArray,\r\n\t\t\t\tsetCanvasToTempFilePath,\r\n\t\t\t\tsetDraw,\r\n\t\t\t\tbgScale,\r\n\t\t\t\t_this,\r\n\t\t\t\tdelayTimeScale,\r\n\t\t\t\tdrawDelayTime\r\n\t\t\t});\r\n\t\t\t_app.hideLoading();\r\n\t\t\trs({\r\n\t\t\t\tbgObj,\r\n\t\t\t\tposter,\r\n\t\t\t\ttype\r\n\t\t\t});\r\n\t\t} catch (e) {\r\n\t\t\t//TODO handle the exception\r\n\t\t\trj(e);\r\n\t\t}\r\n\t});\r\n}\r\n\r\nfunction drawShareImage(obj) { //绘制海报方法\r\n\tlet {\r\n\t\tContext,\r\n\t\ttype,\r\n\t\tposterCanvasId,\r\n\t\treserve,\r\n\t\tbgObj,\r\n\t\tdrawArray,\r\n\t\ttextArray,\r\n\t\tqrCodeArray,\r\n\t\timagesArray,\r\n\t\tsetCanvasToTempFilePath,\r\n\t\tsetDraw,\r\n\t\tbgScale,\r\n\t\t_this,\r\n\t\tdelayTimeScale,\r\n\t\tdrawDelayTime\r\n\t} = obj;\r\n\tconst params = {\r\n\t\tContext,\r\n\t\tbgObj,\r\n\t\ttype,\r\n\t\tbgScale\r\n\t};\r\n\tdelayTimeScale = delayTimeScale !== undefined ? delayTimeScale : 15;\r\n\tdrawDelayTime = drawDelayTime !== undefined ? drawDelayTime : 100;\r\n\treturn new Promise((rs, rj) => {\r\n\t\ttry {\r\n\t\t\t_app.showLoading('正在绘制海报');\r\n\t\t\t_app.log('背景对象:' + JSON.stringify(bgObj));\r\n\t\t\tif (bgObj && bgObj.path) {\r\n\t\t\t\t_app.log('背景有图片路径');\r\n\t\t\t\tContext.drawImage(bgObj.path, 0, 0, bgObj.width, bgObj.height);\r\n\t\t\t} else {\r\n\t\t\t\t_app.log('背景没有图片路径');\r\n\t\t\t\tif (bgObj.backgroundColor) {\r\n\t\t\t\t\t_app.log('背景有背景颜色:' + bgObj.backgroundColor);\r\n\t\t\t\t\tContext.setFillStyle(bgObj.backgroundColor);\r\n\t\t\t\t\tContext.fillRect(0, 0, bgObj.width, bgObj.height);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_app.log('背景没有背景颜色');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t_app.showLoading('绘制图片');\r\n\t\t\tif (imagesArray && imagesArray.length > 0)\r\n\t\t\t\tdrawImage(Context, imagesArray);\r\n\r\n\t\t\t_app.showLoading('绘制自定义内容');\r\n\t\t\tif (setDraw && typeof(setDraw) == 'function') setDraw(params);\r\n\r\n\t\t\t_app.showLoading('绘制文本');\r\n\t\t\tif (textArray && textArray.length > 0)\r\n\t\t\t\tdrawText(Context, textArray, bgObj);\r\n\r\n\t\t\t_app.showLoading('绘制二维码');\r\n\t\t\tif (qrCodeArray && qrCodeArray.length > 0) {\r\n\t\t\t\tfor (let i = 0; i < qrCodeArray.length; i++) {\r\n\t\t\t\t\tdrawQrCode(Context, qrCodeArray[i]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t_app.showLoading('绘制可控层级序列');\r\n\t\t\tif (drawArray && drawArray.length > 0) {\r\n\t\t\t\tfor (let i = 0; i < drawArray.length; i++) {\r\n\t\t\t\t\tconst drawArrayItem = drawArray[i];\r\n\t\t\t\t\t_app.log('绘制可控层级序列, drawArrayItem:' + JSON.stringify(drawArrayItem));\r\n\t\t\t\t\tswitch (drawArrayItem.type) {\r\n\t\t\t\t\t\tcase 'image':\r\n\t\t\t\t\t\t\t_app.log('绘制可控层级序列, 绘制图片');\r\n\t\t\t\t\t\t\tdrawImage(Context, drawArrayItem);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'text':\r\n\t\t\t\t\t\t\t_app.log('绘制可控层级序列, 绘制文本');\r\n\t\t\t\t\t\t\tdrawText(Context, drawArrayItem, bgObj);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'qrcode':\r\n\t\t\t\t\t\t\t_app.log('绘制可控层级序列, 绘制二维码');\r\n\t\t\t\t\t\t\tdrawQrCode(Context, drawArrayItem);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'custom':\r\n\t\t\t\t\t\t\t_app.log('绘制可控层级序列, 绘制自定义内容');\r\n\t\t\t\t\t\t\tif (drawArrayItem.setDraw && typeof drawArrayItem.setDraw === 'function')\r\n\t\t\t\t\t\t\t\tdrawArrayItem.setDraw(Context);\r\n\t\t\t\t\t\t\tbreak;drawRoundStrokeRect, drawStrokeRect\r\n\t\t\t\t\t\tcase 'fillRect':\r\n\t\t\t\t\t\t\t_app.log('绘制可控层级序列, 绘制填充直角矩形');\r\n\t\t\t\t\t\t\tdrawFillRect(Context, drawArrayItem);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'strokeRect':\r\n\t\t\t\t\t\t\t_app.log('绘制可控层级序列, 绘制线条直角矩形');\r\n\t\t\t\t\t\t\tdrawStrokeRect(Context, drawArrayItem);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'roundStrokeRect':\r\n\t\t\t\t\t\t\t_app.log('绘制可控层级序列, 绘制线条圆角矩形');\r\n\t\t\t\t\t\t\tdrawRoundStrokeRect(Context, drawArrayItem);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'roundFillRect':\r\n\t\t\t\t\t\t\t_app.log('绘制可控层级序列, 绘制填充圆角矩形');\r\n\t\t\t\t\t\t\tdrawRoundFillRect(Context, drawArrayItem);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t_app.log('未识别的类型');\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t_app.showLoading('绘制中')\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\t_app.log('准备执行draw方法')\r\n\t\t\t\t_app.log('Context:' + Context);\r\n\t\t\t\tconst fn = function(){\r\n\t\t\t\t\t_app.showLoading('正在输出图片');\r\n\t\t\t\t\tlet setObj = setCanvasToTempFilePath || {};\r\n\t\t\t\t\tif (setObj && typeof(setObj) == 'function')\r\n\t\t\t\t\t\tsetObj = setCanvasToTempFilePath(bgObj, type);\r\n\t\t\t\t\tlet canvasToTempFilePathFn;\r\n\t\t\t\t\tconst data = {\r\n\t\t\t\t\t\tx: 0,\r\n\t\t\t\t\t\ty: 0,\r\n\t\t\t\t\t\twidth: Number(bgObj.width),\r\n\t\t\t\t\t\theight: Number(bgObj.height),\r\n\t\t\t\t\t\tdestWidth: Number(bgObj.width), // 若H5使用这里请不要乘以二\r\n\t\t\t\t\t\tdestHeight: Number(bgObj.height), // 若H5使用这里请不要乘以二\r\n\t\t\t\t\t\tquality: .8,\r\n\t\t\t\t\t\tfileType: 'jpg',\r\n\t\t\t\t\t\t...setObj\r\n\t\t\t\t\t};\r\n\t\t\t\t\tconsole.log('canvasToTempFilePath的data对象:' + JSON.stringify(data));\r\n\t\t\t\t\tcanvasToTempFilePathFn = function() {\r\n\t\t\t\t\t\tconst toTempFilePathObj = { //输出为图片\r\n\t\t\t\t\t\t\t...data,\r\n\t\t\t\t\t\t\tcanvasId: posterCanvasId,\r\n\t\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\t\t_app.hideLoading();\r\n\t\t\t\t\t\t\t\trs(res);\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tfail(err) {\r\n\t\t\t\t\t\t\t\t_app.hideLoading();\r\n\t\t\t\t\t\t\t\tconsole.log('输出图片失败');\r\n\t\t\t\t\t\t\t\t_app.log('输出图片失败:' + JSON.stringify(err));\r\n\t\t\t\t\t\t\t\trj('输出图片失败:' + JSON.stringify(err))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tuni.canvasToTempFilePath(toTempFilePathObj, _this || null);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet delayTime = 0;\r\n\t\t\t\t\tif (qrCodeArray) {\r\n\t\t\t\t\t\tqrCodeArray.forEach(item => {\r\n\t\t\t\t\t\t\tif (item.text) {\r\n\t\t\t\t\t\t\t\tdelayTime += Number(item.text.length);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (imagesArray) {\r\n\t\t\t\t\t\timagesArray.forEach(() => {\r\n\t\t\t\t\t\t\tdelayTime += delayTimeScale;\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (textArray) {\r\n\t\t\t\t\t\ttextArray.forEach(() => {\r\n\t\t\t\t\t\t\tdelayTime += delayTimeScale;\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (drawArray) {\r\n\t\t\t\t\t\tdrawArray.forEach(item => {\r\n\t\t\t\t\t\t\tswitch (item.type) {\r\n\t\t\t\t\t\t\t\tcase 'text':\r\n\t\t\t\t\t\t\t\t\tif (item.text) {\r\n\t\t\t\t\t\t\t\t\t\tdelayTime += item.text.length;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\t\tdelayTime += delayTimeScale;\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\t_app.log('延时系数:' + delayTimeScale);\r\n\t\t\t\t\t_app.log('总计延时:' + delayTime);\r\n\t\t\t\t\tsetTimeout(canvasToTempFilePathFn, delayTime);\r\n\t\t\t\t}\r\n\t\t\t\tContext.draw((typeof(reserve) == 'boolean' ? reserve : false), fn);\r\n\t\t\t}, drawDelayTime);\r\n\t\t} catch (e) {\r\n\t\t\t//TODO handle the exception\r\n\t\t\t_app.hideLoading();\r\n\t\t\trj(e);\r\n\t\t}\r\n\t});\r\n}\r\n\r\n// export\r\nfunction drawFillRect(Context, drawArrayItem = {}) {\t//填充矩形\r\n\t_app.log('进入绘制填充直角矩形方法, drawArrayItem:' + JSON.stringify(drawArrayItem));\r\n\tContext.setFillStyle(drawArrayItem.backgroundColor || 'black');\r\n\tContext.setGlobalAlpha(drawArrayItem.alpha || 1);\r\n\tContext.fillRect(drawArrayItem.dx || 0, drawArrayItem.dy || 0, drawArrayItem.width || 0, drawArrayItem.height || 0);\r\n\tContext.setGlobalAlpha(1);\r\n}\r\n\r\n// export\r\nfunction drawStrokeRect(Context, drawArrayItem = {}) {\t//线条矩形\r\n\tContext.setStrokeStyle(drawArrayItem.color||'black');\r\n\tContext.setLineWidth(drawArrayItem.lineWidth || 1);\r\n\tContext.strokeRect(drawArrayItem.dx, drawArrayItem.dy, drawArrayItem.width, drawArrayItem.height);\r\n}\r\n\r\n// export\r\nfunction drawRoundStrokeRect(Context, drawArrayItem = {}) {\r\n\tlet { dx, dy, width, height, r, lineWidth, color } = drawArrayItem;\r\n\tr = r || width * .1;\r\n\r\n\tif (width < 2 * r) {\r\n\t\tr = width / 2;\r\n\t}\r\n\tif (width < 2 * r) {\r\n\t\tr = width / 2;\r\n\t}\r\n\tContext.beginPath();\r\n\tContext.moveTo(dx + r, dy);\r\n\tContext.arcTo(dx + width, dy, dx + width, dy + height, r);\r\n\tContext.arcTo(dx + width, dy + height, dx, dy + height, r);\r\n\tContext.arcTo(dx, dy + height, dx, dy, r);\r\n\tContext.arcTo(dx, dy, dx + width, dy, r);\r\n\tContext.closePath();\r\n\tContext.setLineWidth(lineWidth || 1);\r\n\tContext.setStrokeStyle(color || 'black');\r\n\tContext.stroke();\r\n}\r\n\r\n// export\r\nfunction drawRoundFillRect(Context, drawArrayItem = {}) {\r\n\tlet { dx, dy, width, height, r, backgroundColor } = drawArrayItem;\r\n\tr = r || width * .1;\r\n\r\n\tif (width < 2 * r) {\r\n\t\tr = width / 2;\r\n\t}\r\n\tif (width < 2 * r) {\r\n\t\tr = width / 2;\r\n\t}\r\n\tContext.beginPath();\r\n\tContext.moveTo(dx + r, dy);\r\n\tContext.arcTo(dx + width, dy, dx + width, dy + height, r);\r\n\tContext.arcTo(dx + width, dy + height, dx, dy + height, r);\r\n\tContext.arcTo(dx, dy + height, dx, dy, r);\r\n\tContext.arcTo(dx, dy, dx + width, dy, r);\r\n\tContext.closePath();\r\n\tContext.setFillStyle(backgroundColor);\r\n\tContext.fill();\r\n}\r\n\r\n// export \r\nfunction setText(Context, texts) { // 设置文本数据\r\n\t_app.log('进入设置文字方法, texts:' + JSON.stringify(texts));\r\n\tif (texts && _app.isArray(texts)) {\r\n\t\t_app.log('texts是数组');\r\n\t\tif (texts.length > 0) {\r\n\t\t\tfor (let i = 0; i < texts.length; i++) {\r\n\t\t\t\t_app.log('字符串信息-初始化之前:' + JSON.stringify(texts[i]));\r\n\t\t\t\ttexts[i] = setTextFn(Context, texts[i]);\r\n\t\t\t}\r\n\t\t}\r\n\t} else {\r\n\t\t_app.log('texts是对象');\r\n\t\ttexts = setTextFn(Context, texts);\r\n\t}\r\n\t_app.log('返回texts:' + JSON.stringify(texts));\r\n\treturn texts;\r\n}\r\n\r\nfunction setTextFn(Context, textItem) {\r\n\t_app.log('进入设置文字方法, textItem:' + JSON.stringify(textItem));\r\n\tif (_app.isNotNull_string(textItem.text)) {\r\n\t\ttextItem.text = String(textItem.text);\r\n\t\ttextItem.alpha = textItem.alpha !== undefined ? Number(textItem.alpha) : 1;\r\n\t\ttextItem.color = textItem.color || 'black';\r\n\t\ttextItem.size = textItem.size !== undefined ? Number(textItem.size) : 10;\r\n\t\ttextItem.textAlign = textItem.textAlign || 'left';\r\n\t\ttextItem.textBaseline = textItem.textBaseline || 'middle';\r\n\t\ttextItem.dx = Number(textItem.dx) || 0;\r\n\t\ttextItem.dy = Number(textItem.dy) || 0;\r\n\t\ttextItem.size = Math.ceil(Number(textItem.size));\r\n\t\t_app.log('字符串信息-初始化默认值后:' + JSON.stringify(textItem));\r\n\t\tconst textLength = countTextLength(Context, {\r\n\t\t\ttext: textItem.text,\r\n\t\t\tsize: textItem.size\r\n\t\t});\r\n\t\t_app.log('字符串信息-初始化时的文本长度:' + textLength);\r\n\t\tlet infoCallBackObj = {};\r\n\t\tif (textItem.infoCallBack && typeof(textItem.infoCallBack) === 'function') {\r\n\t\t\tinfoCallBackObj = textItem.infoCallBack(textLength);\r\n\t\t}\r\n\t\ttextItem = {\r\n\t\t\t...textItem,\r\n\t\t\ttextLength,\r\n\t\t\t...infoCallBackObj\r\n\t\t}\r\n\t\t_app.log('字符串信息-infoCallBack后:' + JSON.stringify(textItem));\r\n\t}\r\n\treturn textItem;\r\n}\r\n\r\nfunction countTextLength(Context, obj) {\r\n\t_app.log('计算文字长度, obj:' + JSON.stringify(obj));\r\n\tconst {\r\n\t\ttext,\r\n\t\tsize\r\n\t} = obj;\r\n\tContext.setFontSize(size);\r\n\tlet textLength;\r\n\ttry{\r\n\t\ttextLength = Context.measureText(text); // 官方文档说 App端自定义组件编译模式暂时不可用measureText方法\r\n\t}catch(e){\r\n\t\t//TODO handle the exception\r\n\t\ttextLength = {};\r\n\t}\r\n\ttextLength = {};\r\n\t_app.log('measureText计算文字长度, textLength:' + JSON.stringify(textLength));\r\n\ttextLength = textLength && textLength.width ? textLength.width : 0;\r\n\tif (!textLength) {\r\n\t\tlet l = 0;\r\n\t\tfor (let j = 0; j < text.length; j++) {\r\n\t\t\tlet t = text.substr(j, 1);\r\n\t\t\tconst countL = countStrLength(t);\r\n\t\t\t_app.log('计算文字宽度系数:' + countL);\r\n\t\t\tl += countL;\r\n\t\t}\r\n\t\t_app.log('文字宽度总系数:' + l);\r\n\t\ttextLength = l * size;\r\n\t}\r\n\treturn textLength;\r\n}\r\n\r\n//计算字符长度系数\r\nfunction countStrLength(t) {\r\n\tlet l;\r\n\tif (/a/.test(t)) {\r\n\t\tl = 0.552734375\r\n\t} else if (/b/.test(t)) {\r\n\t\tl = 0.638671875\r\n\t} else if (/c/.test(t)) {\r\n\t\tl = 0.50146484375\r\n\t} else if (/d/.test(t)) {\r\n\t\tl = 0.6396484375\r\n\t} else if (/e/.test(t)) {\r\n\t\tl = 0.5673828125\r\n\t} else if (/f/.test(t)) {\r\n\t\tl = 0.3466796875\r\n\t} else if (/g/.test(t)) {\r\n\t\tl = 0.6396484375\r\n\t} else if (/h/.test(t)) {\r\n\t\tl = 0.61572265625\r\n\t} else if (/i/.test(t)) {\r\n\t\tl = 0.26611328125\r\n\t} else if (/j/.test(t)) {\r\n\t\tl = 0.26708984375\r\n\t} else if (/k/.test(t)) {\r\n\t\tl = 0.54443359375\r\n\t} else if (/l/.test(t)) {\r\n\t\tl = 0.26611328125\r\n\t} else if (/m/.test(t)) {\r\n\t\tl = 0.93701171875\r\n\t} else if (/n/.test(t)) {\r\n\t\tl = 0.6162109375\r\n\t} else if (/o/.test(t)) {\r\n\t\tl = 0.6357421875\r\n\t} else if (/p/.test(t)) {\r\n\t\tl = 0.638671875\r\n\t} else if (/q/.test(t)) {\r\n\t\tl = 0.6396484375\r\n\t} else if (/r/.test(t)) {\r\n\t\tl = 0.3818359375\r\n\t} else if (/s/.test(t)) {\r\n\t\tl = 0.462890625\r\n\t} else if (/t/.test(t)) {\r\n\t\tl = 0.37255859375\r\n\t} else if (/u/.test(t)) {\r\n\t\tl = 0.6162109375\r\n\t} else if (/v/.test(t)) {\r\n\t\tl = 0.52490234375\r\n\t} else if (/w/.test(t)) {\r\n\t\tl = 0.78955078125\r\n\t} else if (/x/.test(t)) {\r\n\t\tl = 0.5068359375\r\n\t} else if (/y/.test(t)) {\r\n\t\tl = 0.529296875\r\n\t} else if (/z/.test(t)) {\r\n\t\tl = 0.49169921875\r\n\t} else if (/A/.test(t)) {\r\n\t\tl = 0.70361328125\r\n\t} else if (/B/.test(t)) {\r\n\t\tl = 0.62744140625\r\n\t} else if (/C/.test(t)) {\r\n\t\tl = 0.6689453125\r\n\t} else if (/D/.test(t)) {\r\n\t\tl = 0.76171875\r\n\t} else if (/E/.test(t)) {\r\n\t\tl = 0.5498046875\r\n\t} else if (/F/.test(t)) {\r\n\t\tl = 0.53125\r\n\t} else if (/G/.test(t)) {\r\n\t\tl = 0.74365234375\r\n\t} else if (/H/.test(t)) {\r\n\t\tl = 0.7734375\r\n\t} else if (/I/.test(t)) {\r\n\t\tl = 0.2939453125\r\n\t} else if (/J/.test(t)) {\r\n\t\tl = 0.39599609375\r\n\t} else if (/K/.test(t)) {\r\n\t\tl = 0.634765625\r\n\t} else if (/L/.test(t)) {\r\n\t\tl = 0.51318359375\r\n\t} else if (/M/.test(t)) {\r\n\t\tl = 0.97705078125\r\n\t} else if (/N/.test(t)) {\r\n\t\tl = 0.81298828125\r\n\t} else if (/O/.test(t)) {\r\n\t\tl = 0.81494140625\r\n\t} else if (/P/.test(t)) {\r\n\t\tl = 0.61181640625\r\n\t} else if (/Q/.test(t)) {\r\n\t\tl = 0.81494140625\r\n\t} else if (/R/.test(t)) {\r\n\t\tl = 0.65283203125\r\n\t} else if (/S/.test(t)) {\r\n\t\tl = 0.5771484375\r\n\t} else if (/T/.test(t)) {\r\n\t\tl = 0.5732421875\r\n\t} else if (/U/.test(t)) {\r\n\t\tl = 0.74658203125\r\n\t} else if (/V/.test(t)) {\r\n\t\tl = 0.67626953125\r\n\t} else if (/W/.test(t)) {\r\n\t\tl = 1.017578125\r\n\t} else if (/X/.test(t)) {\r\n\t\tl = 0.64501953125\r\n\t} else if (/Y/.test(t)) {\r\n\t\tl = 0.603515625\r\n\t} else if (/Z/.test(t)) {\r\n\t\tl = 0.6201171875\r\n\t} else if (/[0-9]/.test(t)) {\r\n\t\tl = 0.58642578125\r\n\t} else if (/[\\u4e00-\\u9fa5]/.test(t)) {\r\n\t\tl = 1\r\n\t} else if (/ /.test(t)) {\r\n\t\tl = 0.2958984375\r\n\t} else if (/\\`/.test(t)) {\r\n\t\tl = 0.294921875\r\n\t} else if (/\\~/.test(t)) {\r\n\t\tl = 0.74169921875\r\n\t} else if (/\\!/.test(t)) {\r\n\t\tl = 0.3125\r\n\t} else if (/\\@/.test(t)) {\r\n\t\tl = 1.03125\r\n\t} else if (/\\#/.test(t)) {\r\n\t\tl = 0.63818359375\r\n\t} else if (/\\$/.test(t)) {\r\n\t\tl = 0.58642578125\r\n\t} else if (/\\%/.test(t)) {\r\n\t\tl = 0.8896484375\r\n\t} else if (/\\^/.test(t)) {\r\n\t\tl = 0.74169921875\r\n\t} else if (/\\&/.test(t)) {\r\n\t\tl = 0.8701171875\r\n\t} else if (/\\*/.test(t)) {\r\n\t\tl = 0.455078125\r\n\t} else if (/\\(/.test(t)) {\r\n\t\tl = 0.333984375\r\n\t} else if (/\\)/.test(t)) {\r\n\t\tl = 0.333984375\r\n\t} else if (/\\_/.test(t)) {\r\n\t\tl = 0.4482421875\r\n\t} else if (/\\-/.test(t)) {\r\n\t\tl = 0.4326171875\r\n\t} else if (/\\+/.test(t)) {\r\n\t\tl = 0.74169921875\r\n\t} else if (/\\=/.test(t)) {\r\n\t\tl = 0.74169921875\r\n\t} else if (/\\|/.test(t)) {\r\n\t\tl = 0.26904296875\r\n\t} else if (/\\\\/.test(t)) {\r\n\t\tl = 0.416015625\r\n\t} else if (/\\[/.test(t)) {\r\n\t\tl = 0.333984375\r\n\t} else if (/\\]/.test(t)) {\r\n\t\tl = 0.333984375\r\n\t} else if (/\\;/.test(t)) {\r\n\t\tl = 0.24072265625\r\n\t} else if (/\\'/.test(t)) {\r\n\t\tl = 0.25634765625\r\n\t} else if (/\\,/.test(t)) {\r\n\t\tl = 0.24072265625\r\n\t} else if (/\\./.test(t)) {\r\n\t\tl = 0.24072265625\r\n\t} else if (/\\//.test(t)) {\r\n\t\tl = 0.42724609375\r\n\t} else if (/\\{/.test(t)) {\r\n\t\tl = 0.333984375\r\n\t} else if (/\\}/.test(t)) {\r\n\t\tl = 0.333984375\r\n\t} else if (/\\:/.test(t)) {\r\n\t\tl = 0.24072265625\r\n\t} else if (/\\\"/.test(t)) {\r\n\t\tl = 0.435546875\r\n\t} else if (/\\</.test(t)) {\r\n\t\tl = 0.74169921875\r\n\t} else if (/\\>/.test(t)) {\r\n\t\tl = 0.74169921875\r\n\t} else if (/\\?/.test(t)) {\r\n\t\tl = 0.48291015625\r\n\t} else {\r\n\t\tl = 1\r\n\t}\r\n\treturn l;\r\n}\r\n\r\n// export \r\nfunction setImage(images) { // 设置图片数据\r\n\t_app.log('进入设置图片数据方法');\r\n\treturn new Promise(async (resolve, rejcet) => {\r\n\t\ttry {\r\n\t\t\tif (images && _app.isArray(images)) {\r\n\t\t\t\t_app.log('images是一个数组');\r\n\t\t\t\tfor (let i = 0; i < images.length; i++) {\r\n\t\t\t\t\t_app.log('设置图片数据循环中:' + i);\r\n\t\t\t\t\timages[i] = await setImageFn(images[i]);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t_app.log('images是一个对象');\r\n\t\t\t\timages = await setImageFn(images);\r\n\t\t\t}\r\n\t\t\tresolve(images);\r\n\t\t} catch (e) {\r\n\t\t\t//TODO handle the exception\r\n\t\t\trejcet(e);\r\n\t\t}\r\n\t})\r\n}\r\n\r\nfunction base64ToPathFn(path) {\r\n\tvar reg = /^\\s*data:([a-z]+\\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\\-._~:@\\/?%\\s]*?)\\s*$/i;\r\n\tif(!reg.test(path)){\r\n\t  return Promise.resolve(path);\r\n\t}\r\n\treturn base64ToPath(path);\r\n}\r\n\r\nfunction setImageFn(image) {\r\n\treturn new Promise(async (resolve, reject) => {\r\n\t\tif (image.url) {\r\n\t\t\timage.url = (await base64ToPathFn(image.url));\r\n\t\t\tlet imgUrl = image.url;\r\n\t\t\timgUrl = await _app.downloadFile_PromiseFc(imgUrl);\r\n\t\t\timage.url = imgUrl;\r\n\t\t\tconst hasinfoCallBack = image.infoCallBack && typeof(image.infoCallBack) === 'function';\r\n\t\t\tlet imageInfo = {};\r\n\t\t\timageInfo = await _app.getImageInfo_PromiseFc(imgUrl);\r\n\t\t\tif (hasinfoCallBack) {\r\n\t\t\t\timage = {\r\n\t\t\t\t\t...image,\r\n\t\t\t\t\t...image.infoCallBack(imageInfo)\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\timage.dx = Number(image.dx) || 0;\r\n\t\t\timage.dy = Number(image.dy) || 0;\r\n\t\t\timage.dWidth = Number(image.dWidth || imageInfo.width);\r\n\t\t\timage.dHeight = Number(image.dHeight || imageInfo.height);\r\n\t\t\timage = {\r\n\t\t\t\t...image,\r\n\t\t\t\timageInfo\r\n\t\t\t}\r\n\t\t}\r\n\t\tresolve(image);\r\n\t})\r\n}\r\n\r\n// export \r\nfunction drawText(Context, textArray, bgObj) { // 先遍历换行再绘制\r\n\tif (!_app.isArray(textArray)) {\r\n\t\t_app.log('遍历文本方法, 不是数组');\r\n\t\ttextArray = [textArray];\r\n\t} else {\r\n\t\t_app.log('遍历文本方法, 是数组');\r\n\t}\r\n\t_app.log('遍历文本方法, textArray:' + JSON.stringify(textArray));\r\n\tconst newArr = [];\r\n\tif (textArray && textArray.length > 0) {\r\n\t\tfor (let j = 0; j < textArray.length; j++) {\r\n\t\t\tconst textItem = textArray[j];\r\n\t\t\tif (textItem.text && textItem.lineFeed) {\r\n\t\t\t\tlet lineNum = -1,\r\n\t\t\t\t\tmaxWidth = bgObj.width,\r\n\t\t\t\t\tlineHeight = textItem.size,\r\n\t\t\t\t\tdx = textItem.dx;\r\n\t\t\t\tif (_app.isObject(textItem.lineFeed)) {\r\n\t\t\t\t\tconst lineFeed = textItem.lineFeed;\r\n\t\t\t\t\tlineNum = (lineFeed.lineNum !== undefined && typeof(lineFeed.lineNum) === 'number') && lineFeed.lineNum >= 0 ?\r\n\t\t\t\t\t\tlineFeed.lineNum : lineNum;\r\n\t\t\t\t\tmaxWidth = (lineFeed.maxWidth !== undefined && typeof(lineFeed.maxWidth) === 'number') ? lineFeed.maxWidth :\r\n\t\t\t\t\t\tmaxWidth;\r\n\t\t\t\t\tlineHeight = (lineFeed.lineHeight !== undefined && typeof(lineFeed.lineHeight) === 'number') ? lineFeed.lineHeight :\r\n\t\t\t\t\t\tlineHeight;\r\n\t\t\t\t\tdx = (lineFeed.dx !== undefined && typeof(lineFeed.dx) === 'number') ? lineFeed.dx : dx;\r\n\t\t\t\t}\r\n\t\t\t\tconst chr = (textItem.text).split(\"\");\r\n\t\t\t\tlet temp = \"\";\r\n\t\t\t\tconst row = [];\r\n\t\t\t\t//循环出几行文字组成数组\r\n\t\t\t\tfor (let a = 0, len = chr.length; a < len; a++) {\r\n\t\t\t\t\tif (countTextLength(Context, {\r\n\t\t\t\t\t\t\ttext: temp,\r\n\t\t\t\t\t\t\tsize: textItem.size\r\n\t\t\t\t\t\t}) <= maxWidth && countTextLength(Context, {\r\n\t\t\t\t\t\t\ttext: (temp + chr[a]),\r\n\t\t\t\t\t\t\tsize: textItem.size\r\n\t\t\t\t\t\t}) <= maxWidth) {\r\n\t\t\t\t\t\ttemp += chr[a];\r\n\t\t\t\t\t\tif (a == (chr.length - 1)) {\r\n\t\t\t\t\t\t\trow.push(temp);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\trow.push(temp);\r\n\t\t\t\t\t\ttemp = chr[a];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t_app.log('循环出的文本数组:' + JSON.stringify(row));\r\n\t\t\t\t//只显示几行 变量间距lineHeight  变量行数lineNum\r\n\t\t\t\tlet allNum = (lineNum >= 0 && lineNum < row.length) ? lineNum : row.length;\r\n\r\n\t\t\t\tfor (let i = 0; i < allNum; i++) {\r\n\t\t\t\t\tlet str = row[i];\r\n\t\t\t\t\tif (i == (allNum - 1) && allNum < row.length) {\r\n\t\t\t\t\t\tstr = str.substring(0, str.length - 1) + '...';\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst obj = { ...textItem,\r\n\t\t\t\t\t\ttext: str,\r\n\t\t\t\t\t\tdx: i === 0 ? textItem.dx : (dx >= 0 ? dx : textItem.dx),\r\n\t\t\t\t\t\tdy: textItem.dy + (i * lineHeight),\r\n\t\t\t\t\t\ttextLength: countTextLength(Context, {\r\n\t\t\t\t\t\t\ttext: str,\r\n\t\t\t\t\t\t\tsize: textItem.size\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t};\r\n\t\t\t\t\t_app.log('重新组成的文本对象:' + JSON.stringify(obj));\r\n\t\t\t\t\tnewArr.push(obj);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tnewArr.push(textItem);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t_app.log('绘制文本新数组:' + JSON.stringify(newArr));\r\n\tdrawTexts(Context, newArr);\r\n}\r\n\r\nfunction setFont(textItem = {}) {\r\n\tif (textItem.font && typeof(textItem.font) === 'string') {\r\n\t\t_app.log(textItem.font)\r\n\t\treturn textItem.font;\r\n\t} else {\r\n\t\tlet fontStyle = 'normal';\r\n\t\tlet fontVariant = 'normal';\r\n\t\tlet fontWeight = 'normal';\r\n\t\tlet fontSize = textItem.size || 10;\r\n\t\tlet fontFamily = 'sans-serif';\r\n\t\tfontSize = Math.ceil(Number(fontSize));\r\n\t\tif (textItem.fontStyle && typeof(textItem.fontStyle) === 'string')\r\n\t\t\tfontStyle = textItem.fontStyle.trim();\r\n\t\tif (textItem.fontVariant && typeof(textItem.fontVariant) === 'string')\r\n\t\t\tfontVariant = textItem.fontVariant.trim();\r\n\t\tif (textItem.fontWeight && (typeof(textItem.fontWeight) === 'string' || typeof(textItem.fontWeight) === 'number'))\r\n\t\t\tfontWeight = textItem.fontWeight.trim();\r\n\t\tif (textItem.fontFamily && typeof(textItem.fontFamily) === 'string')\r\n\t\t\tfontFamily = textItem.fontFamily.trim();\r\n\t\treturn fontStyle + ' ' +\r\n\t\t\tfontVariant + ' ' +\r\n\t\t\tfontWeight + ' ' +\r\n\t\t\tfontSize + 'px' + ' ' +\r\n\t\t\tfontFamily;\r\n\t}\r\n}\r\n\r\nfunction drawTexts(Context, texts) { // 绘制文本\r\n\t_app.log('准备绘制文本方法, texts:' + JSON.stringify(texts));\r\n\tif (texts && _app.isArray(texts)) {\r\n\t\t_app.log('准备绘制文本方法, 是数组');\r\n\t\tif (texts.length > 0) {\r\n\t\t\tfor (let i = 0; i < texts.length; i++) {\r\n\t\t\t\tdrawTextFn(Context, texts[i]);\r\n\t\t\t}\r\n\t\t}\r\n\t} else {\r\n\t\t_app.log('准备绘制文本方法, 不是数组');\r\n\t\tdrawTextFn(Context, texts);\r\n\t}\r\n}\r\n\r\nfunction drawTextFn(Context, textItem) {\r\n\t_app.log('进入绘制文本方法, textItem:' + JSON.stringify(textItem));\r\n\tif (textItem && _app.isObject(textItem) && textItem.text) {\r\n\t\tContext.font = setFont(textItem);\r\n\t\tContext.setFillStyle(textItem.color);\r\n\t\tContext.setGlobalAlpha(textItem.alpha);\r\n\t\tContext.setTextAlign(textItem.textAlign);\r\n\t\tContext.setTextBaseline(textItem.textBaseline);\r\n\t\tContext.fillText(textItem.text, textItem.dx, textItem.dy);\r\n\t\tif (textItem.lineThrough && _app.isObject(textItem.lineThrough)) {\r\n\t\t\t_app.log('有删除线');\r\n\t\t\tlet lineThrough = textItem.lineThrough;\r\n\t\t\tlineThrough.alpha = lineThrough.alpha !== undefined ? lineThrough.alpha : textItem.alpha;\r\n\t\t\tlineThrough.style = lineThrough.style || textItem.color;\r\n\t\t\tlineThrough.width = lineThrough.width !== undefined ? lineThrough.width : textItem.size / 10;\r\n\t\t\tlineThrough.cap = lineThrough.cap !== undefined ? lineThrough.cap : 'butt';\r\n\t\t\t_app.log('删除线对象:' + JSON.stringify(lineThrough));\r\n\t\t\tContext.setGlobalAlpha(lineThrough.alpha);\r\n\t\t\tContext.setStrokeStyle(lineThrough.style);\r\n\t\t\tContext.setLineWidth(lineThrough.width);\r\n\t\t\tContext.setLineCap(lineThrough.cap);\r\n\t\t\tlet mx, my;\r\n\t\t\tswitch (textItem.textAlign) {\r\n\t\t\t\tcase 'left':\r\n\t\t\t\t\tmx = textItem.dx;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'center':\r\n\t\t\t\t\tmx = textItem.dx - (textItem.textLength) / 2;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tmx = textItem.dx - (textItem.textLength);\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tswitch (textItem.textBaseline) {\r\n\t\t\t\tcase 'top':\r\n\t\t\t\t\tmy = textItem.dy + (textItem.size * .5);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'middle':\r\n\t\t\t\t\tmy = textItem.dy;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tmy = textItem.dy - (textItem.size * .5);\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tContext.beginPath();\r\n\t\t\tContext.moveTo(mx, my);\r\n\t\t\tContext.lineTo(mx + textItem.textLength, my);\r\n\t\t\tContext.stroke();\r\n\t\t\tContext.closePath();\r\n\t\t\t_app.log('删除线完毕');\r\n\t\t}\r\n\t\tContext.setGlobalAlpha(1);\r\n\t\tContext.font = '10px sans-serif';\r\n\t}\r\n}\r\n// export \r\nfunction drawImage(Context, images) { // 绘制图片\r\n\t_app.log('判断图片数据类型:' + JSON.stringify(images))\r\n\tif (images && _app.isArray(images)) {\r\n\t\tif (images.length > 0) {\r\n\t\t\tfor (let i = 0; i < images.length; i++) {\r\n\t\t\t\treadyDrawImageFn(Context, images[i]);\r\n\t\t\t}\r\n\t\t}\r\n\t} else {\r\n\t\treadyDrawImageFn(Context, images);\r\n\t}\r\n\r\n}\r\n\r\nfunction readyDrawImageFn(Context, img) {\r\n\t_app.log('判断绘制图片形状, img:' + JSON.stringify(img));\r\n\tif (img.url) {\r\n\t\tif (img.circleSet) {\r\n\t\t\tdrawCircleImage(Context, img);\r\n\t\t} else if (img.roundRectSet) {\r\n\t\t\tdrawRoundRectImage(Context, img);\r\n\t\t} else {\r\n\t\t\tdrawImageFn(Context, img);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction drawImageFn(Context, img) {\r\n\t_app.log('进入绘制默认图片方法, img:' + JSON.stringify(img));\r\n\tif (img.url) {\r\n\t\tconst hasAlpha = !_app.isUndef(img.alpha);\r\n\t\timg.alpha = Number(!_app.isUndef(img.alpha) ? img.alpha : 1);\r\n\t\tContext.setGlobalAlpha(img.alpha);\r\n\t\t_app.log('绘制默认图片方法, 有url');\r\n\t\tif (img.dWidth && img.dHeight && img.sx && img.sy && img.sWidth && img.sHeight) {\r\n\t\t\t_app.log('绘制默认图片方法, 绘制第一种方案');\r\n\t\t\tContext.drawImage(img.url, \r\n\t\t\tNumber(img.sx) || false, Number(img.sy) || false, \r\n\t\t\tNumber(img.sWidth) || false, Number(img.sHeight) || false,\r\n\t\t\tNumber(img.dx || 0), Number(img.dy || 0),\r\n\t\t\tNumber(img.dWidth) || false, Number(img.dHeight) || false,);\r\n\t\t} else if (img.dWidth && img.dHeight) {\r\n\t\t\t_app.log('绘制默认图片方法, 绘制第二种方案');\r\n\t\t\tContext.drawImage(img.url, Number(img.dx || 0), Number(img.dy || 0),\r\n\t\t\t\tNumber(img.dWidth) || false, Number(img.dHeight) || false);\r\n\t\t} else {\r\n\t\t\t_app.log('绘制默认图片方法, 绘制第三种方案');\r\n\t\t\tContext.drawImage(img.url, Number(img.dx || 0), Number(img.dy || 0));\r\n\t\t}\r\n\t\tif (hasAlpha) {\r\n\t\t\tContext.setGlobalAlpha(1);\r\n\t\t}\r\n\t}\r\n\t_app.log('绘制默认图片方法, 绘制完毕');\r\n}\r\n\r\nfunction drawCircleImage(Context, obj) {\r\n\t_app.log('进入绘制圆形图片方法, obj:' + JSON.stringify(obj));\r\n\tlet {\r\n\t\tdx,\r\n\t\tdy,\r\n\t\tdWidth,\r\n\t\tdHeight,\r\n\t\tcircleSet,\r\n\t\timageInfo\r\n\t} = obj;\r\n\tlet x, y, r;\r\n\tif (typeof circleSet === 'object') {\r\n\t\tx = circleSet.x;\r\n\t\ty = circleSet.y;\r\n\t\tr = circleSet.r;\r\n\t}\r\n\tif (!r) {\r\n\t\tlet d;\r\n\t\td = dWidth > dHeight ? dHeight : dWidth;\r\n\t\tr = d / 2;\r\n\t}\r\n\r\n\tx = x ? dx + x : (dx || 0) + r;\r\n\ty = y ? dy + y : (dy || 0) + r;\r\n\tContext.save();\r\n\tContext.beginPath();\r\n\tContext.arc(x, y, r, 0, 2 * Math.PI, false);\r\n\tContext.closePath();\r\n\tContext.setGlobalAlpha(0);\r\n\tContext.fillStyle = '#FFFFFF';\r\n\tContext.fill();\r\n\tContext.setGlobalAlpha(1);\r\n\tContext.clip();\r\n\tdrawImageFn(Context, obj);\r\n\t_app.log('默认图片绘制完毕');\r\n\tContext.restore();\r\n}\r\n\r\nfunction drawRoundRectImage(Context, obj) { // 绘制矩形\r\n\t_app.log('进入绘制矩形图片方法, obj:' + JSON.stringify(obj));\r\n\tContext.save();\r\n\tlet {\r\n\t\tdx,\r\n\t\tdy,\r\n\t\tdWidth,\r\n\t\tdHeight,\r\n\t\troundRectSet,\r\n\t\timageInfo\r\n\t} = obj;\r\n\tlet r;\r\n\tif (typeof roundRectSet === 'object') {\r\n\t\tr = roundRectSet.r;\r\n\t}\r\n\tr = r || dWidth * .1;\r\n\r\n\tif (dWidth < 2 * r) {\r\n\t\tr = dWidth / 2;\r\n\t}\r\n\tif (dHeight < 2 * r) {\r\n\t\tr = dHeight / 2;\r\n\t}\r\n\tContext.beginPath();\r\n\tContext.moveTo(dx + r, dy);\r\n\tContext.arcTo(dx + dWidth, dy, dx + dWidth, dy + dHeight, r);\r\n\tContext.arcTo(dx + dWidth, dy + dHeight, dx, dy + dHeight, r);\r\n\tContext.arcTo(dx, dy + dHeight, dx, dy, r);\r\n\tContext.arcTo(dx, dy, dx + dWidth, dy, r);\r\n\tContext.closePath();\r\n\tContext.setGlobalAlpha(0);\r\n\tContext.fillStyle = '#FFFFFF';\r\n\tContext.fill();\r\n\tContext.setGlobalAlpha(1);\r\n\tContext.clip();\r\n\tdrawImageFn(Context, obj);\r\n\tContext.restore();\r\n\t_app.log('进入绘制矩形图片方法, 绘制完毕');\r\n}\r\n\r\n// export \r\nfunction drawQrCode(Context, qrCodeObj) { //生成二维码方法， 参考了 诗小柒 的二维码生成器代码\r\n\t_app.log('进入绘制二维码方法')\r\n\t_app.showLoading('正在生成二维码');\r\n\tlet qrcodeAlgObjCache = [];\r\n\tlet options = {\r\n\t\ttext: String(qrCodeObj.text || '') || '', // 生成内容\r\n\t\tsize: Number(qrCodeObj.size || 0) || 200, // 二维码大小\r\n\t\tbackground: String(qrCodeObj.background || '') || '#ffffff', // 背景色\r\n\t\tforeground: String(qrCodeObj.foreground || '') || '#000000', // 前景色\r\n\t\tpdground: String(qrCodeObj.pdground || '') || '#000000', // 定位角点颜色\r\n\t\tcorrectLevel: Number(qrCodeObj.correctLevel || 0) || 3, // 容错级别\r\n\t\timage: String(qrCodeObj.image || '') || '', // 二维码图标\r\n\t\timageSize: Number(qrCodeObj.imageSize || 0) || 40, // 二维码图标大小\r\n\t\tdx: Number(qrCodeObj.dx || 0) || 0, // x轴距离\r\n\t\tdy: Number(qrCodeObj.dy || 0) || 0 // y轴距离\r\n\t}\r\n\tlet qrCodeAlg = null;\r\n\tlet d = 0;\r\n\tfor (var i = 0, l = qrcodeAlgObjCache.length; i < l; i++) {\r\n\t\td = i;\r\n\t\tif (qrcodeAlgObjCache[i].text == options.text && qrcodeAlgObjCache[i].text.correctLevel == options.correctLevel) {\r\n\t\t\tqrCodeAlg = qrcodeAlgObjCache[i].obj;\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\tif (d == l) {\r\n\t\tqrCodeAlg = new QRCodeAlg(options.text, options.correctLevel);\r\n\t\tqrcodeAlgObjCache.push({\r\n\t\t\ttext: options.text,\r\n\t\t\tcorrectLevel: options.correctLevel,\r\n\t\t\tobj: qrCodeAlg\r\n\t\t});\r\n\t}\r\n\tlet getForeGround = function(config) {\r\n\t\tlet options = config.options;\r\n\t\tif (options.pdground && (\r\n\t\t\t\t(config.row > 1 && config.row < 5 && config.col > 1 && config.col < 5) ||\r\n\t\t\t\t(config.row > (config.count - 6) && config.row < (config.count - 2) && config.col > 1 && config.col < 5) ||\r\n\t\t\t\t(config.row > 1 && config.row < 5 && config.col > (config.count - 6) && config.col < (config.count - 2))\r\n\t\t\t)) {\r\n\t\t\treturn options.pdground;\r\n\t\t}\r\n\t\treturn options.foreground;\r\n\t}\r\n\tlet count = qrCodeAlg.getModuleCount();\r\n\tlet ratioSize = options.size;\r\n\tlet ratioImgSize = options.imageSize;\r\n\t//计算每个点的长宽\r\n\tlet tileW = (ratioSize / count).toPrecision(4);\r\n\tlet tileH = (ratioSize / count).toPrecision(4);\r\n\t//绘制\r\n\tfor (let row = 0; row < count; row++) {\r\n\t\tfor (let col = 0; col < count; col++) {\r\n\t\t\tlet w = (Math.ceil((col + 1) * tileW) - Math.floor(col * tileW));\r\n\t\t\tlet h = (Math.ceil((row + 1) * tileW) - Math.floor(row * tileW));\r\n\t\t\tlet foreground = getForeGround({\r\n\t\t\t\trow: row,\r\n\t\t\t\tcol: col,\r\n\t\t\t\tcount: count,\r\n\t\t\t\toptions: options\r\n\t\t\t});\r\n\t\t\tContext.setFillStyle(qrCodeAlg.modules[row][col] ? foreground : options.background);\r\n\t\t\tContext.fillRect(options.dx + Math.round(col * tileW), options.dy + Math.round(row * tileH), w, h);\r\n\t\t}\r\n\t}\r\n\tif (options.image) {\r\n\t\tlet x = options.dx + Number(((ratioSize - ratioImgSize) / 2).toFixed(2));\r\n\t\tlet y = options.dy + Number(((ratioSize - ratioImgSize) / 2).toFixed(2));\r\n\t\tdrawRoundedRect(Context, x, y, ratioImgSize, ratioImgSize, 2, 6, true, true)\r\n\t\tContext.drawImage(options.image, x, y, ratioImgSize, ratioImgSize);\r\n\t\t// 画圆角矩形\r\n\t\tfunction drawRoundedRect(ctxi, x, y, width, height, r, lineWidth, fill, stroke) {\r\n\t\t\tctxi.setLineWidth(lineWidth);\r\n\t\t\tctxi.setFillStyle(options.background);\r\n\t\t\tctxi.setStrokeStyle(options.background);\r\n\t\t\tctxi.beginPath(); // draw top and top right corner \r\n\t\t\tctxi.moveTo(x + r, y);\r\n\t\t\tctxi.arcTo(x + width, y, x + width, y + r, r); // draw right side and bottom right corner \r\n\t\t\tctxi.arcTo(x + width, y + height, x + width - r, y + height, r); // draw bottom and bottom left corner \r\n\t\t\tctxi.arcTo(x, y + height, x, y + height - r, r); // draw left and top left corner \r\n\t\t\tctxi.arcTo(x, y, x + r, y, r);\r\n\t\t\tctxi.closePath();\r\n\t\t\tif (fill) {\r\n\t\t\t\tctxi.fill();\r\n\t\t\t}\r\n\t\t\tif (stroke) {\r\n\t\t\t\tctxi.stroke();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t_app.log('进入绘制二维码方法完毕')\r\n\t_app.hideLoading();\r\n}\r\n\r\n\r\nfunction getShreUserPosterBackground(objs) { //检查背景图是否存在于本地， 若存在直接返回， 否则调用getShreUserPosterBackgroundFc方法\r\n\tlet {\r\n\t\tbackgroundImage,\r\n\t\ttype\r\n\t} = objs;\r\n\treturn new Promise(async (resolve, reject) => {\r\n\t\ttry {\r\n\t\t\t_app.showLoading('正在获取海报背景图');\r\n\t\t\tconst savedFilePath = await getShreUserPosterBackgroundFc(objs)\r\n\t\t\t_app.hideLoading();\r\n\t\t\tresolve(savedFilePath);\r\n\t\t} catch (e) {\r\n\t\t\t_app.hideLoading();\r\n\t\t\t_app.showToast('获取分享用户背景图失败:' + JSON.stringify(e));\r\n\t\t\t_app.log(JSON.stringify(e));\r\n\t\t\treject(e);\r\n\t\t}\r\n\t})\r\n}\r\n\r\nfunction getPosterStorage(type) {\r\n\treturn _app.getStorageSync(getStorageKey(type));\r\n}\r\n\r\nfunction removePosterStorage(type) {\r\n\tconst ShreUserPosterBackgroundKey = getStorageKey(type);\r\n\tconst pbg = _app.getStorageSync(ShreUserPosterBackgroundKey);\r\n\tif (pbg && pbg.path) {\r\n\t\t_app.removeStorageSync(ShreUserPosterBackgroundKey);\r\n\t}\r\n}\r\n\r\nfunction setPosterStorage(type, data) {\r\n\t_app.setStorage(getStorageKey(type), data);\r\n}\r\n\r\nfunction getStorageKey(type) {\r\n\treturn ShreUserPosterBackgroundKey + (type || 'default');\r\n}\r\n\r\nfunction getShreUserPosterBackgroundFc(objs, upimage) { //下载并保存背景图方法\r\n\tlet {\r\n\t\tbackgroundImage,\r\n\t\ttype\r\n\t} = objs;\r\n\t_app.log('获取分享背景图, 尝试清空本地数据');\r\n\treturn new Promise(async (resolve, reject) => {\r\n\t\ttry {\r\n\t\t\t_app.showLoading('正在下载海报背景图');\r\n\t\t\t_app.log('没有从后端获取的背景图片路径, 尝试从后端获取背景图片路径');\r\n\t\t\tlet image = backgroundImage?backgroundImage:(await _app.getPosterUrl(objs));\r\n\t\t\timage = (await base64ToPathFn(image));\r\n\t\t\t_app.log('尝试下载并保存背景图:' + image);\r\n\t\t\tconst savedFilePath = await _app.downLoadAndSaveFile_PromiseFc(image);\r\n\t\t\tif (savedFilePath) {\r\n\t\t\t\t_app.log('下载并保存背景图成功:' + savedFilePath);\r\n\t\t\t\tconst imageObj = await _app.getImageInfo_PromiseFc(savedFilePath);\r\n\t\t\t\t_app.log('获取图片信息成功');\r\n\t\t\t\tconst returnObj = {\r\n\t\t\t\t\tpath: savedFilePath,\r\n\t\t\t\t\twidth: imageObj.width,\r\n\t\t\t\t\theight: imageObj.height,\r\n\t\t\t\t\tname: _app.fileNameInPath(image)\r\n\t\t\t\t}\r\n\t\t\t\t_app.log('拼接背景图信息对象成功:' + JSON.stringify(returnObj));\r\n\r\n\r\n\t\t\t\tsetPosterStorage(type, { ...returnObj\r\n\t\t\t\t});\r\n\r\n\r\n\t\t\t\t_app.hideLoading();\r\n\t\t\t\t_app.log('返回背景图信息对象');\r\n\t\t\t\tresolve({ ...returnObj\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\t_app.hideLoading();\r\n\t\t\t\treject('not find savedFilePath');\r\n\t\t\t}\r\n\t\t} catch (e) {\r\n\t\t\t//TODO handle the exception\r\n\t\t\treject(e);\r\n\t\t}\r\n\t});\r\n}\r\n\r\n\r\nmodule.exports = {\r\n\tgetSharePoster,\r\n\tsetText,\r\n\tsetImage,\r\n\tdrawText,\r\n\tdrawImage,\r\n\tdrawQrCode,\r\n\tdrawFillRect,\r\n\tdrawStrokeRect,\r\n\tdrawRoundStrokeRect,\r\n\tdrawRoundFillRect\r\n}\r\n"," /**\r\n     * 获取单个字符的utf8编码\r\n     * unicode BMP平面约65535个字符\r\n     * @param {num} code\r\n     * return {array}\r\n     */\r\n    function unicodeFormat8(code) {\r\n        // 1 byte\r\n        var c0, c1, c2;\r\n        if (code < 128) {\r\n            return [code];\r\n            // 2 bytes\r\n        } else if (code < 2048) {\r\n            c0 = 192 + (code >> 6);\r\n            c1 = 128 + (code & 63);\r\n            return [c0, c1];\r\n            // 3 bytes\r\n        } else {\r\n            c0 = 224 + (code >> 12);\r\n            c1 = 128 + (code >> 6 & 63);\r\n            c2 = 128 + (code & 63);\r\n            return [c0, c1, c2];\r\n        }\r\n    }\r\n    /**\r\n     * 获取字符串的utf8编码字节串\r\n     * @param {string} string\r\n     * @return {array}\r\n     */\r\n    function getUTF8Bytes(string) {\r\n        var utf8codes = [];\r\n        for (var i = 0; i < string.length; i++) {\r\n            var code = string.charCodeAt(i);\r\n            var utf8 = unicodeFormat8(code);\r\n            for (var j = 0; j < utf8.length; j++) {\r\n                utf8codes.push(utf8[j]);\r\n            }\r\n        }\r\n        return utf8codes;\r\n    }\r\n    /**\r\n     * 二维码算法实现\r\n     * @param {string} data              要编码的信息字符串\r\n     * @param {num} errorCorrectLevel 纠错等级\r\n     */\r\n    export default function QRCodeAlg(data, errorCorrectLevel) {\r\n        this.typeNumber = -1; //版本\r\n        this.errorCorrectLevel = errorCorrectLevel;\r\n        this.modules = null; //二维矩阵，存放最终结果\r\n        this.moduleCount = 0; //矩阵大小\r\n        this.dataCache = null; //数据缓存\r\n        this.rsBlocks = null; //版本数据信息\r\n        this.totalDataCount = -1; //可使用的数据量\r\n        this.data = data;\r\n        this.utf8bytes = getUTF8Bytes(data);\r\n        this.make();\r\n    }\r\n    QRCodeAlg.prototype = {\r\n        constructor: QRCodeAlg,\r\n        /**\r\n         * 获取二维码矩阵大小\r\n         * @return {num} 矩阵大小\r\n         */\r\n        getModuleCount: function () {\r\n            return this.moduleCount;\r\n        },\r\n        /**\r\n         * 编码\r\n         */\r\n        make: function () {\r\n            this.getRightType();\r\n            this.dataCache = this.createData();\r\n            this.createQrcode();\r\n        },\r\n        /**\r\n         * 设置二位矩阵功能图形\r\n         * @param  {bool} test 表示是否在寻找最好掩膜阶段\r\n         * @param  {num} maskPattern 掩膜的版本\r\n         */\r\n        makeImpl: function (maskPattern) {\r\n            this.moduleCount = this.typeNumber * 4 + 17;\r\n            this.modules = new Array(this.moduleCount);\r\n            for (var row = 0; row < this.moduleCount; row++) {\r\n                this.modules[row] = new Array(this.moduleCount);\r\n            }\r\n            this.setupPositionProbePattern(0, 0);\r\n            this.setupPositionProbePattern(this.moduleCount - 7, 0);\r\n            this.setupPositionProbePattern(0, this.moduleCount - 7);\r\n            this.setupPositionAdjustPattern();\r\n            this.setupTimingPattern();\r\n            this.setupTypeInfo(true, maskPattern);\r\n            if (this.typeNumber >= 7) {\r\n                this.setupTypeNumber(true);\r\n            }\r\n            this.mapData(this.dataCache, maskPattern);\r\n        },\r\n        /**\r\n         * 设置二维码的位置探测图形\r\n         * @param  {num} row 探测图形的中心横坐标\r\n         * @param  {num} col 探测图形的中心纵坐标\r\n         */\r\n        setupPositionProbePattern: function (row, col) {\r\n            for (var r = -1; r <= 7; r++) {\r\n                if (row + r <= -1 || this.moduleCount <= row + r) continue;\r\n                for (var c = -1; c <= 7; c++) {\r\n                    if (col + c <= -1 || this.moduleCount <= col + c) continue;\r\n                    if ((0 <= r && r <= 6 && (c == 0 || c == 6)) || (0 <= c && c <= 6 && (r == 0 || r == 6)) || (2 <= r && r <= 4 && 2 <= c && c <= 4)) {\r\n                        this.modules[row + r][col + c] = true;\r\n                    } else {\r\n                        this.modules[row + r][col + c] = false;\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        /**\r\n         * 创建二维码\r\n         * @return {[type]} [description]\r\n         */\r\n        createQrcode: function () {\r\n            var minLostPoint = 0;\r\n            var pattern = 0;\r\n            var bestModules = null;\r\n            for (var i = 0; i < 8; i++) {\r\n                this.makeImpl(i);\r\n                var lostPoint = QRUtil.getLostPoint(this);\r\n                if (i == 0 || minLostPoint > lostPoint) {\r\n                    minLostPoint = lostPoint;\r\n                    pattern = i;\r\n                    bestModules = this.modules;\r\n                }\r\n            }\r\n            this.modules = bestModules;\r\n            this.setupTypeInfo(false, pattern);\r\n            if (this.typeNumber >= 7) {\r\n                this.setupTypeNumber(false);\r\n            }\r\n        },\r\n        /**\r\n         * 设置定位图形\r\n         * @return {[type]} [description]\r\n         */\r\n        setupTimingPattern: function () {\r\n            for (var r = 8; r < this.moduleCount - 8; r++) {\r\n                if (this.modules[r][6] != null) {\r\n                    continue;\r\n                }\r\n                this.modules[r][6] = (r % 2 == 0);\r\n                if (this.modules[6][r] != null) {\r\n                    continue;\r\n                }\r\n                this.modules[6][r] = (r % 2 == 0);\r\n            }\r\n        },\r\n        /**\r\n         * 设置矫正图形\r\n         * @return {[type]} [description]\r\n         */\r\n        setupPositionAdjustPattern: function () {\r\n            var pos = QRUtil.getPatternPosition(this.typeNumber);\r\n            for (var i = 0; i < pos.length; i++) {\r\n                for (var j = 0; j < pos.length; j++) {\r\n                    var row = pos[i];\r\n                    var col = pos[j];\r\n                    if (this.modules[row][col] != null) {\r\n                        continue;\r\n                    }\r\n                    for (var r = -2; r <= 2; r++) {\r\n                        for (var c = -2; c <= 2; c++) {\r\n                            if (r == -2 || r == 2 || c == -2 || c == 2 || (r == 0 && c == 0)) {\r\n                                this.modules[row + r][col + c] = true;\r\n                            } else {\r\n                                this.modules[row + r][col + c] = false;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        /**\r\n         * 设置版本信息（7以上版本才有）\r\n         * @param  {bool} test 是否处于判断最佳掩膜阶段\r\n         * @return {[type]}      [description]\r\n         */\r\n        setupTypeNumber: function (test) {\r\n            var bits = QRUtil.getBCHTypeNumber(this.typeNumber);\r\n            for (var i = 0; i < 18; i++) {\r\n                var mod = (!test && ((bits >> i) & 1) == 1);\r\n                this.modules[Math.floor(i / 3)][i % 3 + this.moduleCount - 8 - 3] = mod;\r\n                this.modules[i % 3 + this.moduleCount - 8 - 3][Math.floor(i / 3)] = mod;\r\n            }\r\n        },\r\n        /**\r\n         * 设置格式信息（纠错等级和掩膜版本）\r\n         * @param  {bool} test\r\n         * @param  {num} maskPattern 掩膜版本\r\n         * @return {}\r\n         */\r\n        setupTypeInfo: function (test, maskPattern) {\r\n            var data = (QRErrorCorrectLevel[this.errorCorrectLevel] << 3) | maskPattern;\r\n            var bits = QRUtil.getBCHTypeInfo(data);\r\n            // vertical\r\n            for (var i = 0; i < 15; i++) {\r\n                var mod = (!test && ((bits >> i) & 1) == 1);\r\n                if (i < 6) {\r\n                    this.modules[i][8] = mod;\r\n                } else if (i < 8) {\r\n                    this.modules[i + 1][8] = mod;\r\n                } else {\r\n                    this.modules[this.moduleCount - 15 + i][8] = mod;\r\n                }\r\n                // horizontal\r\n                var mod = (!test && ((bits >> i) & 1) == 1);\r\n                if (i < 8) {\r\n                    this.modules[8][this.moduleCount - i - 1] = mod;\r\n                } else if (i < 9) {\r\n                    this.modules[8][15 - i - 1 + 1] = mod;\r\n                } else {\r\n                    this.modules[8][15 - i - 1] = mod;\r\n                }\r\n            }\r\n            // fixed module\r\n            this.modules[this.moduleCount - 8][8] = (!test);\r\n        },\r\n        /**\r\n         * 数据编码\r\n         * @return {[type]} [description]\r\n         */\r\n        createData: function () {\r\n            var buffer = new QRBitBuffer();\r\n            var lengthBits = this.typeNumber > 9 ? 16 : 8;\r\n            buffer.put(4, 4); //添加模式\r\n            buffer.put(this.utf8bytes.length, lengthBits);\r\n            for (var i = 0, l = this.utf8bytes.length; i < l; i++) {\r\n                buffer.put(this.utf8bytes[i], 8);\r\n            }\r\n            if (buffer.length + 4 <= this.totalDataCount * 8) {\r\n                buffer.put(0, 4);\r\n            }\r\n            // padding\r\n            while (buffer.length % 8 != 0) {\r\n                buffer.putBit(false);\r\n            }\r\n            // padding\r\n            while (true) {\r\n                if (buffer.length >= this.totalDataCount * 8) {\r\n                    break;\r\n                }\r\n                buffer.put(QRCodeAlg.PAD0, 8);\r\n                if (buffer.length >= this.totalDataCount * 8) {\r\n                    break;\r\n                }\r\n                buffer.put(QRCodeAlg.PAD1, 8);\r\n            }\r\n            return this.createBytes(buffer);\r\n        },\r\n        /**\r\n         * 纠错码编码\r\n         * @param  {buffer} buffer 数据编码\r\n         * @return {[type]}\r\n         */\r\n        createBytes: function (buffer) {\r\n            var offset = 0;\r\n            var maxDcCount = 0;\r\n            var maxEcCount = 0;\r\n            var length = this.rsBlock.length / 3;\r\n            var rsBlocks = new Array();\r\n            for (var i = 0; i < length; i++) {\r\n                var count = this.rsBlock[i * 3 + 0];\r\n                var totalCount = this.rsBlock[i * 3 + 1];\r\n                var dataCount = this.rsBlock[i * 3 + 2];\r\n                for (var j = 0; j < count; j++) {\r\n                    rsBlocks.push([dataCount, totalCount]);\r\n                }\r\n            }\r\n            var dcdata = new Array(rsBlocks.length);\r\n            var ecdata = new Array(rsBlocks.length);\r\n            for (var r = 0; r < rsBlocks.length; r++) {\r\n                var dcCount = rsBlocks[r][0];\r\n                var ecCount = rsBlocks[r][1] - dcCount;\r\n                maxDcCount = Math.max(maxDcCount, dcCount);\r\n                maxEcCount = Math.max(maxEcCount, ecCount);\r\n                dcdata[r] = new Array(dcCount);\r\n                for (var i = 0; i < dcdata[r].length; i++) {\r\n                    dcdata[r][i] = 0xff & buffer.buffer[i + offset];\r\n                }\r\n                offset += dcCount;\r\n                var rsPoly = QRUtil.getErrorCorrectPolynomial(ecCount);\r\n                var rawPoly = new QRPolynomial(dcdata[r], rsPoly.getLength() - 1);\r\n                var modPoly = rawPoly.mod(rsPoly);\r\n                ecdata[r] = new Array(rsPoly.getLength() - 1);\r\n                for (var i = 0; i < ecdata[r].length; i++) {\r\n                    var modIndex = i + modPoly.getLength() - ecdata[r].length;\r\n                    ecdata[r][i] = (modIndex >= 0) ? modPoly.get(modIndex) : 0;\r\n                }\r\n            }\r\n            var data = new Array(this.totalDataCount);\r\n            var index = 0;\r\n            for (var i = 0; i < maxDcCount; i++) {\r\n                for (var r = 0; r < rsBlocks.length; r++) {\r\n                    if (i < dcdata[r].length) {\r\n                        data[index++] = dcdata[r][i];\r\n                    }\r\n                }\r\n            }\r\n            for (var i = 0; i < maxEcCount; i++) {\r\n                for (var r = 0; r < rsBlocks.length; r++) {\r\n                    if (i < ecdata[r].length) {\r\n                        data[index++] = ecdata[r][i];\r\n                    }\r\n                }\r\n            }\r\n            return data;\r\n\r\n        },\r\n        /**\r\n         * 布置模块，构建最终信息\r\n         * @param  {} data\r\n         * @param  {} maskPattern\r\n         * @return {}\r\n         */\r\n        mapData: function (data, maskPattern) {\r\n            var inc = -1;\r\n            var row = this.moduleCount - 1;\r\n            var bitIndex = 7;\r\n            var byteIndex = 0;\r\n            for (var col = this.moduleCount - 1; col > 0; col -= 2) {\r\n                if (col == 6) col--;\r\n                while (true) {\r\n                    for (var c = 0; c < 2; c++) {\r\n                        if (this.modules[row][col - c] == null) {\r\n                            var dark = false;\r\n                            if (byteIndex < data.length) {\r\n                                dark = (((data[byteIndex] >>> bitIndex) & 1) == 1);\r\n                            }\r\n                            var mask = QRUtil.getMask(maskPattern, row, col - c);\r\n                            if (mask) {\r\n                                dark = !dark;\r\n                            }\r\n                            this.modules[row][col - c] = dark;\r\n                            bitIndex--;\r\n                            if (bitIndex == -1) {\r\n                                byteIndex++;\r\n                                bitIndex = 7;\r\n                            }\r\n                        }\r\n                    }\r\n                    row += inc;\r\n                    if (row < 0 || this.moduleCount <= row) {\r\n                        row -= inc;\r\n                        inc = -inc;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * 填充字段\r\n     */\r\n    QRCodeAlg.PAD0 = 0xEC;\r\n    QRCodeAlg.PAD1 = 0x11;\r\n    //---------------------------------------------------------------------\r\n    // 纠错等级对应的编码\r\n    //---------------------------------------------------------------------\r\n    var QRErrorCorrectLevel = [1, 0, 3, 2];\r\n    //---------------------------------------------------------------------\r\n    // 掩膜版本\r\n    //---------------------------------------------------------------------\r\n    var QRMaskPattern = {\r\n        PATTERN000: 0,\r\n        PATTERN001: 1,\r\n        PATTERN010: 2,\r\n        PATTERN011: 3,\r\n        PATTERN100: 4,\r\n        PATTERN101: 5,\r\n        PATTERN110: 6,\r\n        PATTERN111: 7\r\n    };\r\n    //---------------------------------------------------------------------\r\n    // 工具类\r\n    //---------------------------------------------------------------------\r\n    var QRUtil = {\r\n        /*\r\n        每个版本矫正图形的位置\r\n         */\r\n        PATTERN_POSITION_TABLE: [\r\n            [],\r\n            [6, 18],\r\n            [6, 22],\r\n            [6, 26],\r\n            [6, 30],\r\n            [6, 34],\r\n            [6, 22, 38],\r\n            [6, 24, 42],\r\n            [6, 26, 46],\r\n            [6, 28, 50],\r\n            [6, 30, 54],\r\n            [6, 32, 58],\r\n            [6, 34, 62],\r\n            [6, 26, 46, 66],\r\n            [6, 26, 48, 70],\r\n            [6, 26, 50, 74],\r\n            [6, 30, 54, 78],\r\n            [6, 30, 56, 82],\r\n            [6, 30, 58, 86],\r\n            [6, 34, 62, 90],\r\n            [6, 28, 50, 72, 94],\r\n            [6, 26, 50, 74, 98],\r\n            [6, 30, 54, 78, 102],\r\n            [6, 28, 54, 80, 106],\r\n            [6, 32, 58, 84, 110],\r\n            [6, 30, 58, 86, 114],\r\n            [6, 34, 62, 90, 118],\r\n            [6, 26, 50, 74, 98, 122],\r\n            [6, 30, 54, 78, 102, 126],\r\n            [6, 26, 52, 78, 104, 130],\r\n            [6, 30, 56, 82, 108, 134],\r\n            [6, 34, 60, 86, 112, 138],\r\n            [6, 30, 58, 86, 114, 142],\r\n            [6, 34, 62, 90, 118, 146],\r\n            [6, 30, 54, 78, 102, 126, 150],\r\n            [6, 24, 50, 76, 102, 128, 154],\r\n            [6, 28, 54, 80, 106, 132, 158],\r\n            [6, 32, 58, 84, 110, 136, 162],\r\n            [6, 26, 54, 82, 110, 138, 166],\r\n            [6, 30, 58, 86, 114, 142, 170]\r\n        ],\r\n        G15: (1 << 10) | (1 << 8) | (1 << 5) | (1 << 4) | (1 << 2) | (1 << 1) | (1 << 0),\r\n        G18: (1 << 12) | (1 << 11) | (1 << 10) | (1 << 9) | (1 << 8) | (1 << 5) | (1 << 2) | (1 << 0),\r\n        G15_MASK: (1 << 14) | (1 << 12) | (1 << 10) | (1 << 4) | (1 << 1),\r\n        /*\r\n        BCH编码格式信息\r\n         */\r\n        getBCHTypeInfo: function (data) {\r\n            var d = data << 10;\r\n            while (QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G15) >= 0) {\r\n                d ^= (QRUtil.G15 << (QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G15)));\r\n            }\r\n            return ((data << 10) | d) ^ QRUtil.G15_MASK;\r\n        },\r\n        /*\r\n        BCH编码版本信息\r\n         */\r\n        getBCHTypeNumber: function (data) {\r\n            var d = data << 12;\r\n            while (QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G18) >= 0) {\r\n                d ^= (QRUtil.G18 << (QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G18)));\r\n            }\r\n            return (data << 12) | d;\r\n        },\r\n        /*\r\n        获取BCH位信息\r\n         */\r\n        getBCHDigit: function (data) {\r\n            var digit = 0;\r\n            while (data != 0) {\r\n                digit++;\r\n                data >>>= 1;\r\n            }\r\n            return digit;\r\n        },\r\n        /*\r\n        获取版本对应的矫正图形位置\r\n         */\r\n        getPatternPosition: function (typeNumber) {\r\n            return QRUtil.PATTERN_POSITION_TABLE[typeNumber - 1];\r\n        },\r\n        /*\r\n        掩膜算法\r\n         */\r\n        getMask: function (maskPattern, i, j) {\r\n            switch (maskPattern) {\r\n                case QRMaskPattern.PATTERN000:\r\n                    return (i + j) % 2 == 0;\r\n                case QRMaskPattern.PATTERN001:\r\n                    return i % 2 == 0;\r\n                case QRMaskPattern.PATTERN010:\r\n                    return j % 3 == 0;\r\n                case QRMaskPattern.PATTERN011:\r\n                    return (i + j) % 3 == 0;\r\n                case QRMaskPattern.PATTERN100:\r\n                    return (Math.floor(i / 2) + Math.floor(j / 3)) % 2 == 0;\r\n                case QRMaskPattern.PATTERN101:\r\n                    return (i * j) % 2 + (i * j) % 3 == 0;\r\n                case QRMaskPattern.PATTERN110:\r\n                    return ((i * j) % 2 + (i * j) % 3) % 2 == 0;\r\n                case QRMaskPattern.PATTERN111:\r\n                    return ((i * j) % 3 + (i + j) % 2) % 2 == 0;\r\n                default:\r\n                    throw new Error(\"bad maskPattern:\" + maskPattern);\r\n            }\r\n        },\r\n        /*\r\n        获取RS的纠错多项式\r\n         */\r\n        getErrorCorrectPolynomial: function (errorCorrectLength) {\r\n            var a = new QRPolynomial([1], 0);\r\n            for (var i = 0; i < errorCorrectLength; i++) {\r\n                a = a.multiply(new QRPolynomial([1, QRMath.gexp(i)], 0));\r\n            }\r\n            return a;\r\n        },\r\n        /*\r\n        获取评价\r\n         */\r\n        getLostPoint: function (qrCode) {\r\n            var moduleCount = qrCode.getModuleCount(),\r\n                lostPoint = 0,\r\n                darkCount = 0;\r\n            for (var row = 0; row < moduleCount; row++) {\r\n                var sameCount = 0;\r\n                var head = qrCode.modules[row][0];\r\n                for (var col = 0; col < moduleCount; col++) {\r\n                    var current = qrCode.modules[row][col];\r\n                    //level 3 评价\r\n                    if (col < moduleCount - 6) {\r\n                        if (current && !qrCode.modules[row][col + 1] && qrCode.modules[row][col + 2] && qrCode.modules[row][col + 3] && qrCode.modules[row][col + 4] && !qrCode.modules[row][col + 5] && qrCode.modules[row][col + 6]) {\r\n                            if (col < moduleCount - 10) {\r\n                                if (qrCode.modules[row][col + 7] && qrCode.modules[row][col + 8] && qrCode.modules[row][col + 9] && qrCode.modules[row][col + 10]) {\r\n                                    lostPoint += 40;\r\n                                }\r\n                            } else if (col > 3) {\r\n                                if (qrCode.modules[row][col - 1] && qrCode.modules[row][col - 2] && qrCode.modules[row][col - 3] && qrCode.modules[row][col - 4]) {\r\n                                    lostPoint += 40;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    //level 2 评价\r\n                    if ((row < moduleCount - 1) && (col < moduleCount - 1)) {\r\n                        var count = 0;\r\n                        if (current) count++;\r\n                        if (qrCode.modules[row + 1][col]) count++;\r\n                        if (qrCode.modules[row][col + 1]) count++;\r\n                        if (qrCode.modules[row + 1][col + 1]) count++;\r\n                        if (count == 0 || count == 4) {\r\n                            lostPoint += 3;\r\n                        }\r\n                    }\r\n                    //level 1 评价\r\n                    if (head ^ current) {\r\n                        sameCount++;\r\n                    } else {\r\n                        head = current;\r\n                        if (sameCount >= 5) {\r\n                            lostPoint += (3 + sameCount - 5);\r\n                        }\r\n                        sameCount = 1;\r\n                    }\r\n                    //level 4 评价\r\n                    if (current) {\r\n                        darkCount++;\r\n                    }\r\n                }\r\n            }\r\n            for (var col = 0; col < moduleCount; col++) {\r\n                var sameCount = 0;\r\n                var head = qrCode.modules[0][col];\r\n                for (var row = 0; row < moduleCount; row++) {\r\n                    var current = qrCode.modules[row][col];\r\n                    //level 3 评价\r\n                    if (row < moduleCount - 6) {\r\n                        if (current && !qrCode.modules[row + 1][col] && qrCode.modules[row + 2][col] && qrCode.modules[row + 3][col] && qrCode.modules[row + 4][col] && !qrCode.modules[row + 5][col] && qrCode.modules[row + 6][col]) {\r\n                            if (row < moduleCount - 10) {\r\n                                if (qrCode.modules[row + 7][col] && qrCode.modules[row + 8][col] && qrCode.modules[row + 9][col] && qrCode.modules[row + 10][col]) {\r\n                                    lostPoint += 40;\r\n                                }\r\n                            } else if (row > 3) {\r\n                                if (qrCode.modules[row - 1][col] && qrCode.modules[row - 2][col] && qrCode.modules[row - 3][col] && qrCode.modules[row - 4][col]) {\r\n                                    lostPoint += 40;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    //level 1 评价\r\n                    if (head ^ current) {\r\n                        sameCount++;\r\n                    } else {\r\n                        head = current;\r\n                        if (sameCount >= 5) {\r\n                            lostPoint += (3 + sameCount - 5);\r\n                        }\r\n                        sameCount = 1;\r\n                    }\r\n                }\r\n            }\r\n            // LEVEL4\r\n            var ratio = Math.abs(100 * darkCount / moduleCount / moduleCount - 50) / 5;\r\n            lostPoint += ratio * 10;\r\n            return lostPoint;\r\n        }\r\n\r\n    };\r\n    //---------------------------------------------------------------------\r\n    // QRMath使用的数学工具\r\n    //---------------------------------------------------------------------\r\n    var QRMath = {\r\n        /*\r\n        将n转化为a^m\r\n         */\r\n        glog: function (n) {\r\n            if (n < 1) {\r\n                throw new Error(\"glog(\" + n + \")\");\r\n            }\r\n            return QRMath.LOG_TABLE[n];\r\n        },\r\n        /*\r\n        将a^m转化为n\r\n         */\r\n        gexp: function (n) {\r\n            while (n < 0) {\r\n                n += 255;\r\n            }\r\n            while (n >= 256) {\r\n                n -= 255;\r\n            }\r\n            return QRMath.EXP_TABLE[n];\r\n        },\r\n        EXP_TABLE: new Array(256),\r\n        LOG_TABLE: new Array(256)\r\n\r\n    };\r\n    for (var i = 0; i < 8; i++) {\r\n        QRMath.EXP_TABLE[i] = 1 << i;\r\n    }\r\n    for (var i = 8; i < 256; i++) {\r\n        QRMath.EXP_TABLE[i] = QRMath.EXP_TABLE[i - 4] ^ QRMath.EXP_TABLE[i - 5] ^ QRMath.EXP_TABLE[i - 6] ^ QRMath.EXP_TABLE[i - 8];\r\n    }\r\n    for (var i = 0; i < 255; i++) {\r\n        QRMath.LOG_TABLE[QRMath.EXP_TABLE[i]] = i;\r\n    }\r\n    //---------------------------------------------------------------------\r\n    // QRPolynomial 多项式\r\n    //---------------------------------------------------------------------\r\n    /**\r\n     * 多项式类\r\n     * @param {Array} num   系数\r\n     * @param {num} shift a^shift\r\n     */\r\n    function QRPolynomial(num, shift) {\r\n        if (num.length == undefined) {\r\n            throw new Error(num.length + \"/\" + shift);\r\n        }\r\n        var offset = 0;\r\n        while (offset < num.length && num[offset] == 0) {\r\n            offset++;\r\n        }\r\n        this.num = new Array(num.length - offset + shift);\r\n        for (var i = 0; i < num.length - offset; i++) {\r\n            this.num[i] = num[i + offset];\r\n        }\r\n    }\r\n    QRPolynomial.prototype = {\r\n        get: function (index) {\r\n            return this.num[index];\r\n        },\r\n        getLength: function () {\r\n            return this.num.length;\r\n        },\r\n        /**\r\n         * 多项式乘法\r\n         * @param  {QRPolynomial} e 被乘多项式\r\n         * @return {[type]}   [description]\r\n         */\r\n        multiply: function (e) {\r\n            var num = new Array(this.getLength() + e.getLength() - 1);\r\n            for (var i = 0; i < this.getLength(); i++) {\r\n                for (var j = 0; j < e.getLength(); j++) {\r\n                    num[i + j] ^= QRMath.gexp(QRMath.glog(this.get(i)) + QRMath.glog(e.get(j)));\r\n                }\r\n            }\r\n            return new QRPolynomial(num, 0);\r\n        },\r\n        /**\r\n         * 多项式模运算\r\n         * @param  {QRPolynomial} e 模多项式\r\n         * @return {}\r\n         */\r\n        mod: function (e) {\r\n            var tl = this.getLength(),\r\n                el = e.getLength();\r\n            if (tl - el < 0) {\r\n                return this;\r\n            }\r\n            var num = new Array(tl);\r\n            for (var i = 0; i < tl; i++) {\r\n                num[i] = this.get(i);\r\n            }\r\n            while (num.length >= el) {\r\n                var ratio = QRMath.glog(num[0]) - QRMath.glog(e.get(0));\r\n\r\n                for (var i = 0; i < e.getLength(); i++) {\r\n                    num[i] ^= QRMath.gexp(QRMath.glog(e.get(i)) + ratio);\r\n                }\r\n                while (num[0] == 0) {\r\n                    num.shift();\r\n                }\r\n            }\r\n            return new QRPolynomial(num, 0);\r\n        }\r\n    };\r\n\r\n    //---------------------------------------------------------------------\r\n    // RS_BLOCK_TABLE\r\n    //---------------------------------------------------------------------\r\n    /*\r\n    二维码各个版本信息[块数, 每块中的数据块数, 每块中的信息块数]\r\n     */\r\n    var RS_BLOCK_TABLE = [\r\n        // L\r\n        // M\r\n        // Q\r\n        // H\r\n        // 1\r\n        [1, 26, 19],\r\n        [1, 26, 16],\r\n        [1, 26, 13],\r\n        [1, 26, 9],\r\n\r\n        // 2\r\n        [1, 44, 34],\r\n        [1, 44, 28],\r\n        [1, 44, 22],\r\n        [1, 44, 16],\r\n\r\n        // 3\r\n        [1, 70, 55],\r\n        [1, 70, 44],\r\n        [2, 35, 17],\r\n        [2, 35, 13],\r\n\r\n        // 4\r\n        [1, 100, 80],\r\n        [2, 50, 32],\r\n        [2, 50, 24],\r\n        [4, 25, 9],\r\n\r\n        // 5\r\n        [1, 134, 108],\r\n        [2, 67, 43],\r\n        [2, 33, 15, 2, 34, 16],\r\n        [2, 33, 11, 2, 34, 12],\r\n\r\n        // 6\r\n        [2, 86, 68],\r\n        [4, 43, 27],\r\n        [4, 43, 19],\r\n        [4, 43, 15],\r\n\r\n        // 7\r\n        [2, 98, 78],\r\n        [4, 49, 31],\r\n        [2, 32, 14, 4, 33, 15],\r\n        [4, 39, 13, 1, 40, 14],\r\n\r\n        // 8\r\n        [2, 121, 97],\r\n        [2, 60, 38, 2, 61, 39],\r\n        [4, 40, 18, 2, 41, 19],\r\n        [4, 40, 14, 2, 41, 15],\r\n\r\n        // 9\r\n        [2, 146, 116],\r\n        [3, 58, 36, 2, 59, 37],\r\n        [4, 36, 16, 4, 37, 17],\r\n        [4, 36, 12, 4, 37, 13],\r\n\r\n        // 10\r\n        [2, 86, 68, 2, 87, 69],\r\n        [4, 69, 43, 1, 70, 44],\r\n        [6, 43, 19, 2, 44, 20],\r\n        [6, 43, 15, 2, 44, 16],\r\n\r\n        // 11\r\n        [4, 101, 81],\r\n        [1, 80, 50, 4, 81, 51],\r\n        [4, 50, 22, 4, 51, 23],\r\n        [3, 36, 12, 8, 37, 13],\r\n\r\n        // 12\r\n        [2, 116, 92, 2, 117, 93],\r\n        [6, 58, 36, 2, 59, 37],\r\n        [4, 46, 20, 6, 47, 21],\r\n        [7, 42, 14, 4, 43, 15],\r\n\r\n        // 13\r\n        [4, 133, 107],\r\n        [8, 59, 37, 1, 60, 38],\r\n        [8, 44, 20, 4, 45, 21],\r\n        [12, 33, 11, 4, 34, 12],\r\n\r\n        // 14\r\n        [3, 145, 115, 1, 146, 116],\r\n        [4, 64, 40, 5, 65, 41],\r\n        [11, 36, 16, 5, 37, 17],\r\n        [11, 36, 12, 5, 37, 13],\r\n\r\n        // 15\r\n        [5, 109, 87, 1, 110, 88],\r\n        [5, 65, 41, 5, 66, 42],\r\n        [5, 54, 24, 7, 55, 25],\r\n        [11, 36, 12],\r\n\r\n        // 16\r\n        [5, 122, 98, 1, 123, 99],\r\n        [7, 73, 45, 3, 74, 46],\r\n        [15, 43, 19, 2, 44, 20],\r\n        [3, 45, 15, 13, 46, 16],\r\n\r\n        // 17\r\n        [1, 135, 107, 5, 136, 108],\r\n        [10, 74, 46, 1, 75, 47],\r\n        [1, 50, 22, 15, 51, 23],\r\n        [2, 42, 14, 17, 43, 15],\r\n\r\n        // 18\r\n        [5, 150, 120, 1, 151, 121],\r\n        [9, 69, 43, 4, 70, 44],\r\n        [17, 50, 22, 1, 51, 23],\r\n        [2, 42, 14, 19, 43, 15],\r\n\r\n        // 19\r\n        [3, 141, 113, 4, 142, 114],\r\n        [3, 70, 44, 11, 71, 45],\r\n        [17, 47, 21, 4, 48, 22],\r\n        [9, 39, 13, 16, 40, 14],\r\n\r\n        // 20\r\n        [3, 135, 107, 5, 136, 108],\r\n        [3, 67, 41, 13, 68, 42],\r\n        [15, 54, 24, 5, 55, 25],\r\n        [15, 43, 15, 10, 44, 16],\r\n\r\n        // 21\r\n        [4, 144, 116, 4, 145, 117],\r\n        [17, 68, 42],\r\n        [17, 50, 22, 6, 51, 23],\r\n        [19, 46, 16, 6, 47, 17],\r\n\r\n        // 22\r\n        [2, 139, 111, 7, 140, 112],\r\n        [17, 74, 46],\r\n        [7, 54, 24, 16, 55, 25],\r\n        [34, 37, 13],\r\n\r\n        // 23\r\n        [4, 151, 121, 5, 152, 122],\r\n        [4, 75, 47, 14, 76, 48],\r\n        [11, 54, 24, 14, 55, 25],\r\n        [16, 45, 15, 14, 46, 16],\r\n\r\n        // 24\r\n        [6, 147, 117, 4, 148, 118],\r\n        [6, 73, 45, 14, 74, 46],\r\n        [11, 54, 24, 16, 55, 25],\r\n        [30, 46, 16, 2, 47, 17],\r\n\r\n        // 25\r\n        [8, 132, 106, 4, 133, 107],\r\n        [8, 75, 47, 13, 76, 48],\r\n        [7, 54, 24, 22, 55, 25],\r\n        [22, 45, 15, 13, 46, 16],\r\n\r\n        // 26\r\n        [10, 142, 114, 2, 143, 115],\r\n        [19, 74, 46, 4, 75, 47],\r\n        [28, 50, 22, 6, 51, 23],\r\n        [33, 46, 16, 4, 47, 17],\r\n\r\n        // 27\r\n        [8, 152, 122, 4, 153, 123],\r\n        [22, 73, 45, 3, 74, 46],\r\n        [8, 53, 23, 26, 54, 24],\r\n        [12, 45, 15, 28, 46, 16],\r\n\r\n        // 28\r\n        [3, 147, 117, 10, 148, 118],\r\n        [3, 73, 45, 23, 74, 46],\r\n        [4, 54, 24, 31, 55, 25],\r\n        [11, 45, 15, 31, 46, 16],\r\n\r\n        // 29\r\n        [7, 146, 116, 7, 147, 117],\r\n        [21, 73, 45, 7, 74, 46],\r\n        [1, 53, 23, 37, 54, 24],\r\n        [19, 45, 15, 26, 46, 16],\r\n\r\n        // 30\r\n        [5, 145, 115, 10, 146, 116],\r\n        [19, 75, 47, 10, 76, 48],\r\n        [15, 54, 24, 25, 55, 25],\r\n        [23, 45, 15, 25, 46, 16],\r\n\r\n        // 31\r\n        [13, 145, 115, 3, 146, 116],\r\n        [2, 74, 46, 29, 75, 47],\r\n        [42, 54, 24, 1, 55, 25],\r\n        [23, 45, 15, 28, 46, 16],\r\n\r\n        // 32\r\n        [17, 145, 115],\r\n        [10, 74, 46, 23, 75, 47],\r\n        [10, 54, 24, 35, 55, 25],\r\n        [19, 45, 15, 35, 46, 16],\r\n\r\n        // 33\r\n        [17, 145, 115, 1, 146, 116],\r\n        [14, 74, 46, 21, 75, 47],\r\n        [29, 54, 24, 19, 55, 25],\r\n        [11, 45, 15, 46, 46, 16],\r\n\r\n        // 34\r\n        [13, 145, 115, 6, 146, 116],\r\n        [14, 74, 46, 23, 75, 47],\r\n        [44, 54, 24, 7, 55, 25],\r\n        [59, 46, 16, 1, 47, 17],\r\n\r\n        // 35\r\n        [12, 151, 121, 7, 152, 122],\r\n        [12, 75, 47, 26, 76, 48],\r\n        [39, 54, 24, 14, 55, 25],\r\n        [22, 45, 15, 41, 46, 16],\r\n\r\n        // 36\r\n        [6, 151, 121, 14, 152, 122],\r\n        [6, 75, 47, 34, 76, 48],\r\n        [46, 54, 24, 10, 55, 25],\r\n        [2, 45, 15, 64, 46, 16],\r\n\r\n        // 37\r\n        [17, 152, 122, 4, 153, 123],\r\n        [29, 74, 46, 14, 75, 47],\r\n        [49, 54, 24, 10, 55, 25],\r\n        [24, 45, 15, 46, 46, 16],\r\n\r\n        // 38\r\n        [4, 152, 122, 18, 153, 123],\r\n        [13, 74, 46, 32, 75, 47],\r\n        [48, 54, 24, 14, 55, 25],\r\n        [42, 45, 15, 32, 46, 16],\r\n\r\n        // 39\r\n        [20, 147, 117, 4, 148, 118],\r\n        [40, 75, 47, 7, 76, 48],\r\n        [43, 54, 24, 22, 55, 25],\r\n        [10, 45, 15, 67, 46, 16],\r\n\r\n        // 40\r\n        [19, 148, 118, 6, 149, 119],\r\n        [18, 75, 47, 31, 76, 48],\r\n        [34, 54, 24, 34, 55, 25],\r\n        [20, 45, 15, 61, 46, 16]\r\n    ];\r\n\r\n    /**\r\n     * 根据数据获取对应版本\r\n     * @return {[type]} [description]\r\n     */\r\n    QRCodeAlg.prototype.getRightType = function () {\r\n        for (var typeNumber = 1; typeNumber < 41; typeNumber++) {\r\n            var rsBlock = RS_BLOCK_TABLE[(typeNumber - 1) * 4 + this.errorCorrectLevel];\r\n            if (rsBlock == undefined) {\r\n                throw new Error(\"bad rs block @ typeNumber:\" + typeNumber + \"/errorCorrectLevel:\" + this.errorCorrectLevel);\r\n            }\r\n            var length = rsBlock.length / 3;\r\n            var totalDataCount = 0;\r\n            for (var i = 0; i < length; i++) {\r\n                var count = rsBlock[i * 3 + 0];\r\n                var dataCount = rsBlock[i * 3 + 2];\r\n                totalDataCount += dataCount * count;\r\n            }\r\n            var lengthBytes = typeNumber > 9 ? 2 : 1;\r\n            if (this.utf8bytes.length + lengthBytes < totalDataCount || typeNumber == 40) {\r\n                this.typeNumber = typeNumber;\r\n                this.rsBlock = rsBlock;\r\n                this.totalDataCount = totalDataCount;\r\n                break;\r\n            }\r\n        }\r\n    };\r\n\r\n    //---------------------------------------------------------------------\r\n    // QRBitBuffer\r\n    //---------------------------------------------------------------------\r\n    function QRBitBuffer() {\r\n        this.buffer = new Array();\r\n        this.length = 0;\r\n    }\r\n    QRBitBuffer.prototype = {\r\n        get: function (index) {\r\n            var bufIndex = Math.floor(index / 8);\r\n            return ((this.buffer[bufIndex] >>> (7 - index % 8)) & 1);\r\n        },\r\n        put: function (num, length) {\r\n            for (var i = 0; i < length; i++) {\r\n                this.putBit(((num >>> (length - i - 1)) & 1));\r\n            }\r\n        },\r\n        putBit: function (bit) {\r\n            var bufIndex = Math.floor(this.length / 8);\r\n            if (this.buffer.length <= bufIndex) {\r\n                this.buffer.push(0);\r\n            }\r\n            if (bit) {\r\n                this.buffer[bufIndex] |= (0x80 >>> (this.length % 8));\r\n            }\r\n            this.length++;\r\n        }\r\n    };","function getLocalFilePath(path) {\n    if (path.indexOf('_www') === 0 || path.indexOf('_doc') === 0 || path.indexOf('_documents') === 0 || path.indexOf('_downloads') === 0) {\n        return path\n    }\n    if (path.indexOf('file://') === 0) {\n        return path\n    }\n    if (path.indexOf('/storage/emulated/0/') === 0) {\n        return path\n    }\n    if (path.indexOf('/') === 0) {\n        var localFilePath = plus.io.convertAbsoluteFileSystem(path)\n        if (localFilePath !== path) {\n            return localFilePath\n        } else {\n            path = path.substr(1)\n        }\n    }\n    return '_www/' + path\n}\n\nexport function pathToBase64(path) {\n    return new Promise(function(resolve, reject) {\n        if (typeof window === 'object' && 'document' in window) {\n            if (typeof FileReader === 'function') {\n                var xhr = new XMLHttpRequest()\n                xhr.open('GET', path, true)\n                xhr.responseType = 'blob'\n                xhr.onload = function() {\n                    if (this.status === 200) {\n                        let fileReader = new FileReader()\n                        fileReader.onload = function(e) {\n                            resolve(e.target.result)\n                        }\n                        fileReader.onerror = reject\n                        fileReader.readAsDataURL(this.response)\n                    }\n                }\n                xhr.onerror = reject\n                xhr.send()\n                return\n            }\n            var canvas = document.createElement('canvas')\n            var c2x = canvas.getContext('2d')\n            var img = new Image\n            img.onload = function() {\n                canvas.width = img.width\n                canvas.height = img.height\n                c2x.drawImage(img, 0, 0)\n                resolve(canvas.toDataURL())\n                canvas.height = canvas.width = 0\n            }\n            img.onerror = reject\n            img.src = path\n            return\n        }\n        if (typeof plus === 'object') {\n            plus.io.resolveLocalFileSystemURL(getLocalFilePath(path), function(entry) {\n                entry.file(function(file) {\n                    var fileReader = new plus.io.FileReader()\n                    fileReader.onload = function(data) {\n                        resolve(data.target.result)\n                    }\n                    fileReader.onerror = function(error) {\n                        reject(error)\n                    }\n                    fileReader.readAsDataURL(file)\n                }, function(error) {\n                    reject(error)\n                })\n            }, function(error) {\n                reject(error)\n            })\n            return\n        }\n        if (typeof wx === 'object' && wx.canIUse('getFileSystemManager')) {\n            wx.getFileSystemManager().readFile({\n                filePath: path,\n                encoding: 'base64',\n                success: function(res) {\n                    resolve('data:image/png;base64,' + res.data)\n                },\n                fail: function(error) {\n                    reject(error)\n                }\n            })\n            return\n        }\n        reject(new Error('not support'))\n    })\n}\n\nexport function base64ToPath(base64) {\n    return new Promise(function(resolve, reject) {\n        if (typeof window === 'object' && 'document' in window) {\n            base64 = base64.split(',')\n            var type = base64[0].match(/:(.*?);/)[1]\n            var str = atob(base64[1])\n            var n = str.length\n            var array = new Uint8Array(n)\n            while (n--) {\n                array[n] = str.charCodeAt(n)\n            }\n            return resolve((window.URL || window.webkitURL).createObjectURL(new Blob([array], { type: type })))\n        }\n        var extName = base64.match(/data\\:\\S+\\/(\\S+);/)\n        if (extName) {\n            extName = extName[1]\n        } else {\n            reject(new Error('base64 error'))\n        }\n        var fileName = Date.now() + '.' + extName\n        if (typeof plus === 'object') {\n            var bitmap = new plus.nativeObj.Bitmap('bitmap' + Date.now())\n            bitmap.loadBase64Data(base64, function() {\n                var filePath = '_doc/uniapp_temp/' + fileName\n                bitmap.save(filePath, {}, function() {\n                    bitmap.clear()\n                    resolve(filePath)\n                }, function(error) {\n                    bitmap.clear()\n                    reject(error)\n                })\n            }, function(error) {\n                bitmap.clear()\n                reject(error)\n            })\n            return\n        }\n        if (typeof wx === 'object' && wx.canIUse('getFileSystemManager')) {\n            var filePath = wx.env.USER_DATA_PATH + '/' + fileName\n            wx.getFileSystemManager().writeFile({\n                filePath: filePath,\n                data: base64.replace(/^data:\\S+\\/\\S+;base64,/, ''),\n                encoding: 'base64',\n                success: function() {\n                    resolve(filePath)\n                },\n                fail: function(error) {\n                    reject(error)\n                }\n            })\n            return\n        }\n        reject(new Error('not support'))\n    })\n}","module.exports = {\n\terror:'',\n\tisJSON : function (str){\n\t\tif (typeof str == 'string') {\n\t\t\ttry {\n\t\t\t\tvar obj=JSON.parse(str);\n\t\t\t\tif(typeof obj == 'object' && obj ){\n\t\t\t\t\treturn true;\n\t\t\t\t}else{\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t} catch(e) {\n\t\t\t\tconsole.log('error：'+str+'!!!'+e);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t},\n\tisNumber : function (checkVal){\n\t\tvar reg = /^-?[1-9][0-9]?.?[0-9]*$/;\n\t\treturn reg.test(checkVal);\n\t}\n}","import QQMapWX from \"./qqmap-wx-jssdk.js\";\nimport AmapWX from './amap-wx.js'\nvar amapKey=\"83dd75107efbb10605ef3f89c4f76527\";\n/** \n * 此方法为腾讯位置服务方法  日调用量1万次/key,并发数5次/key/秒\n * @param {Object} location\n * @param {Object} callback\n */\nfunction tencentGeocode(lat, lon, callback) {\n\tconst qqmapsdk = new QQMapWX({\n\t\tkey: \"SQYBZ-GEGRF-7YJJL-JCRZJ-BYD32-2XBZV\" //自己申请的key\n\t});\n\tlet location = {\n\t\tlatitude: lat,\n\t\tlongitude: lon\n\t}\n\tqqmapsdk.reverseGeocoder({\n\t\tlocation: location,\n\t\tsuccess(addressRes) {\n\t\t\tlet address = addressRes.result.address\n\t\t\tcallback(address)\n\t\t\tconsole.log('腾讯->', address)\n\t\t},\n\t\tfail(res) {\n\t\t\tconsole.log('失败', res)\n\t\t}\n\t});\n}\n/** \n * 附近搜索\n * @param {Object} location\n * @param {Object} callback\n */\nfunction getPoiAround(lat, lon,keywords,callback) {\n\tconst amapPlugin = new AmapWX.AMapWX({\n\t key: amapKey\n\t});\n\tlet location = '' + lon + ',' + lat + '';\n\t\n\tamapPlugin.getPoiAround({\n\t location: location, //location的格式为'经度,纬度'，\n\t querykeywords:keywords,\n\t //成功回调\n\t success: function(data) {\n\t  callback(data)\n\t  //console.log(\"附近->\", data)\n\t },\n\t fail: function(info) {\n\t  //失败回调\n\t  console.log(info)\n\t  \n\t }\n\t})\n   \n   }\n/** \n * 此方法为高德位置服务方法  \n * @param {Object} location\n * @param {Object} callback\n */\nfunction amapGeocode(lat, lon, callback) {\n\tconst amapPlugin = new AmapWX.AMapWX({\n\t\tkey: \"83dd75107efbb10605ef3f89c4f76527\"\n\t});\n\tlet location = '' + lon + ',' + lat + '';\n\tamapPlugin.getRegeo({\n\t\tlocation: location, //location的格式为'经度,纬度'\n\t\t//成功回调\n\t\tsuccess: function(data) {\n\t\t\tlet address = data[0].name + data[0].desc\n\t\t\tcallback(address)\n\t\t\t// console.log(\"高德->\", address)\n\t\t},\n\t\tfail: function(info) {\n\t\t\t//失败回调\n\t\t\tconsole.log(info)\n\t\t\t// 定位权限未开启，引导设置\n\t\t\t// uni.showModal({\n\t\t\t// \ttitle: '温馨提示',\n\t\t\t// \tcontent: '您已拒绝定位,请开启',\n\t\t\t// \tconfirmText: '去设置',\n\t\t\t// \tsuccess(res) {\n\t\t\t// \t\tif (res.confirm) {\n\t\t\t// \t\t\t//打开授权设置\n\t\t\t// \t\t\tthat.openSetting()\n\t\t\t// \t\t}\n\t\t\t// \t}\n\t\t\t// })\n\t\t}\n\t})\n\n}\n\nexport default {\n\ttencentGeocode,\n\tamapGeocode,\n\tgetPoiAround\n}\n","/**\n * 微信小程序JavaScriptSDK\n * \n * @version 1.2\n * @date 2019-03-06\n * @author v_ylyue@tencent.com\n */\n\nvar ERROR_CONF = {\n    KEY_ERR: 311,\n    KEY_ERR_MSG: 'key格式错误',\n    PARAM_ERR: 310,\n    PARAM_ERR_MSG: '请求参数信息有误',\n    SYSTEM_ERR: 600,\n    SYSTEM_ERR_MSG: '系统错误',\n    WX_ERR_CODE: 1000,\n    WX_OK_CODE: 200\n};\nvar BASE_URL = 'https://apis.map.qq.com/ws/';\nvar URL_SEARCH = BASE_URL + 'place/v1/search';\nvar URL_SUGGESTION = BASE_URL + 'place/v1/suggestion';\nvar URL_GET_GEOCODER = BASE_URL + 'geocoder/v1/';\nvar URL_CITY_LIST = BASE_URL + 'district/v1/list';\nvar URL_AREA_LIST = BASE_URL + 'district/v1/getchildren';\nvar URL_DISTANCE = BASE_URL + 'distance/v1/';\nvar URL_DIRECTION = BASE_URL + 'direction/v1/';\nvar MODE = {\n  driving: 'driving',\n  transit: 'transit'\n};\nvar EARTH_RADIUS = 6378136.49;\nvar Utils = {\n  /**\n  * md5加密方法\n  * 版权所有©2011 Sebastian Tschan，https：//blueimp.net\n  */\n  safeAdd(x, y) {\n    var lsw = (x & 0xffff) + (y & 0xffff);\n    var msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n    return (msw << 16) | (lsw & 0xffff);\n  },\n  bitRotateLeft(num, cnt) {\n    return (num << cnt) | (num >>> (32 - cnt));\n  },\n  md5cmn(q, a, b, x, s, t) {\n    return this.safeAdd(this.bitRotateLeft(this.safeAdd(this.safeAdd(a, q), this.safeAdd(x, t)), s), b);\n  },\n  md5ff(a, b, c, d, x, s, t) {\n    return this.md5cmn((b & c) | (~b & d), a, b, x, s, t);\n  },\n  md5gg(a, b, c, d, x, s, t) {\n    return this.md5cmn((b & d) | (c & ~d), a, b, x, s, t);\n  },\n  md5hh(a, b, c, d, x, s, t) {\n    return this.md5cmn(b ^ c ^ d, a, b, x, s, t);\n  },\n  md5ii(a, b, c, d, x, s, t) {\n    return this.md5cmn(c ^ (b | ~d), a, b, x, s, t);\n  },\n  binlMD5(x, len) {\n    /* append padding */\n    x[len >> 5] |= 0x80 << (len % 32);\n    x[((len + 64) >>> 9 << 4) + 14] = len;\n\n    var i;\n    var olda;\n    var oldb;\n    var oldc;\n    var oldd;\n    var a = 1732584193;\n    var b = -271733879;\n    var c = -1732584194;\n    var d = 271733878;\n\n    for (i = 0; i < x.length; i += 16) {\n      olda = a;\n      oldb = b;\n      oldc = c;\n      oldd = d;\n\n      a = this.md5ff(a, b, c, d, x[i], 7, -680876936);\n      d = this.md5ff(d, a, b, c, x[i + 1], 12, -389564586);\n      c = this.md5ff(c, d, a, b, x[i + 2], 17, 606105819);\n      b = this.md5ff(b, c, d, a, x[i + 3], 22, -1044525330);\n      a = this.md5ff(a, b, c, d, x[i + 4], 7, -176418897);\n      d = this.md5ff(d, a, b, c, x[i + 5], 12, 1200080426);\n      c = this.md5ff(c, d, a, b, x[i + 6], 17, -1473231341);\n      b = this.md5ff(b, c, d, a, x[i + 7], 22, -45705983);\n      a = this.md5ff(a, b, c, d, x[i + 8], 7, 1770035416);\n      d = this.md5ff(d, a, b, c, x[i + 9], 12, -1958414417);\n      c = this.md5ff(c, d, a, b, x[i + 10], 17, -42063);\n      b = this.md5ff(b, c, d, a, x[i + 11], 22, -1990404162);\n      a = this.md5ff(a, b, c, d, x[i + 12], 7, 1804603682);\n      d = this.md5ff(d, a, b, c, x[i + 13], 12, -40341101);\n      c = this.md5ff(c, d, a, b, x[i + 14], 17, -1502002290);\n      b = this.md5ff(b, c, d, a, x[i + 15], 22, 1236535329);\n\n      a = this.md5gg(a, b, c, d, x[i + 1], 5, -165796510);\n      d = this.md5gg(d, a, b, c, x[i + 6], 9, -1069501632);\n      c = this.md5gg(c, d, a, b, x[i + 11], 14, 643717713);\n      b = this.md5gg(b, c, d, a, x[i], 20, -373897302);\n      a = this.md5gg(a, b, c, d, x[i + 5], 5, -701558691);\n      d = this.md5gg(d, a, b, c, x[i + 10], 9, 38016083);\n      c = this.md5gg(c, d, a, b, x[i + 15], 14, -660478335);\n      b = this.md5gg(b, c, d, a, x[i + 4], 20, -405537848);\n      a = this.md5gg(a, b, c, d, x[i + 9], 5, 568446438);\n      d = this.md5gg(d, a, b, c, x[i + 14], 9, -1019803690);\n      c = this.md5gg(c, d, a, b, x[i + 3], 14, -187363961);\n      b = this.md5gg(b, c, d, a, x[i + 8], 20, 1163531501);\n      a = this.md5gg(a, b, c, d, x[i + 13], 5, -1444681467);\n      d = this.md5gg(d, a, b, c, x[i + 2], 9, -51403784);\n      c = this.md5gg(c, d, a, b, x[i + 7], 14, 1735328473);\n      b = this.md5gg(b, c, d, a, x[i + 12], 20, -1926607734);\n\n      a = this.md5hh(a, b, c, d, x[i + 5], 4, -378558);\n      d = this.md5hh(d, a, b, c, x[i + 8], 11, -2022574463);\n      c = this.md5hh(c, d, a, b, x[i + 11], 16, 1839030562);\n      b = this.md5hh(b, c, d, a, x[i + 14], 23, -35309556);\n      a = this.md5hh(a, b, c, d, x[i + 1], 4, -1530992060);\n      d = this.md5hh(d, a, b, c, x[i + 4], 11, 1272893353);\n      c = this.md5hh(c, d, a, b, x[i + 7], 16, -155497632);\n      b = this.md5hh(b, c, d, a, x[i + 10], 23, -1094730640);\n      a = this.md5hh(a, b, c, d, x[i + 13], 4, 681279174);\n      d = this.md5hh(d, a, b, c, x[i], 11, -358537222);\n      c = this.md5hh(c, d, a, b, x[i + 3], 16, -722521979);\n      b = this.md5hh(b, c, d, a, x[i + 6], 23, 76029189);\n      a = this.md5hh(a, b, c, d, x[i + 9], 4, -640364487);\n      d = this.md5hh(d, a, b, c, x[i + 12], 11, -421815835);\n      c = this.md5hh(c, d, a, b, x[i + 15], 16, 530742520);\n      b = this.md5hh(b, c, d, a, x[i + 2], 23, -995338651);\n\n      a = this.md5ii(a, b, c, d, x[i], 6, -198630844);\n      d = this.md5ii(d, a, b, c, x[i + 7], 10, 1126891415);\n      c = this.md5ii(c, d, a, b, x[i + 14], 15, -1416354905);\n      b = this.md5ii(b, c, d, a, x[i + 5], 21, -57434055);\n      a = this.md5ii(a, b, c, d, x[i + 12], 6, 1700485571);\n      d = this.md5ii(d, a, b, c, x[i + 3], 10, -1894986606);\n      c = this.md5ii(c, d, a, b, x[i + 10], 15, -1051523);\n      b = this.md5ii(b, c, d, a, x[i + 1], 21, -2054922799);\n      a = this.md5ii(a, b, c, d, x[i + 8], 6, 1873313359);\n      d = this.md5ii(d, a, b, c, x[i + 15], 10, -30611744);\n      c = this.md5ii(c, d, a, b, x[i + 6], 15, -1560198380);\n      b = this.md5ii(b, c, d, a, x[i + 13], 21, 1309151649);\n      a = this.md5ii(a, b, c, d, x[i + 4], 6, -145523070);\n      d = this.md5ii(d, a, b, c, x[i + 11], 10, -1120210379);\n      c = this.md5ii(c, d, a, b, x[i + 2], 15, 718787259);\n      b = this.md5ii(b, c, d, a, x[i + 9], 21, -343485551);\n\n      a = this.safeAdd(a, olda);\n      b = this.safeAdd(b, oldb);\n      c = this.safeAdd(c, oldc);\n      d = this.safeAdd(d, oldd);\n    }\n    return [a, b, c, d];\n  },\n  binl2rstr(input) {\n    var i;\n    var output = '';\n    var length32 = input.length * 32;\n    for (i = 0; i < length32; i += 8) {\n      output += String.fromCharCode((input[i >> 5] >>> (i % 32)) & 0xff);\n    }\n    return output;\n  },\n  rstr2binl(input) {\n    var i;\n    var output = [];\n    output[(input.length >> 2) - 1] = undefined;\n    for (i = 0; i < output.length; i += 1) {\n      output[i] = 0;\n    }\n    var length8 = input.length * 8;\n    for (i = 0; i < length8; i += 8) {\n      output[i >> 5] |= (input.charCodeAt(i / 8) & 0xff) << (i % 32);\n    }\n    return output;\n  },\n  rstrMD5(s) {\n    return this.binl2rstr(this.binlMD5(this.rstr2binl(s), s.length * 8));\n  },\n  rstrHMACMD5(key, data) {\n    var i;\n    var bkey = this.rstr2binl(key);\n    var ipad = [];\n    var opad = [];\n    var hash;\n    ipad[15] = opad[15] = undefined;\n    if (bkey.length > 16) {\n      bkey = this.binlMD5(bkey, key.length * 8);\n    }\n    for (i = 0; i < 16; i += 1) {\n      ipad[i] = bkey[i] ^ 0x36363636;\n      opad[i] = bkey[i] ^ 0x5c5c5c5c;\n    }\n    hash = this.binlMD5(ipad.concat(this.rstr2binl(data)), 512 + data.length * 8);\n    return this.binl2rstr(this.binlMD5(opad.concat(hash), 512 + 128));\n  },\n  rstr2hex(input) {\n    var hexTab = '0123456789abcdef';\n    var output = '';\n    var x;\n    var i;\n    for (i = 0; i < input.length; i += 1) {\n      x = input.charCodeAt(i);\n      output += hexTab.charAt((x >>> 4) & 0x0f) + hexTab.charAt(x & 0x0f);\n    }\n    return output;\n  },\n  str2rstrUTF8(input) {\n    return unescape(encodeURIComponent(input));\n  },\n  rawMD5(s) {\n    return this.rstrMD5(this.str2rstrUTF8(s));\n  },\n  hexMD5(s) {\n    return this.rstr2hex(this.rawMD5(s));\n  },\n  rawHMACMD5(k, d) {\n    return this.rstrHMACMD5(this.str2rstrUTF8(k), str2rstrUTF8(d));\n  },\n  hexHMACMD5(k, d) {\n    return this.rstr2hex(this.rawHMACMD5(k, d));\n  },\n\n  md5(string, key, raw) {\n    if (!key) {\n      if (!raw) {\n        return this.hexMD5(string);\n      }\n      return this.rawMD5(string);\n    }\n    if (!raw) {\n      return this.hexHMACMD5(key, string);\n    }\n    return this.rawHMACMD5(key, string);\n  },\n  /**\n   * 得到md5加密后的sig参数\n   * @param {Object} requestParam 接口参数\n   * @param {String} sk签名字符串\n   * @param {String} featrue 方法名\n   * @return 返回加密后的sig参数\n   */\n  getSig(requestParam, sk, feature, mode) {\n    var sig = null;\n    var requestArr = [];\n    Object.keys(requestParam).sort().forEach(function(key){\n      requestArr.push(key + '=' + requestParam[key]);\n    });\n    if (feature == 'search') {\n      sig = '/ws/place/v1/search?' + requestArr.join('&') + sk;\n    }\n    if (feature == 'suggest') {\n      sig = '/ws/place/v1/suggestion?' + requestArr.join('&') + sk;\n    }\n    if (feature == 'reverseGeocoder') {\n      sig = '/ws/geocoder/v1/?' + requestArr.join('&') + sk;\n    }\n    if (feature == 'geocoder') {\n      sig = '/ws/geocoder/v1/?' + requestArr.join('&') + sk;\n    }\n    if (feature == 'getCityList') {\n      sig = '/ws/district/v1/list?' + requestArr.join('&') + sk;\n    }\n    if (feature == 'getDistrictByCityId') {\n      sig = '/ws/district/v1/getchildren?' + requestArr.join('&') + sk;\n    }\n    if (feature == 'calculateDistance') {\n      sig = '/ws/distance/v1/?' + requestArr.join('&') + sk;\n    }\n    if (feature == 'direction') {\n      sig = '/ws/direction/v1/' + mode + '?' + requestArr.join('&') + sk;\n    }\n    sig = this.md5(sig);\n    return sig;\n  },\n    /**\n     * 得到终点query字符串\n     * @param {Array|String} 检索数据\n     */\n    location2query(data) {\n        if (typeof data == 'string') {\n            return data;\n        }\n        var query = '';\n        for (var i = 0; i < data.length; i++) {\n            var d = data[i];\n            if (!!query) {\n                query += ';';\n            }\n            if (d.location) {\n                query = query + d.location.lat + ',' + d.location.lng;\n            }\n            if (d.latitude && d.longitude) {\n                query = query + d.latitude + ',' + d.longitude;\n            }\n        }\n        return query;\n    },\n\n    /**\n     * 计算角度\n     */\n    rad(d) {\n      return d * Math.PI / 180.0;\n    },  \n    /**\n     * 处理终点location数组\n     * @return 返回终点数组\n     */\n    getEndLocation(location){\n      var to = location.split(';');\n      var endLocation = [];\n      for (var i = 0; i < to.length; i++) {\n        endLocation.push({\n          lat: parseFloat(to[i].split(',')[0]),\n          lng: parseFloat(to[i].split(',')[1])\n        })\n      }\n      return endLocation;\n    },\n\n    /**\n     * 计算两点间直线距离\n     * @param a 表示纬度差\n     * @param b 表示经度差\n     * @return 返回的是距离，单位m\n     */\n    getDistance(latFrom, lngFrom, latTo, lngTo) {\n      var radLatFrom = this.rad(latFrom);\n      var radLatTo = this.rad(latTo);\n      var a = radLatFrom - radLatTo;\n      var b = this.rad(lngFrom) - this.rad(lngTo);\n      var distance = 2 * Math.asin(Math.sqrt(Math.pow(Math.sin(a / 2), 2) + Math.cos(radLatFrom) * Math.cos(radLatTo) * Math.pow(Math.sin(b / 2), 2)));\n      distance = distance * EARTH_RADIUS;\n      distance = Math.round(distance * 10000) / 10000;\n      return parseFloat(distance.toFixed(0));\n    },\n    /**\n     * 使用微信接口进行定位\n     */\n    getWXLocation(success, fail, complete) {\n        wx.getLocation({\n            type: 'gcj02',\n            success: success,\n            fail: fail,\n            complete: complete\n        });\n    },\n\n    /**\n     * 获取location参数\n     */\n    getLocationParam(location) {\n        if (typeof location == 'string') {\n            var locationArr = location.split(',');\n            if (locationArr.length === 2) {\n                location = {\n                    latitude: location.split(',')[0],\n                    longitude: location.split(',')[1]\n                };\n            } else {\n                location = {};\n            }\n        }\n        return location;\n    },\n\n    /**\n     * 回调函数默认处理\n     */\n    polyfillParam(param) {\n        param.success = param.success || function () { };\n        param.fail = param.fail || function () { };\n        param.complete = param.complete || function () { };\n    },\n\n    /**\n     * 验证param对应的key值是否为空\n     * \n     * @param {Object} param 接口参数\n     * @param {String} key 对应参数的key\n     */\n    checkParamKeyEmpty(param, key) {\n        if (!param[key]) {\n            var errconf = this.buildErrorConfig(ERROR_CONF.PARAM_ERR, ERROR_CONF.PARAM_ERR_MSG + key +'参数格式有误');\n            param.fail(errconf);\n            param.complete(errconf);\n            return true;\n        }\n        return false;\n    },\n\n    /**\n     * 验证参数中是否存在检索词keyword\n     * \n     * @param {Object} param 接口参数\n     */\n    checkKeyword(param){\n        return !this.checkParamKeyEmpty(param, 'keyword');\n    },\n\n    /**\n     * 验证location值\n     * \n     * @param {Object} param 接口参数\n     */\n    checkLocation(param) {\n        var location = this.getLocationParam(param.location);\n        if (!location || !location.latitude || !location.longitude) {\n            var errconf = this.buildErrorConfig(ERROR_CONF.PARAM_ERR, ERROR_CONF.PARAM_ERR_MSG + ' location参数格式有误');\n            param.fail(errconf);\n            param.complete(errconf);\n            return false;\n        }\n        return true;\n    },\n\n    /**\n     * 构造错误数据结构\n     * @param {Number} errCode 错误码\n     * @param {Number} errMsg 错误描述\n     */\n    buildErrorConfig(errCode, errMsg) {\n        return {\n            status: errCode,\n            message: errMsg\n        };\n    },\n\n    /**\n     * \n     * 数据处理函数\n     * 根据传入参数不同处理不同数据\n     * @param {String} feature 功能名称\n     * search 地点搜索\n     * suggest关键词提示\n     * reverseGeocoder逆地址解析\n     * geocoder地址解析\n     * getCityList获取城市列表：父集\n     * getDistrictByCityId获取区县列表：子集\n     * calculateDistance距离计算\n     * @param {Object} param 接口参数\n     * @param {Object} data 数据\n     */\n    handleData(param,data,feature){\n      if (feature == 'search') {\n        var searchResult = data.data;\n        var searchSimplify = [];\n        for (var i = 0; i < searchResult.length; i++) {\n          searchSimplify.push({\n            id: searchResult[i].id || null,\n            title: searchResult[i].title || null,\n            latitude: searchResult[i].location && searchResult[i].location.lat || null,\n            longitude: searchResult[i].location && searchResult[i].location.lng || null,\n            address: searchResult[i].address || null,\n            category: searchResult[i].category || null,\n            tel: searchResult[i].tel || null,\n            adcode: searchResult[i].ad_info && searchResult[i].ad_info.adcode || null,\n            city: searchResult[i].ad_info && searchResult[i].ad_info.city || null,\n            district: searchResult[i].ad_info && searchResult[i].ad_info.district || null,\n            province: searchResult[i].ad_info && searchResult[i].ad_info.province || null\n          })\n        }\n        param.success(data, {\n          searchResult: searchResult,\n          searchSimplify: searchSimplify\n        })\n      } else if (feature == 'suggest') {\n        var suggestResult = data.data;\n        var suggestSimplify = [];\n        for (var i = 0; i < suggestResult.length; i++) {\n          suggestSimplify.push({\n            adcode: suggestResult[i].adcode || null,\n            address: suggestResult[i].address || null,\n            category: suggestResult[i].category || null,\n            city: suggestResult[i].city || null,\n            district: suggestResult[i].district || null,\n            id: suggestResult[i].id || null,\n            latitude: suggestResult[i].location && suggestResult[i].location.lat || null,\n            longitude: suggestResult[i].location && suggestResult[i].location.lng || null,\n            province: suggestResult[i].province || null,\n            title: suggestResult[i].title || null,\n            type: suggestResult[i].type || null\n          })\n        }\n        param.success(data, {\n          suggestResult: suggestResult,\n          suggestSimplify: suggestSimplify\n          })\n      } else if (feature == 'reverseGeocoder') {\n        var reverseGeocoderResult = data.result;\n        var reverseGeocoderSimplify = {\n          address: reverseGeocoderResult.address || null,\n          latitude: reverseGeocoderResult.location && reverseGeocoderResult.location.lat || null,\n          longitude: reverseGeocoderResult.location && reverseGeocoderResult.location.lng || null,\n          adcode: reverseGeocoderResult.ad_info && reverseGeocoderResult.ad_info.adcode || null,\n          city: reverseGeocoderResult.address_component && reverseGeocoderResult.address_component.city || null,\n          district: reverseGeocoderResult.address_component && reverseGeocoderResult.address_component.district || null,\n          nation: reverseGeocoderResult.address_component && reverseGeocoderResult.address_component.nation || null,\n          province: reverseGeocoderResult.address_component && reverseGeocoderResult.address_component.province || null,\n          street: reverseGeocoderResult.address_component && reverseGeocoderResult.address_component.street || null,\n          street_number: reverseGeocoderResult.address_component && reverseGeocoderResult.address_component.street_number || null,\n          recommend: reverseGeocoderResult.formatted_addresses && reverseGeocoderResult.formatted_addresses.recommend || null,\n          rough: reverseGeocoderResult.formatted_addresses && reverseGeocoderResult.formatted_addresses.rough || null\n        };\n        if (reverseGeocoderResult.pois) {//判断是否返回周边poi\n          var pois = reverseGeocoderResult.pois;\n          var poisSimplify = [];\n          for (var i = 0;i < pois.length;i++) {\n            poisSimplify.push({\n              id: pois[i].id || null,\n              title: pois[i].title || null,\n              latitude: pois[i].location && pois[i].location.lat || null,\n              longitude: pois[i].location && pois[i].location.lng || null,\n              address: pois[i].address || null,\n              category: pois[i].category || null,\n              adcode: pois[i].ad_info && pois[i].ad_info.adcode || null,\n              city: pois[i].ad_info && pois[i].ad_info.city || null,\n              district: pois[i].ad_info && pois[i].ad_info.district || null,\n              province: pois[i].ad_info && pois[i].ad_info.province || null\n            })\n          }\n          param.success(data,{\n            reverseGeocoderResult: reverseGeocoderResult,\n            reverseGeocoderSimplify: reverseGeocoderSimplify,\n            pois: pois,\n            poisSimplify: poisSimplify\n          })\n        } else {\n          param.success(data, {\n            reverseGeocoderResult: reverseGeocoderResult,\n            reverseGeocoderSimplify: reverseGeocoderSimplify\n          })\n        }\n      } else if (feature == 'geocoder') {\n        var geocoderResult = data.result;\n        var geocoderSimplify = {\n          title: geocoderResult.title || null,\n          latitude: geocoderResult.location && geocoderResult.location.lat || null,\n          longitude: geocoderResult.location && geocoderResult.location.lng || null,\n          adcode: geocoderResult.ad_info && geocoderResult.ad_info.adcode || null,\n          province: geocoderResult.address_components && geocoderResult.address_components.province || null,\n          city: geocoderResult.address_components && geocoderResult.address_components.city || null,\n          district: geocoderResult.address_components && geocoderResult.address_components.district || null,\n          street: geocoderResult.address_components && geocoderResult.address_components.street || null,\n          street_number: geocoderResult.address_components && geocoderResult.address_components.street_number || null,\n          level: geocoderResult.level || null\n        };\n        param.success(data,{\n          geocoderResult: geocoderResult,\n          geocoderSimplify: geocoderSimplify\n        });\n      } else if (feature == 'getCityList') {\n        var provinceResult = data.result[0];\n        var cityResult = data.result[1];\n        var districtResult = data.result[2];\n        param.success(data,{\n          provinceResult: provinceResult,\n          cityResult: cityResult,\n          districtResult: districtResult\n        });\n      } else if (feature == 'getDistrictByCityId') {\n        var districtByCity = data.result[0];\n        param.success(data, districtByCity);\n      } else if (feature == 'calculateDistance') {\n        var calculateDistanceResult = data.result.elements;  \n        var distance = [];\n        for (var i = 0; i < calculateDistanceResult.length; i++){\n          distance.push(calculateDistanceResult[i].distance);\n        }   \n        param.success(data, {\n          calculateDistanceResult: calculateDistanceResult,\n          distance: distance\n          });\n      } else if (feature == 'direction') {\n        var direction = data.result.routes;\n        param.success(data,direction);\n      } else {\n        param.success(data);\n      }\n    },\n\n    /**\n     * 构造微信请求参数，公共属性处理\n     * \n     * @param {Object} param 接口参数\n     * @param {Object} param 配置项\n     * @param {String} feature 方法名\n     */\n    buildWxRequestConfig(param, options, feature) {\n        var that = this;\n        options.header = { \"content-type\": \"application/json\" };\n        options.method = 'GET';\n        options.success = function (res) {\n            var data = res.data;\n            if (data.status === 0) {\n              that.handleData(param, data, feature);\n            } else {\n                param.fail(data);\n            }\n        };\n        options.fail = function (res) {\n            res.statusCode = ERROR_CONF.WX_ERR_CODE;\n            param.fail(that.buildErrorConfig(ERROR_CONF.WX_ERR_CODE, res.errMsg));\n        };\n        options.complete = function (res) {\n            var statusCode = +res.statusCode;\n            switch(statusCode) {\n                case ERROR_CONF.WX_ERR_CODE: {\n                    param.complete(that.buildErrorConfig(ERROR_CONF.WX_ERR_CODE, res.errMsg));\n                    break;\n                }\n                case ERROR_CONF.WX_OK_CODE: {\n                    var data = res.data;\n                    if (data.status === 0) {\n                        param.complete(data);\n                    } else {\n                        param.complete(that.buildErrorConfig(data.status, data.message));\n                    }\n                    break;\n                }\n                default:{\n                    param.complete(that.buildErrorConfig(ERROR_CONF.SYSTEM_ERR, ERROR_CONF.SYSTEM_ERR_MSG));\n                }\n\n            }\n        };\n        return options;\n    },\n\n    /**\n     * 处理用户参数是否传入坐标进行不同的处理\n     */\n    locationProcess(param, locationsuccess, locationfail, locationcomplete) {\n        var that = this;\n        locationfail = locationfail || function (res) {\n            res.statusCode = ERROR_CONF.WX_ERR_CODE;\n            param.fail(that.buildErrorConfig(ERROR_CONF.WX_ERR_CODE, res.errMsg));\n        };\n        locationcomplete = locationcomplete || function (res) {\n            if (res.statusCode == ERROR_CONF.WX_ERR_CODE) {\n                param.complete(that.buildErrorConfig(ERROR_CONF.WX_ERR_CODE, res.errMsg));\n            }\n        };\n        if (!param.location) {\n            that.getWXLocation(locationsuccess, locationfail, locationcomplete);\n        } else if (that.checkLocation(param)) {\n            var location = Utils.getLocationParam(param.location);\n            locationsuccess(location);\n        }\n    }\n};\n\n\nclass QQMapWX {\n\n    /**\n     * 构造函数\n     * \n     * @param {Object} options 接口参数,key 为必选参数\n     */\n    constructor(options) {\n        if (!options.key) {\n            throw Error('key值不能为空');\n        }\n        this.key = options.key;\n    };\n\n    /**\n     * POI周边检索\n     *\n     * @param {Object} options 接口参数对象\n     * \n     * 参数对象结构可以参考\n     * @see http://lbs.qq.com/webservice_v1/guide-search.html\n     */\n    search(options) {\n        var that = this;\n        options = options || {};\n\n        Utils.polyfillParam(options);\n\n        if (!Utils.checkKeyword(options)) {\n            return;\n        }\n\n        var requestParam = {\n            keyword: options.keyword,\n            orderby: options.orderby || '_distance',\n            page_size: options.page_size || 10,\n            page_index: options.page_index || 1,\n            output: 'json',\n            key: that.key\n        };\n\n        if (options.address_format) {\n            requestParam.address_format = options.address_format;\n        }\n\n        if (options.filter) {\n            requestParam.filter = options.filter;\n        }\n\n        var distance = options.distance || \"1000\";\n        var auto_extend = options.auto_extend || 1;\n        var region = null;\n        var rectangle = null;\n\n        //判断城市限定参数\n        if (options.region) {\n          region = options.region;\n        }\n\n        //矩形限定坐标(暂时只支持字符串格式)\n        if (options.rectangle) {\n          rectangle = options.rectangle;\n        }\n\n        var locationsuccess = function (result) {        \n          if (region && !rectangle) {\n            //城市限定参数拼接\n            requestParam.boundary = \"region(\" + region + \",\" + auto_extend + \",\" + result.latitude + \",\" + result.longitude + \")\";\n            if (options.sig) {\n              requestParam.sig = Utils.getSig(requestParam, options.sig, 'search');\n            }\n          } else if (rectangle && !region) {\n            //矩形搜索\n            requestParam.boundary = \"rectangle(\" + rectangle + \")\";\n            if (options.sig) {\n              requestParam.sig = Utils.getSig(requestParam, options.sig, 'search');\n            }\n            } else {\n              requestParam.boundary = \"nearby(\" + result.latitude + \",\" + result.longitude + \",\" + distance + \",\" + auto_extend + \")\";\n            if (options.sig) {\n              requestParam.sig = Utils.getSig(requestParam, options.sig, 'search');\n            }\n            }            \n            wx.request(Utils.buildWxRequestConfig(options, {\n                url: URL_SEARCH,\n                data: requestParam\n            }, 'search'));\n        };\n        Utils.locationProcess(options, locationsuccess);\n    };\n\n    /**\n     * sug模糊检索\n     *\n     * @param {Object} options 接口参数对象\n     * \n     * 参数对象结构可以参考\n     * http://lbs.qq.com/webservice_v1/guide-suggestion.html\n     */\n    getSuggestion(options) {\n        var that = this;\n        options = options || {};\n        Utils.polyfillParam(options);\n\n        if (!Utils.checkKeyword(options)) {\n            return;\n        }\n\n        var requestParam = {\n            keyword: options.keyword,\n            region: options.region || '全国',\n            region_fix: options.region_fix || 0,\n            policy: options.policy || 0,\n            page_size: options.page_size || 10,//控制显示条数\n            page_index: options.page_index || 1,//控制页数\n            get_subpois : options.get_subpois || 0,//返回子地点\n            output: 'json',\n            key: that.key\n        };\n        //长地址\n        if (options.address_format) {\n          requestParam.address_format = options.address_format;\n        }\n        //过滤\n        if (options.filter) {\n          requestParam.filter = options.filter;\n        }\n        //排序\n        if (options.location) {\n          var locationsuccess = function (result) {\n            requestParam.location = result.latitude + ',' + result.longitude;\n            if (options.sig) {\n              requestParam.sig = Utils.getSig(requestParam, options.sig, 'suggest');\n            }\n            wx.request(Utils.buildWxRequestConfig(options, {\n              url: URL_SUGGESTION,\n              data: requestParam\n            }, \"suggest\"));      \n          };\n          Utils.locationProcess(options, locationsuccess);\n        } else {\n          if (options.sig) {\n            requestParam.sig = Utils.getSig(requestParam, options.sig, 'suggest');\n          }\n          wx.request(Utils.buildWxRequestConfig(options, {\n            url: URL_SUGGESTION,\n            data: requestParam\n          }, \"suggest\"));      \n        }        \n    };\n\n    /**\n     * 逆地址解析\n     *\n     * @param {Object} options 接口参数对象\n     * \n     * 请求参数结构可以参考\n     * http://lbs.qq.com/webservice_v1/guide-gcoder.html\n     */\n    reverseGeocoder(options) {\n        var that = this;\n        options = options || {};\n        Utils.polyfillParam(options);\n        var requestParam = {\n            coord_type: options.coord_type || 5,\n            get_poi: options.get_poi || 0,\n            output: 'json',\n            key: that.key\n        };\n        if (options.poi_options) {\n            requestParam.poi_options = options.poi_options\n        }\n\n        var locationsuccess = function (result) {\n            requestParam.location = result.latitude + ',' + result.longitude;\n          if (options.sig) {\n            requestParam.sig = Utils.getSig(requestParam, options.sig, 'reverseGeocoder');\n          }\n            wx.request(Utils.buildWxRequestConfig(options, {\n                url: URL_GET_GEOCODER,\n                data: requestParam\n            }, 'reverseGeocoder'));\n        };\n        Utils.locationProcess(options, locationsuccess);\n    };\n\n    /**\n     * 地址解析\n     *\n     * @param {Object} options 接口参数对象\n     * \n     * 请求参数结构可以参考\n     * http://lbs.qq.com/webservice_v1/guide-geocoder.html\n     */\n    geocoder(options) {\n        var that = this;\n        options = options || {};\n        Utils.polyfillParam(options);\n\n        if (Utils.checkParamKeyEmpty(options, 'address')) {\n            return;\n        }\n\n        var requestParam = {\n            address: options.address,\n            output: 'json',\n            key: that.key\n        };\n\n        //城市限定\n        if (options.region) {\n          requestParam.region = options.region;\n        }\n\n        if (options.sig) {\n          requestParam.sig = Utils.getSig(requestParam, options.sig, 'geocoder');\n        }\n\n        wx.request(Utils.buildWxRequestConfig(options, {\n            url: URL_GET_GEOCODER,\n            data: requestParam\n        },'geocoder'));\n    };\n\n\n    /**\n     * 获取城市列表\n     *\n     * @param {Object} options 接口参数对象\n     * \n     * 请求参数结构可以参考\n     * http://lbs.qq.com/webservice_v1/guide-region.html\n     */\n    getCityList(options) {\n        var that = this;\n        options = options || {};\n        Utils.polyfillParam(options);\n        var requestParam = {\n            output: 'json',\n            key: that.key\n        };\n\n        if (options.sig) {\n          requestParam.sig = Utils.getSig(requestParam, options.sig, 'getCityList');\n        }\n\n        wx.request(Utils.buildWxRequestConfig(options, {\n            url: URL_CITY_LIST,\n            data: requestParam\n        },'getCityList'));\n    };\n\n    /**\n     * 获取对应城市ID的区县列表\n     *\n     * @param {Object} options 接口参数对象\n     * \n     * 请求参数结构可以参考\n     * http://lbs.qq.com/webservice_v1/guide-region.html\n     */\n    getDistrictByCityId(options) {\n        var that = this;\n        options = options || {};\n        Utils.polyfillParam(options);\n\n        if (Utils.checkParamKeyEmpty(options, 'id')) {\n            return;\n        }\n\n        var requestParam = {\n            id: options.id || '',\n            output: 'json',\n            key: that.key\n        };\n\n        if (options.sig) {\n          requestParam.sig = Utils.getSig(requestParam, options.sig, 'getDistrictByCityId');\n        }\n\n        wx.request(Utils.buildWxRequestConfig(options, {\n            url: URL_AREA_LIST,\n            data: requestParam\n        },'getDistrictByCityId'));\n    };\n\n    /**\n     * 用于单起点到多终点的路线距离(非直线距离)计算：\n     * 支持两种距离计算方式：步行和驾车。\n     * 起点到终点最大限制直线距离10公里。\n     *\n     * 新增直线距离计算。\n     * \n     * @param {Object} options 接口参数对象\n     * \n     * 请求参数结构可以参考\n     * http://lbs.qq.com/webservice_v1/guide-distance.html\n     */\n    calculateDistance(options) {\n        var that = this;\n        options = options || {};\n        Utils.polyfillParam(options);\n\n        if (Utils.checkParamKeyEmpty(options, 'to')) {\n            return;\n        }\n\n        var requestParam = {\n            mode: options.mode || 'walking',\n            to: Utils.location2query(options.to),\n            output: 'json',\n            key: that.key\n        };\n\n        if (options.from) {\n          options.location = options.from;\n        }\n\n        //计算直线距离\n        if(requestParam.mode == 'straight'){        \n          var locationsuccess = function (result) {\n            var locationTo = Utils.getEndLocation(requestParam.to);//处理终点坐标\n            var data = {\n              message:\"query ok\",\n              result:{\n                elements:[]\n              },\n              status:0\n            };\n            for (var i = 0; i < locationTo.length; i++) {\n              data.result.elements.push({//将坐标存入\n                distance: Utils.getDistance(result.latitude, result.longitude, locationTo[i].lat, locationTo[i].lng),\n                duration:0,\n                from:{\n                  lat: result.latitude,\n                  lng:result.longitude\n                },\n                to:{\n                  lat: locationTo[i].lat,\n                  lng: locationTo[i].lng\n                }\n              });            \n            }\n            var calculateResult = data.result.elements;\n            var distanceResult = [];\n            for (var i = 0; i < calculateResult.length; i++) {\n              distanceResult.push(calculateResult[i].distance);\n            }  \n            return options.success(data,{\n              calculateResult: calculateResult,\n              distanceResult: distanceResult\n            });\n          };\n          \n          Utils.locationProcess(options, locationsuccess);\n        } else {\n          var locationsuccess = function (result) {\n            requestParam.from = result.latitude + ',' + result.longitude;\n            if (options.sig) {\n              requestParam.sig = Utils.getSig(requestParam, options.sig, 'calculateDistance');\n            }\n            wx.request(Utils.buildWxRequestConfig(options, {\n              url: URL_DISTANCE,\n              data: requestParam\n            },'calculateDistance'));\n          };\n\n          Utils.locationProcess(options, locationsuccess);\n        }      \n    };\n\n  /**\n   * 路线规划：\n   * \n   * @param {Object} options 接口参数对象\n   * \n   * 请求参数结构可以参考\n   * https://lbs.qq.com/webservice_v1/guide-road.html\n   */\n  direction(options) {\n    var that = this;\n    options = options || {};\n    Utils.polyfillParam(options);\n\n    if (Utils.checkParamKeyEmpty(options, 'to')) {\n      return;\n    }\n\n    var requestParam = {\n      output: 'json',\n      key: that.key\n    };\n\n    //to格式处理\n    if (typeof options.to == 'string') {\n      requestParam.to = options.to;\n    } else {\n      requestParam.to = options.to.latitude + ',' + options.to.longitude;\n    }\n    //初始化局部请求域名\n    var SET_URL_DIRECTION = null;\n    //设置默认mode属性\n    options.mode = options.mode || MODE.driving;\n\n    //设置请求域名\n    SET_URL_DIRECTION = URL_DIRECTION + options.mode;\n\n    if (options.from) {\n      options.location = options.from;\n    }\n\n    if (options.mode == MODE.driving) {\n      if (options.from_poi) {\n        requestParam.from_poi = options.from_poi;\n      }\n      if (options.heading) {\n        requestParam.heading = options.heading;\n      }\n      if (options.speed) {\n        requestParam.speed = options.speed;\n      }\n      if (options.accuracy) {\n        requestParam.accuracy = options.accuracy;\n      }\n      if (options.road_type) {\n        requestParam.road_type = options.road_type;\n      }\n      if (options.to_poi) {\n        requestParam.to_poi = options.to_poi;\n      }\n      if (options.from_track) {\n        requestParam.from_track = options.from_track;\n      }\n      if (options.waypoints) {\n        requestParam.waypoints = options.waypoints;\n      }\n      if (options.policy) {\n        requestParam.policy = options.policy;\n      }\n      if (options.plate_number) {\n        requestParam.plate_number = options.plate_number;\n      }\n    }\n\n    if (options.mode == MODE.transit) {\n      if (options.departure_time) {\n        requestParam.departure_time = options.departure_time;\n      }\n      if (options.policy) {\n        requestParam.policy = options.policy;\n      }\n    } \n\n    var locationsuccess = function (result) {\n      requestParam.from = result.latitude + ',' + result.longitude;\n      if (options.sig) {\n        requestParam.sig = Utils.getSig(requestParam, options.sig, 'direction',options.mode);\n      }\n      wx.request(Utils.buildWxRequestConfig(options, {\n        url: SET_URL_DIRECTION,\n        data: requestParam\n      }, 'direction'));\n    };\n\n    Utils.locationProcess(options, locationsuccess);\n  }\n};\n\nmodule.exports = QQMapWX;","function AMapWX(a){this.key=a.key,this.requestConfig={key:a.key,s:\"rsx\",platform:\"WXJS\",appname:a.key,sdkversion:\"1.2.0\",logversion:\"2.0\"}}AMapWX.prototype.getWxLocation=function(a,b){wx.getLocation({type:\"gcj02\",success:function(a){var c=a.longitude+\",\"+a.latitude;wx.setStorage({key:\"userLocation\",data:c}),b(c)},fail:function(c){wx.getStorage({key:\"userLocation\",success:function(a){a.data&&b(a.data)}}),a.fail({errCode:\"0\",errMsg:c.errMsg||\"\"})}})},AMapWX.prototype.getRegeo=function(a){function c(c){var d=b.requestConfig;wx.request({url:\"https://restapi.amap.com/v3/geocode/regeo\",data:{key:b.key,location:c,extensions:\"all\",s:d.s,platform:d.platform,appname:b.key,sdkversion:d.sdkversion,logversion:d.logversion},method:\"GET\",header:{\"content-type\":\"application/json\"},success:function(b){var d,e,f,g,h,i,j,k,l;b.data.status&&\"1\"==b.data.status?(d=b.data.regeocode,e=d.addressComponent,f=[],g=\"\",d&&d.roads[0]&&d.roads[0].name&&(g=d.roads[0].name+\"附近\"),h=c.split(\",\")[0],i=c.split(\",\")[1],d.pois&&d.pois[0]&&(g=d.pois[0].name+\"附近\",j=d.pois[0].location,j&&(h=parseFloat(j.split(\",\")[0]),i=parseFloat(j.split(\",\")[1]))),e.provice&&f.push(e.provice),e.city&&f.push(e.city),e.district&&f.push(e.district),e.streetNumber&&e.streetNumber.street&&e.streetNumber.number?(f.push(e.streetNumber.street),f.push(e.streetNumber.number)):(k=\"\",d&&d.roads[0]&&d.roads[0].name&&(k=d.roads[0].name),f.push(k)),f=f.join(\"\"),l=[{iconPath:a.iconPath,width:a.iconWidth,height:a.iconHeight,name:f,desc:g,longitude:h,latitude:i,id:0,regeocodeData:d}],a.success(l)):a.fail({errCode:b.data.infocode,errMsg:b.data.info})},fail:function(b){a.fail({errCode:\"0\",errMsg:b.errMsg||\"\"})}})}var b=this;a.location?c(a.location):b.getWxLocation(a,function(a){c(a)})},AMapWX.prototype.getWeather=function(a){function d(d){var e=\"base\";a.type&&\"forecast\"==a.type&&(e=\"all\"),wx.request({url:\"https://restapi.amap.com/v3/weather/weatherInfo\",data:{key:b.key,city:d,extensions:e,s:c.s,platform:c.platform,appname:b.key,sdkversion:c.sdkversion,logversion:c.logversion},method:\"GET\",header:{\"content-type\":\"application/json\"},success:function(b){function c(a){var b={city:{text:\"城市\",data:a.city},weather:{text:\"天气\",data:a.weather},temperature:{text:\"温度\",data:a.temperature},winddirection:{text:\"风向\",data:a.winddirection+\"风\"},windpower:{text:\"风力\",data:a.windpower+\"级\"},humidity:{text:\"湿度\",data:a.humidity+\"%\"}};return b}var d,e;b.data.status&&\"1\"==b.data.status?b.data.lives?(d=b.data.lives,d&&d.length>0&&(d=d[0],e=c(d),e[\"liveData\"]=d,a.success(e))):b.data.forecasts&&b.data.forecasts[0]&&a.success({forecast:b.data.forecasts[0]}):a.fail({errCode:b.data.infocode,errMsg:b.data.info})},fail:function(b){a.fail({errCode:\"0\",errMsg:b.errMsg||\"\"})}})}function e(e){wx.request({url:\"https://restapi.amap.com/v3/geocode/regeo\",data:{key:b.key,location:e,extensions:\"all\",s:c.s,platform:c.platform,appname:b.key,sdkversion:c.sdkversion,logversion:c.logversion},method:\"GET\",header:{\"content-type\":\"application/json\"},success:function(b){var c,e;b.data.status&&\"1\"==b.data.status?(e=b.data.regeocode,e.addressComponent?c=e.addressComponent.adcode:e.aois&&e.aois.length>0&&(c=e.aois[0].adcode),d(c)):a.fail({errCode:b.data.infocode,errMsg:b.data.info})},fail:function(b){a.fail({errCode:\"0\",errMsg:b.errMsg||\"\"})}})}var b=this,c=b.requestConfig;a.city?d(a.city):b.getWxLocation(a,function(a){e(a)})},AMapWX.prototype.getPoiAround=function(a){function d(d){var e={key:b.key,location:d,s:c.s,platform:c.platform,appname:b.key,sdkversion:c.sdkversion,logversion:c.logversion};a.querytypes&&(e[\"types\"]=a.querytypes),a.querykeywords&&(e[\"keywords\"]=a.querykeywords),wx.request({url:\"https://restapi.amap.com/v3/place/around\",data:e,method:\"GET\",header:{\"content-type\":\"application/json\"},success:function(b){var c,d,e,f;if(b.data.status&&\"1\"==b.data.status){if(b=b.data,b&&b.pois){for(c=[],d=0;d<b.pois.length;d++)e=0==d?a.iconPathSelected:a.iconPath,c.push({latitude:parseFloat(b.pois[d].location.split(\",\")[1]),longitude:parseFloat(b.pois[d].location.split(\",\")[0]),iconPath:e,width:22,height:32,id:d,name:b.pois[d].name,address:b.pois[d].address});f={markers:c,poisData:b.pois},a.success(f)}}else a.fail({errCode:b.data.infocode,errMsg:b.data.info})},fail:function(b){a.fail({errCode:\"0\",errMsg:b.errMsg||\"\"})}})}var b=this,c=b.requestConfig;a.location?d(a.location):b.getWxLocation(a,function(a){d(a)})},AMapWX.prototype.getStaticmap=function(a){function f(b){c.push(\"location=\"+b),a.zoom&&c.push(\"zoom=\"+a.zoom),a.size&&c.push(\"size=\"+a.size),a.scale&&c.push(\"scale=\"+a.scale),a.markers&&c.push(\"markers=\"+a.markers),a.labels&&c.push(\"labels=\"+a.labels),a.paths&&c.push(\"paths=\"+a.paths),a.traffic&&c.push(\"traffic=\"+a.traffic);var e=d+c.join(\"&\");a.success({url:e})}var e,b=this,c=[],d=\"https://restapi.amap.com/v3/staticmap?\";c.push(\"key=\"+b.key),e=b.requestConfig,c.push(\"s=\"+e.s),c.push(\"platform=\"+e.platform),c.push(\"appname=\"+e.appname),c.push(\"sdkversion=\"+e.sdkversion),c.push(\"logversion=\"+e.logversion),a.location?f(a.location):b.getWxLocation(a,function(a){f(a)})},AMapWX.prototype.getInputtips=function(a){var b=this,c=b.requestConfig,d={key:b.key,s:c.s,platform:c.platform,appname:b.key,sdkversion:c.sdkversion,logversion:c.logversion};a.location&&(d[\"location\"]=a.location),a.keywords&&(d[\"keywords\"]=a.keywords),a.type&&(d[\"type\"]=a.type),a.city&&(d[\"city\"]=a.city),a.citylimit&&(d[\"citylimit\"]=a.citylimit),wx.request({url:\"https://restapi.amap.com/v3/assistant/inputtips\",data:d,method:\"GET\",header:{\"content-type\":\"application/json\"},success:function(b){b&&b.data&&b.data.tips&&a.success({tips:b.data.tips})},fail:function(b){a.fail({errCode:\"0\",errMsg:b.errMsg||\"\"})}})},AMapWX.prototype.getDrivingRoute=function(a){var b=this,c=b.requestConfig,d={key:b.key,s:c.s,platform:c.platform,appname:b.key,sdkversion:c.sdkversion,logversion:c.logversion};a.origin&&(d[\"origin\"]=a.origin),a.destination&&(d[\"destination\"]=a.destination),a.strategy&&(d[\"strategy\"]=a.strategy),a.waypoints&&(d[\"waypoints\"]=a.waypoints),a.avoidpolygons&&(d[\"avoidpolygons\"]=a.avoidpolygons),a.avoidroad&&(d[\"avoidroad\"]=a.avoidroad),wx.request({url:\"https://restapi.amap.com/v3/direction/driving\",data:d,method:\"GET\",header:{\"content-type\":\"application/json\"},success:function(b){b&&b.data&&b.data.route&&a.success({paths:b.data.route.paths,taxi_cost:b.data.route.taxi_cost||\"\"})},fail:function(b){a.fail({errCode:\"0\",errMsg:b.errMsg||\"\"})}})},AMapWX.prototype.getWalkingRoute=function(a){var b=this,c=b.requestConfig,d={key:b.key,s:c.s,platform:c.platform,appname:b.key,sdkversion:c.sdkversion,logversion:c.logversion};a.origin&&(d[\"origin\"]=a.origin),a.destination&&(d[\"destination\"]=a.destination),wx.request({url:\"https://restapi.amap.com/v3/direction/walking\",data:d,method:\"GET\",header:{\"content-type\":\"application/json\"},success:function(b){b&&b.data&&b.data.route&&a.success({paths:b.data.route.paths})},fail:function(b){a.fail({errCode:\"0\",errMsg:b.errMsg||\"\"})}})},AMapWX.prototype.getTransitRoute=function(a){var b=this,c=b.requestConfig,d={key:b.key,s:c.s,platform:c.platform,appname:b.key,sdkversion:c.sdkversion,logversion:c.logversion};a.origin&&(d[\"origin\"]=a.origin),a.destination&&(d[\"destination\"]=a.destination),a.strategy&&(d[\"strategy\"]=a.strategy),a.city&&(d[\"city\"]=a.city),a.cityd&&(d[\"cityd\"]=a.cityd),wx.request({url:\"https://restapi.amap.com/v3/direction/transit/integrated\",data:d,method:\"GET\",header:{\"content-type\":\"application/json\"},success:function(b){if(b&&b.data&&b.data.route){var c=b.data.route;a.success({distance:c.distance||\"\",taxi_cost:c.taxi_cost||\"\",transits:c.transits})}},fail:function(b){a.fail({errCode:\"0\",errMsg:b.errMsg||\"\"})}})},AMapWX.prototype.getRidingRoute=function(a){var b=this,c=b.requestConfig,d={key:b.key,s:c.s,platform:c.platform,appname:b.key,sdkversion:c.sdkversion,logversion:c.logversion};a.origin&&(d[\"origin\"]=a.origin),a.destination&&(d[\"destination\"]=a.destination),wx.request({url:\"https://restapi.amap.com/v4/direction/bicycling\",data:d,method:\"GET\",header:{\"content-type\":\"application/json\"},success:function(b){b&&b.data&&b.data.data&&a.success({paths:b.data.data.paths})},fail:function(b){a.fail({errCode:\"0\",errMsg:b.errMsg||\"\"})}})},module.exports.AMapWX=AMapWX;","export default [\r\n\t{\r\n\t\t// app设计\r\n\t\t\"appImg\" :[\r\n\t\t\t{\r\n\t\t\t\tprice: 1,\r\n\t\t\t\ttitle: 'App首页设计',\r\n\t\t\t\tshop: '百度图片',\r\n\t\t\t\ttype: 'APP设计',\r\n\t\t\t\timage: 'https://cdn.zhoukaiwen.com/webapp.jpg',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tprice: 2,\r\n\t\t\t\ttitle: '「智慧社区」APP首页设计',\r\n\t\t\t\tshop: '项目UI设计',\r\n\t\t\t\ttype: 'APP设计',\r\n\t\t\t\timage: 'https://cdn.zhoukaiwen.com/sj_zhsq.jpeg',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tprice: 3,\r\n\t\t\t\ttitle: '「插画风格」App设计',\r\n\t\t\t\tshop: 'UI设计达人',\r\n\t\t\t\ttype: 'APP设计',\r\n\t\t\t\timage: 'https://cdn.zhoukaiwen.com/sj_appch1.png',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tprice: 4,\r\n\t\t\t\ttitle: '「插画风格」App设计',\r\n\t\t\t\tshop: 'UI设计达人',\r\n\t\t\t\ttype: 'APP设计',\r\n\t\t\t\timage: 'https://cdn.zhoukaiwen.com/sj_appch2.png',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tprice: 5,\r\n\t\t\t\ttitle: '「插画风格」App设计',\r\n\t\t\t\tshop: 'UI设计达人',\r\n\t\t\t\ttype: 'APP设计',\r\n\t\t\t\timage: 'https://cdn.zhoukaiwen.com/sj_appch3.png',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tprice: 6,\r\n\t\t\t\ttitle: '「商城类」App/移动端设计',\r\n\t\t\t\tshop: '项目UI设计',\r\n\t\t\t\ttype: 'APP设计',\r\n\t\t\t\timage: 'https://cdn.zhoukaiwen.com/sj_tyshop.png',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tprice: 7,\r\n\t\t\t\ttitle: '移动端「签到」单页面设计',\r\n\t\t\t\tshop: '项目UI设计',\r\n\t\t\t\ttype: 'APP设计',\r\n\t\t\t\timage: 'https://cdn.zhoukaiwen.com/psketch.png',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tprice: 8,\r\n\t\t\t\ttitle: '移动端「咨询」单页面设计',\r\n\t\t\t\tshop: '项目UI设计',\r\n\t\t\t\ttype: 'APP设计',\r\n\t\t\t\timage: 'https://cdn.zhoukaiwen.com/sj_zx.jpg',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tprice: 9,\r\n\t\t\t\ttitle: '移动端「实名认证1」单页面设计',\r\n\t\t\t\tshop: '项目UI设计',\r\n\t\t\t\ttype: 'APP设计',\r\n\t\t\t\timage: 'https://cdn.zhoukaiwen.com/sj_smrz.jpg',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tprice: 10,\r\n\t\t\t\ttitle: '移动端「排行榜」单页面设计',\r\n\t\t\t\tshop: '项目UI设计',\r\n\t\t\t\ttype: 'APP设计',\r\n\t\t\t\timage: 'https://cdn.zhoukaiwen.com/sj_appphb1.jpg',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tprice: 11,\r\n\t\t\t\ttitle: '「电商」App页面设计',\r\n\t\t\t\tshop: '项目UI设计',\r\n\t\t\t\ttype: 'APP设计',\r\n\t\t\t\timage: 'https://cdn.zhoukaiwen.com/sj_appshop.jpg',\r\n\t\t\t}\r\n\t\t],\r\n\t\t// pc端设计\r\n\t\t\"pcImg\" :[\r\n\t\t\t{\r\n\t\t\t\tprice: 1,\r\n\t\t\t\ttitle: '「一标三实」后台管理系统',\r\n\t\t\t\tshop: '项目UI设计',\r\n\t\t\t\ttype: 'PC设计',\r\n\t\t\t\timage: 'https://cdn.zhoukaiwen.com/ybss_jt.png',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tprice: 2,\r\n\t\t\t\ttitle: '智慧社区大数据沙盘',\r\n\t\t\t\tshop: '项目UI设计',\r\n\t\t\t\ttype: 'PC设计',\r\n\t\t\t\timage: 'https://cdn.zhoukaiwen.com/sj_zhsqsp.jpg',\r\n\t\t\t}\r\n\t\t],\r\n\t\t// logo设计\r\n\t\t\"logoImg\" :[\r\n\t\t\t{\r\n\t\t\t\tprice: 1,\r\n\t\t\t\ttitle: '科技Logo',\r\n\t\t\t\tshop: '百度图片',\r\n\t\t\t\ttype: 'Logo设计',\r\n\t\t\t\timage: 'https://cdn.zhoukaiwen.com/logo.jpeg',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tprice: 2,\r\n\t\t\t\ttitle: '设计Logo',\r\n\t\t\t\tshop: 'Kevin设计',\r\n\t\t\t\ttype: 'Logo设计',\r\n\t\t\t\timage: 'https://cdn.zhoukaiwen.com/logo.png',\r\n\t\t\t}\r\n\t\t],\r\n\t\t// 海报设计\r\n\t\t\"posterImg\" :[\r\n\t\t\t{\r\n\t\t\t\tprice: 1,\r\n\t\t\t\ttitle: '「宅家学IT」海报设计',\r\n\t\t\t\tshop: 'Kevin同学',\r\n\t\t\t\ttype: '海报设计',\r\n\t\t\t\timage: 'https://cdn.zhoukaiwen.com/zjx_hb.png',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tprice: 2,\r\n\t\t\t\ttitle: '「社区招募」海报设计',\r\n\t\t\t\tshop: '项目UI设计',\r\n\t\t\t\ttype: '海报设计',\r\n\t\t\t\timage: 'https://cdn.zhoukaiwen.com/sj_zm.jpg',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tprice: 3,\r\n\t\t\t\ttitle: '动漫风「海报背景图1」设计',\r\n\t\t\t\tshop: '项目UI设计',\r\n\t\t\t\ttype: '海报设计',\r\n\t\t\t\timage: 'https://cdn.zhoukaiwen.com/sj_hbbg1.jpg',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tprice: 4,\r\n\t\t\t\ttitle: '动漫风「海报背景图2」设计',\r\n\t\t\t\tshop: '项目UI设计',\r\n\t\t\t\ttype: '海报设计',\r\n\t\t\t\timage: 'https://cdn.zhoukaiwen.com/sj_hbbg2.jpg',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tprice: 5,\r\n\t\t\t\ttitle: '动漫风「海报背景图3」设计',\r\n\t\t\t\tshop: '项目UI设计',\r\n\t\t\t\ttype: '海报设计',\r\n\t\t\t\timage: 'https://cdn.zhoukaiwen.com/sj_hbbg3.jpg',\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n]\r\n"],"sourceRoot":""}